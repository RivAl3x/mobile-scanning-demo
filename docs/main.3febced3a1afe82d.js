var p_e=Object.defineProperty,g_e=Object.defineProperties,m_e=Object.getOwnPropertyDescriptors,sz=Object.getOwnPropertySymbols,__e=Object.prototype.hasOwnProperty,y_e=Object.prototype.propertyIsEnumerable,oz=(_r,g,x)=>g in _r?p_e(_r,g,{enumerable:!0,configurable:!0,writable:!0,value:x}):_r[g]=x,az=(_r,g)=>{for(var x in g||(g={}))__e.call(g,x)&&oz(_r,x,g[x]);if(sz)for(var x of sz(g))y_e.call(g,x)&&oz(_r,x,g[x]);return _r},uz=(_r,g)=>g_e(_r,m_e(g));(self.webpackChunkmobile_scanning_demo=self.webpackChunkmobile_scanning_demo||[]).push([[179],{896:_r=>{window,_r.exports=function(g){var x={};function l(f){if(x[f])return x[f].exports;var p=x[f]={i:f,l:!1,exports:{}};return g[f].call(p.exports,p,p.exports,l),p.l=!0,p.exports}return l.m=g,l.c=x,l.d=function(f,p,E){l.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:E})},l.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},l.t=function(f,p){if(1&p&&(f=l(f)),8&p||4&p&&"object"==typeof f&&f&&f.__esModule)return f;var E=Object.create(null);if(l.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:f}),2&p&&"string"!=typeof f)for(var b in f)l.d(E,b,function(S){return f[S]}.bind(null,b));return E},l.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return l.d(p,"a",p),p},l.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},l.p="/",l(l.s=89)}([function(g,x){g.exports=function(l,f,p){return f in l?Object.defineProperty(l,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[f]=p,l},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){function l(f){return g.exports=l=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},g.exports.default=g.exports,g.exports.__esModule=!0,l(f)}g.exports=l,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){function l(f,p){for(var E=0;E<p.length;E++){var b=p[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}g.exports=function(f,p,E){return p&&l(f.prototype,p),E&&l(f,E),f},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){var f=l(19).default,p=l(1);g.exports=function(E,b){if(b&&("object"===f(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return p(E)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){var f=l(41);g.exports=function(p,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(E&&E.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),E&&f(p,E)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){g.exports={EPSILON:l(62),create:l(63),clone:l(156),fromValues:l(157),copy:l(158),set:l(159),equals:l(160),exactEquals:l(161),add:l(162),subtract:l(64),sub:l(163),multiply:l(65),mul:l(164),divide:l(66),div:l(165),inverse:l(166),min:l(167),max:l(168),rotate:l(169),floor:l(170),ceil:l(171),round:l(172),scale:l(173),scaleAndAdd:l(174),distance:l(67),dist:l(175),squaredDistance:l(68),sqrDist:l(176),length:l(69),len:l(177),squaredLength:l(70),sqrLen:l(178),negate:l(179),normalize:l(180),dot:l(181),cross:l(182),lerp:l(183),random:l(184),transformMat2:l(185),transformMat2d:l(186),transformMat3:l(187),transformMat4:l(188),forEach:l(189),limit:l(190)}},function(g,x,l){"use strict";x.a={init:function(f,p){for(var E=f.length;E--;)f[E]=p},shuffle:function(f){for(var p=f.length-1;p>=0;p--){var E=Math.floor(Math.random()*p),b=f[p];f[p]=f[E],f[E]=b}return f},toPointList:function(f){var p=f.reduce(function(E,b){var S="[".concat(b.join(","),"]");return E.push(S),E},[]);return"[".concat(p.join(",\r\n"),"]")},threshold:function(f,p,E){return f.reduce(function(b,S){return E.apply(f,[S])>=p&&b.push(S),b},[])},maxIndex:function(f){for(var p=0,E=0;E<f.length;E++)f[E]>f[p]&&(p=E);return p},max:function(f){for(var p=0,E=0;E<f.length;E++)f[E]>p&&(p=f[E]);return p},sum:function(f){for(var p=f.length,E=0;p--;)E+=f[p];return E}}},function(g,x,l){"use strict";l.d(x,"h",function(){return ee}),l.d(x,"i",function(){return ue}),l.d(x,"b",function(){return Ve}),l.d(x,"j",function(){return we}),l.d(x,"e",function(){return Me}),l.d(x,"c",function(){return _e}),l.d(x,"f",function(){return X}),l.d(x,"g",function(){return j}),l.d(x,"a",function(){return oe}),l.d(x,"d",function(){return ge});var f=l(7),p=l(84),E={clone:f.clone,dot:f.dot},b=function(Z,Y){var se=[],z={rad:0,vec:E.clone([0,0])},fe={};function U(W){fe[W.id]=W,se.push(W)}function H(){var W,re=0;for(W=0;W<se.length;W++)re+=se[W].rad;z.rad=re/se.length,z.vec=E.clone([Math.cos(z.rad),Math.sin(z.rad)])}return U(Z),H(),{add:function(W){fe[W.id]||(U(W),H())},fits:function(W){return Math.abs(E.dot(W.point.vec,z.vec))>Y},getPoints:function(){return se},getCenter:function(){return z}}},S=function(Z,Y,se){return{rad:Z[se],point:Z,id:Y}},O=l(8),L={clone:f.clone},F={clone:p.clone};function ee(Z,Y){return{x:Z,y:Y,toVec2:function(){return L.clone([this.x,this.y])},toVec3:function(){return F.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ie(Z,Y){Y||(Y=8);for(var se=Z.data,z=se.length,fe=8-Y,U=new Int32Array(1<<Y);z--;)U[se[z]>>fe]++;return U}function ue(Z,Y){var se=function(z){var fe,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,H=8-U;function W(Re,Ue){for(var Be=0,Ie=Re;Ie<=Ue;Ie++)Be+=fe[Ie];return Be}function re(Re,Ue){for(var Be=0,Ie=Re;Ie<=Ue;Ie++)Be+=Ie*fe[Ie];return Be}function ne(){var Re,Ue,Be,Ie,Ae=[0],je=(1<<U)-1;fe=ie(z,U);for(var Ne=1;Ne<je;Ne++)0==(Be=(Re=W(0,Ne))*(Ue=W(Ne+1,je)))&&(Be=1),Ie=re(0,Ne)*Ue-re(Ne+1,je)*Re,Ae[Ne]=Ie*Ie/Be;return O.a.maxIndex(Ae)}return ne()<<H}(Z);return function(z,fe,U){U||(U=z);for(var H=z.data,W=H.length,re=U.data;W--;)re[W]=H[W]<fe?1:0}(Z,se,Y),se}function Ve(Z,Y,se){var z,fe,U,H,W=[];function re(ne){var me=!1;for(fe=0;fe<W.length;fe++)(U=W[fe]).fits(ne)&&(U.add(ne),me=!0);return me}for(se||(se="rad"),z=0;z<Z.length;z++)re(H=S(Z[z],z,se))||W.push(b(H,Y));return W}function we(Z,Y,se){var z,fe,U,H,W=0,re=0,ne=[];for(z=0;z<Y;z++)ne[z]={score:0,item:null};for(z=0;z<Z.length;z++)if((fe=se.apply(this,[Z[z]]))>re)for((U=ne[W]).score=fe,U.item=Z[z],re=Number.MAX_VALUE,H=0;H<Y;H++)ne[H].score<re&&(re=ne[H].score,W=H);return ne}function Me(Z,Y,se){for(var z,fe=0,U=Y.x,H=Math.floor(Z.length/4),W=Y.x/2,re=0,ne=Y.x;U<H;){for(z=0;z<W;z++)se[re]=(.299*Z[4*fe+0]+.587*Z[4*fe+1]+.114*Z[4*fe+2]+(.299*Z[4*(fe+1)+0]+.587*Z[4*(fe+1)+1]+.114*Z[4*(fe+1)+2])+(.299*Z[4*U+0]+.587*Z[4*U+1]+.114*Z[4*U+2])+(.299*Z[4*(U+1)+0]+.587*Z[4*(U+1)+1]+.114*Z[4*(U+1)+2]))/4,re++,fe+=2,U+=2;fe+=ne,U+=ne}}function _e(Z,Y,se){var z=Z.length/4|0;if(se&&!0===se.singleChannel)for(var fe=0;fe<z;fe++)Y[fe]=Z[4*fe+0];else for(var U=0;U<z;U++)Y[U]=.299*Z[4*U+0]+.587*Z[4*U+1]+.114*Z[4*U+2]}function X(Z,Y){for(var se=Z.data,z=Z.size.x,fe=Y.data,U=0,H=z,W=se.length,re=z/2,ne=0;H<W;){for(var me=0;me<re;me++)fe[ne]=Math.floor((se[U]+se[U+1]+se[H]+se[H+1])/4),ne++,U+=2,H+=2;U+=z,H+=z}}function j(Z){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],se=Z[0],fe=Z[2],U=fe*Z[1],H=U*(1-Math.abs(se/60%2-1)),W=fe-U,re=0,ne=0,me=0;return se<60?(re=U,ne=H):se<120?(re=H,ne=U):se<180?(ne=U,me=H):se<240?(ne=H,me=U):se<300?(re=H,me=U):se<360&&(re=U,me=H),Y[0]=255*(re+W)|0,Y[1]=255*(ne+W)|0,Y[2]=255*(me+W)|0,Y}function te(Z){for(var Y=[],se=[],z=1;z<Math.sqrt(Z)+1;z++)Z%z==0&&(se.push(z),z!==Z/z&&Y.unshift(Math.floor(Z/z)));return se.concat(Y)}function oe(Z,Y){var se,z=te(Y.x),fe=te(Y.y),U=Math.max(Y.x,Y.y),H=function(Be,Ie){for(var Ae=0,je=0,Ne=[];Ae<Be.length&&je<Ie.length;)Be[Ae]===Ie[je]?(Ne.push(Be[Ae]),Ae++,je++):Be[Ae]>Ie[je]?je++:Ae++;return Ne}(z,fe),W=[8,10,15,20,32,60,80],re={"x-small":5,small:4,medium:3,large:2,"x-large":1},ne=re[Z]||re.medium,me=W[ne],Re=Math.floor(U/me);function Ue(Be){for(var Ie=0,Ae=Be[Math.floor(Be.length/2)];Ie<Be.length-1&&Be[Ie]<Re;)Ie++;return Ie>0&&(Ae=Math.abs(Be[Ie]-Re)>Math.abs(Be[Ie-1]-Re)?Be[Ie-1]:Be[Ie]),Re/Ae<W[ne+1]/W[ne]&&Re/Ae>W[ne-1]/W[ne]?{x:Ae,y:Ae}:null}return(se=Ue(H))||(se=Ue(te(U)))||(se=Ue(te(Re*me))),se}var Ee={top:function(Z,Y){return"%"===Z.unit?Math.floor(Y.height*(Z.value/100)):null},right:function(Z,Y){return"%"===Z.unit?Math.floor(Y.width-Y.width*(Z.value/100)):null},bottom:function(Z,Y){return"%"===Z.unit?Math.floor(Y.height-Y.height*(Z.value/100)):null},left:function(Z,Y){return"%"===Z.unit?Math.floor(Y.width*(Z.value/100)):null}};function ge(Z,Y,se){var z={width:Z,height:Y},fe=Object.keys(se).reduce(function(U,H){var ne,W=(ne=se[H],{value:parseFloat(ne),unit:(ne.indexOf("%"),"%")}),re=Ee[H](W,z);return U[H]=re,U},{});return{sx:fe.left,sy:fe.top,sw:fe.right-fe.left,sh:fe.bottom-fe.top}}},function(g,x,l){"use strict";var f=l(83),p=l.n(f),E=l(3),b=l.n(E),S=l(4),O=l.n(S),L=l(0),F=l.n(L),ee=l(7),ie=l(9),ue=l(8),Ve={clone:ee.clone};function we(_e){if(_e<0)throw new Error("expected positive number, received ".concat(_e))}var Me=function(){function _e(X,j){var te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,oe=arguments.length>3?arguments[3]:void 0;b()(this,_e),F()(this,"data",void 0),F()(this,"size",void 0),F()(this,"indexMapping",void 0),j?this.data=j:(this.data=new te(X.x*X.y),oe&&ue.a.init(this.data,0)),this.size=X}return O()(_e,[{key:"inImageWithBorder",value:function(X){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return we(j),X.x>=0&&X.y>=0&&X.x<this.size.x+2*j&&X.y<this.size.y+2*j}},{key:"subImageAsCopy",value:function(X,j){we(j.x),we(j.y);for(var te=X.size,oe=te.x,Ee=te.y,ge=0;ge<oe;ge++)for(var Z=0;Z<Ee;Z++)X.data[Z*oe+ge]=this.data[(j.y+Z)*this.size.x+j.x+ge];return X}},{key:"get",value:function(X,j){return this.data[j*this.size.x+X]}},{key:"getSafe",value:function(X,j){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var te=0;te<this.size.x;te++)this.indexMapping.x[te]=te,this.indexMapping.x[te+this.size.x]=te;for(var oe=0;oe<this.size.y;oe++)this.indexMapping.y[oe]=oe,this.indexMapping.y[oe+this.size.y]=oe}return this.data[this.indexMapping.y[j+this.size.y]*this.size.x+this.indexMapping.x[X+this.size.x]]}},{key:"set",value:function(X,j,te){return this.data[j*this.size.x+X]=te,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var X=this.size,j=X.x,te=X.y,oe=0;oe<j;oe++)this.data[oe]=this.data[(te-1)*j+oe]=0;for(var Ee=1;Ee<te-1;Ee++)this.data[Ee*j]=this.data[Ee*j+(j-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(X){var j,te,oe,Ee,ge,Z,Y,se,z,fe,U=this.data,H=this.size.y,W=this.size.x,re=[],ne=[],me=Math.PI,Re=me/4;if(X<=0)return ne;for(ge=0;ge<X;ge++)re[ge]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(te=0;te<H;te++)for(Ee=te*te,j=0;j<W;j++)(oe=U[te*W+j])>0&&((Z=re[oe-1]).m00+=1,Z.m01+=te,Z.m10+=j,Z.m11+=j*te,Z.m02+=Ee,Z.m20+=j*j);for(ge=0;ge<X;ge++)Z=re[ge],isNaN(Z.m00)||0===Z.m00||(fe=(Z.m02/Z.m00-(z=Z.m01/Z.m00)*z-(Z.m20/Z.m00-(se=Z.m10/Z.m00)*se))/(2*(Y=Z.m11/Z.m00-se*z)),fe=.5*Math.atan(fe)+(Y>=0?Re:-Re)+me,Z.theta=(180*fe/me+90)%180-90,Z.theta<0&&(Z.theta+=180),Z.rad=fe>me?fe-me:fe,Z.vec=Ve.clone([Math.cos(fe),Math.sin(fe)]),ne.push(Z));return ne}},{key:"getAsRGBA",value:function(){for(var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,j=new Uint8ClampedArray(4*this.size.x*this.size.y),te=0;te<this.size.y;te++)for(var oe=0;oe<this.size.x;oe++){var Ee=te*this.size.x+oe,ge=this.get(oe,te)*X;j[4*Ee+0]=ge,j[4*Ee+1]=ge,j[4*Ee+2]=ge,j[4*Ee+3]=255}return j}},{key:"show",value:function(X){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,te=X.getContext("2d");if(!te)throw new Error("Unable to get canvas context");var oe=te.getImageData(0,0,X.width,X.height),Ee=this.getAsRGBA(j);X.width=this.size.x,X.height=this.size.y;var ge=new ImageData(Ee,oe.width,oe.height);te.putImageData(ge,0,0)}},{key:"overlay",value:function(X,j,te){var oe=j<0||j>360?360:j,Ee=[0,1,1],ge=[0,0,0],Z=[255,255,255],Y=[0,0,0],se=X.getContext("2d");if(!se)throw new Error("Unable to get canvas context");for(var z=se.getImageData(te.x,te.y,this.size.x,this.size.y),fe=z.data,U=this.data.length;U--;){Ee[0]=this.data[U]*oe;var H=4*U,W=Ee[0]<=0?Z:Ee[0]>=360?Y:Object(ie.g)(Ee,ge),re=p()(W,3);fe[H]=re[0],fe[H+1]=re[1],fe[H+2]=re[2],fe[H+3]=255}se.putImageData(z,te.x,te.y)}}]),_e}();x.a=Me},function(g,x,l){g.exports=l(228)},function(g,x,l){var f=l(227);function p(E,b,S){return"undefined"!=typeof Reflect&&Reflect.get?(g.exports=p=Reflect.get,g.exports.default=g.exports,g.exports.__esModule=!0):(g.exports=p=function(O,L,F){var ee=f(O,L);if(ee){var ie=Object.getOwnPropertyDescriptor(ee,L);return ie.get?ie.get.call(F):ie.value}},g.exports.default=g.exports,g.exports.__esModule=!0),p(E,b,S||E)}g.exports=p,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l){var f=typeof l;return null!=l&&("object"==f||"function"==f)}},function(g,x){g.exports=Array.isArray},function(g,x,l){"use strict";x.a={drawRect:function(f,p,E,b){E.strokeStyle=b.color,E.fillStyle=b.color,E.lineWidth=b.lineWidth||1,E.beginPath(),E.strokeRect(f.x,f.y,p.x,p.y)},drawPath:function(f,p,E,b){E.strokeStyle=b.color,E.fillStyle=b.color,E.lineWidth=b.lineWidth,E.beginPath(),E.moveTo(f[0][p.x],f[0][p.y]);for(var S=1;S<f.length;S++)E.lineTo(f[S][p.x],f[S][p.y]);E.closePath(),E.stroke()},drawImage:function(f,p,E){var b=E.getImageData(0,0,p.x,p.y),S=b.data,O=S.length,L=f.length;if(O/L!=4)return!1;for(;L--;){var F=f[L];S[--O]=255,S[--O]=F,S[--O]=F,S[--O]=F}return E.putImageData(b,0,0),!0}}},function(g,x,l){var f=l(90),p=l(145)(function(E,b,S){f(E,b,S)});g.exports=p},function(g,x,l){var f=l(45),p="object"==typeof self&&self&&self.Object===Object&&self,E=f||p||Function("return this")();g.exports=E},function(g,x){g.exports=function(l){return null!=l&&"object"==typeof l}},function(g,x){function l(f){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(g.exports=l=function(p){return typeof p},g.exports.default=g.exports,g.exports.__esModule=!0):(g.exports=l=function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},g.exports.default=g.exports,g.exports.__esModule=!0),l(f)}g.exports=l,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){function l(f,p,E,b,S,O,L){try{var F=f[O](L),ee=F.value}catch(ie){return void E(ie)}F.done?p(ee):Promise.resolve(ee).then(b,S)}g.exports=function(f){return function(){var p=this,E=arguments;return new Promise(function(b,S){var O=f.apply(p,E);function L(ee){l(O,b,S,L,F,"next",ee)}function F(ee){l(O,b,S,L,F,"throw",ee)}L(void 0)})}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){"use strict";x.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(f,p){var E,b=f.data,S=p.data,O=this.searchDirections,L=f.size.x;function F(ie,ue,Ve,we){var Me,_e,X;for(Me=0;Me<7;Me++){if(b[E=(_e=ie.cy+O[ie.dir][0])*L+(X=ie.cx+O[ie.dir][1])]===ue&&(0===S[E]||S[E]===Ve))return S[E]=Ve,ie.cy=_e,ie.cx=X,!0;0===S[E]&&(S[E]=we),ie.dir=(ie.dir+1)%8}return!1}function ee(ie,ue,Ve){return{dir:Ve,x:ie,y:ue,next:null,prev:null}}return{trace:function(ie,ue,Ve,we){return F(ie,ue,Ve,we)},contourTracing:function(ie,ue,Ve,we,Me){return function(_e,X,j,te,oe){var Ee,ge,Z,Y=null,se={cx:X,cy:_e,dir:0};if(F(se,te,j,oe)){Ee=Y=ee(X,_e,se.dir),Z=se.dir,(ge=ee(se.cx,se.cy,0)).prev=Ee,Ee.next=ge,ge.next=null,Ee=ge;do{se.dir=(se.dir+6)%8,F(se,te,j,oe),Z!==se.dir?(Ee.dir=se.dir,(ge=ee(se.cx,se.cy,0)).prev=Ee,Ee.next=ge,ge.next=null,Ee=ge):(Ee.dir=Z,Ee.x=se.cx,Ee.y=se.cy),Z=se.dir}while(se.cx!==X||se.cy!==_e);Y.prev=Ee.prev,Ee.prev.next=Y}return Y}(ie,ue,Ve,we,Me)}}}}},function(g,x,l){var f=l(27),p=l(103),E=l(104),b=f?f.toStringTag:void 0;g.exports=function(S){return null==S?void 0===S?"[object Undefined]":"[object Null]":b&&b in Object(S)?p(S):E(S)}},function(g,x,l){"use strict";(function(f){var p,E,b,S,O,L,F,ee,ie,ue,Ve,we,Me=l(7),_e=l(34),X=l(10),j=l(9),te=l(8),oe=(l(15),l(87)),Ee=l(21),ge=l(88),Z={ctx:{binary:null},dom:{binary:null}},Y={x:0,y:0};function se(U){var H,W,re,ne,me,Re,Ue,Be=ie.size.x,Ie=ie.size.y,Ae=-ie.size.x,je=-ie.size.y;for(H=0,W=0;W<U.length;W++)H+=(ne=U[W]).rad;for((H=(180*(H/=U.length)/Math.PI+90)%180-90)<0&&(H+=180),H=(180-H)*Math.PI/180,me=_e.copy(_e.create(),[Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H)]),W=0;W<U.length;W++)for(ne=U[W],re=0;re<4;re++)Me.transformMat2(ne.box[re],ne.box[re],me);for(W=0;W<U.length;W++)for(ne=U[W],re=0;re<4;re++)ne.box[re][0]<Be&&(Be=ne.box[re][0]),ne.box[re][0]>Ae&&(Ae=ne.box[re][0]),ne.box[re][1]<Ie&&(Ie=ne.box[re][1]),ne.box[re][1]>je&&(je=ne.box[re][1]);for(Re=[[Be,Ie],[Ae,Ie],[Ae,je],[Be,je]],Ue=p.halfSample?2:1,me=_e.invert(me,me),re=0;re<4;re++)Me.transformMat2(Re[re],Re[re],me);for(re=0;re<4;re++)Me.scale(Re[re],Re[re],Ue);return Re}function z(U,H){ie.subImageAsCopy(S,Object(j.h)(U,H)),we.skeletonize()}function fe(U,H,W,re){var ne,me,Re,Ue,Be=[],Ie=[],Ae=Math.ceil(ue.x/3);if(U.length>=2){for(ne=0;ne<U.length;ne++)U[ne].m00>Ae&&Be.push(U[ne]);if(Be.length>=2){for(Re=function(je){var Ne=Object(j.b)(je,.9),bn=Object(j.j)(Ne,1,function(Ts){return Ts.getPoints().length}),un=[],$t=[];if(1===bn.length){un=bn[0].item.getPoints();for(var qn=0;qn<un.length;qn++)$t.push(un[qn].point)}return $t}(Be),me=0,ne=0;ne<Re.length;ne++)me+=Re[ne].rad;Re.length>1&&Re.length>=Be.length/4*3&&Re.length>U.length/4&&(me/=Re.length,Ue={index:H[1]*Y.x+H[0],pos:{x:W,y:re},box:[Me.clone([W,re]),Me.clone([W+S.size.x,re]),Me.clone([W+S.size.x,re+S.size.y]),Me.clone([W,re+S.size.y])],moments:Re,rad:me,vec:Me.clone([Math.cos(me),Math.sin(me)])},Ie.push(Ue))}}return Ie}x.a={init:function(U,H){p=H,Ve=U,function(){E=p.halfSample?new X.a({x:Ve.size.x/2|0,y:Ve.size.y/2|0}):Ve,ue=Object(j.a)(p.patchSize,E.size),Y.x=E.size.x/ue.x|0,Y.y=E.size.y/ue.y|0,ie=new X.a(E.size,void 0,Uint8Array,!1),O=new X.a(ue,void 0,Array,!0);var W=new ArrayBuffer(65536);S=new X.a(ue,new Uint8Array(W,0,ue.x*ue.y)),b=new X.a(ue,new Uint8Array(W,ue.x*ue.y*3,ue.x*ue.y),void 0,!0),we=Object(ge.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:f,{size:ue.x},W),ee=new X.a({x:E.size.x/S.size.x|0,y:E.size.y/S.size.y|0},void 0,Array,!0),L=new X.a(ee.size,void 0,void 0,!0),F=new X.a(ee.size,void 0,Int32Array,!0)}(),p.useWorker||"undefined"==typeof document||(Z.dom.binary=document.createElement("canvas"),Z.dom.binary.className="binaryBuffer",Z.ctx.binary=Z.dom.binary.getContext("2d"),Z.dom.binary.width=ie.size.x,Z.dom.binary.height=ie.size.y)},locate:function(){p.halfSample&&Object(j.f)(Ve,E),Object(j.i)(E,ie),ie.zeroBorder();var U=function(){var re,ne,me,Re,Ue,Be,Ie=[];for(re=0;re<Y.x;re++)for(ne=0;ne<Y.y;ne++)z(me=S.size.x*re,Re=S.size.y*ne),b.zeroBorder(),te.a.init(O.data,0),Be=oe.a.create(b,O).rasterize(0),Ue=O.moments(Be.count),Ie=Ie.concat(fe(Ue,[re,ne],me,Re));return Ie}();if(U.length<Y.x*Y.y*.05)return null;var H=function(re){var ne,me,Re=0,Ue=0;function Be(){var Ae;for(Ae=0;Ae<F.data.length;Ae++)if(0===F.data[Ae]&&1===L.data[Ae])return Ae;return F.length}function Ie(Ae){var bn,un,$t,qn=Ae%F.size.x,Ts=Ae/F.size.x|0;if(Ae<F.data.length)for(bn=ee.data[Ae],F.data[Ae]=Re,$t=0;$t<Ee.a.searchDirections.length;$t++)0!==L.data[un=(Ts+Ee.a.searchDirections[$t][0])*F.size.x+(qn+Ee.a.searchDirections[$t][1])]?0===F.data[un]&&Math.abs(Me.dot(ee.data[un].vec,bn.vec))>.95&&Ie(un):F.data[un]=Number.MAX_VALUE}for(te.a.init(L.data,0),te.a.init(F.data,0),te.a.init(ee.data,null),ne=0;ne<re.length;ne++)ee.data[(me=re[ne]).index]=me,L.data[me.index]=1;for(L.zeroBorder();(Ue=Be())<F.data.length;)Re++,Ie(Ue);return Re}(U);if(H<1)return null;var W=function(re){var ne,me,Re=[];for(ne=0;ne<re;ne++)Re.push(0);for(me=F.data.length;me--;)F.data[me]>0&&Re[F.data[me]-1]++;return(Re=Re.map(function(Ue,Be){return{val:Ue,label:Be+1}})).sort(function(Ue,Be){return Be.val-Ue.val}),Re.filter(function(Ue){return Ue.val>=5})}(H);return 0===W.length?null:function(re,ne){var me,Re,Be,Ie=[],Ae=[];for(me=0;me<re.length;me++){for(Re=F.data.length,Ie.length=0;Re--;)F.data[Re]===re[me].label&&Ie.push(ee.data[Re]);(Be=se(Ie))&&Ae.push(Be)}return Ae}(W)},checkImageConstraints:function(U,H){var W,re,ne=U.getWidth(),me=U.getHeight(),Re=H.halfSample?.5:1;U.getConfig().area&&(re=Object(j.d)(ne,me,U.getConfig().area),U.setTopRight({x:re.sx,y:re.sy}),U.setCanvasSize({x:ne,y:me}),ne=re.sw,me=re.sh);var Ue={x:Math.floor(ne*Re),y:Math.floor(me*Re)};if(W=Object(j.a)(H.patchSize,Ue),U.setWidth(Math.floor(Math.floor(Ue.x/W.x)*(1/Re)*W.x)),U.setHeight(Math.floor(Math.floor(Ue.y/W.y)*(1/Re)*W.y)),U.getWidth()%W.x==0&&U.getHeight()%W.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ne," )and height (").concat(me,") must a multiple of ").concat(W.x))}}}).call(this,l(46))},function(g,x,l){var f=l(92),p=l(93),E=l(94),b=l(95),S=l(96);function O(L){var F=-1,ee=null==L?0:L.length;for(this.clear();++F<ee;){var ie=L[F];this.set(ie[0],ie[1])}}O.prototype.clear=f,O.prototype.delete=p,O.prototype.get=E,O.prototype.has=b,O.prototype.set=S,g.exports=O},function(g,x,l){var f=l(26);g.exports=function(p,E){for(var b=p.length;b--;)if(f(p[b][0],E))return b;return-1}},function(g,x){g.exports=function(l,f){return l===f||l!=l&&f!=f}},function(g,x,l){var f=l(17).Symbol;g.exports=f},function(g,x,l){var f=l(35)(Object,"create");g.exports=f},function(g,x,l){var f=l(117);g.exports=function(p,E){var b=p.__data__;return f(E)?b["string"==typeof E?"string":"hash"]:b.map}},function(g,x,l){var f=l(132),p=l(18),E=Object.prototype,b=E.hasOwnProperty,S=E.propertyIsEnumerable,O=f(function(){return arguments}())?f:function(L){return p(L)&&b.call(L,"callee")&&!S.call(L,"callee")};g.exports=O},function(g,x){var l=/^(?:0|[1-9]\d*)$/;g.exports=function(f,p){var E=typeof f;return!!(p=null==p?9007199254740991:p)&&("number"==E||"symbol"!=E&&l.test(f))&&f>-1&&f%1==0&&f<p}},function(g,x,l){var f=l(14),p=l(232),E=l(233),b=l(236);g.exports=function(S,O){return f(S)?S:p(S,O)?[S]:E(b(S))}},function(g,x,l){var f=l(224),p=l(225),E=l(60),b=l(226);g.exports=function(S){return f(S)||p(S)||E(S)||b()},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){g.exports={determinant:l(251),transpose:l(252),multiply:l(253),identity:l(254),adjoint:l(255),rotate:l(256),invert:l(257),create:l(258),scale:l(259),copy:l(260),frob:l(261),ldu:l(262)}},function(g,x,l){var f=l(102),p=l(108);g.exports=function(E,b){var S=p(E,b);return f(S)?S:void 0}},function(g,x,l){var f=l(22),p=l(13);g.exports=function(E){if(!p(E))return!1;var b=f(E);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}},function(g,x,l){var f=l(49);g.exports=function(p,E,b){"__proto__"==E&&f?f(p,E,{configurable:!0,enumerable:!0,value:b,writable:!0}):p[E]=b}},function(g,x){g.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),l.webpackPolyfill=1),l}},function(g,x,l){var f=l(36),p=l(40);g.exports=function(E){return null!=E&&p(E.length)&&!f(E)}},function(g,x){g.exports=function(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991}},function(g,x){function l(f,p){return g.exports=l=Object.setPrototypeOf||function(E,b){return E.__proto__=b,E},g.exports.default=g.exports,g.exports.__esModule=!0,l(f,p)}g.exports=l,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){var f=l(22),p=l(18);g.exports=function(E){return"symbol"==typeof E||p(E)&&"[object Symbol]"==f(E)}},function(g,x,l){var f=l(42);g.exports=function(p){if("string"==typeof p||f(p))return p;var E=p+"";return"0"==E&&1/p==-1/0?"-0":E}},function(g,x,l){var f=l(35)(l(17),"Map");g.exports=f},function(g,x,l){(function(f){g.exports="object"==typeof f&&f&&f.Object===Object&&f}).call(this,l(46))},function(g,x){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch(f){"object"==typeof window&&(l=window)}g.exports=l},function(g,x,l){var f=l(109),p=l(116),E=l(118),b=l(119),S=l(120);function O(L){var F=-1,ee=null==L?0:L.length;for(this.clear();++F<ee;){var ie=L[F];this.set(ie[0],ie[1])}}O.prototype.clear=f,O.prototype.delete=p,O.prototype.get=E,O.prototype.has=b,O.prototype.set=S,g.exports=O},function(g,x,l){var f=l(37),p=l(26);g.exports=function(E,b,S){(void 0!==S&&!p(E[b],S)||void 0===S&&!(b in E))&&f(E,b,S)}},function(g,x,l){var f=l(35),p=function(){try{var E=f(Object,"defineProperty");return E({},"",{}),E}catch(b){}}();g.exports=p},function(g,x,l){var f=l(131)(Object.getPrototypeOf,Object);g.exports=f},function(g,x){var l=Object.prototype;g.exports=function(f){var p=f&&f.constructor;return f===("function"==typeof p&&p.prototype||l)}},function(g,x,l){(function(f){var p=l(17),E=l(134),b=x&&!x.nodeType&&x,S=b&&"object"==typeof f&&f&&!f.nodeType&&f,O=S&&S.exports===b?p.Buffer:void 0;f.exports=(O?O.isBuffer:void 0)||E}).call(this,l(38)(g))},function(g,x,l){var f=l(136),p=l(137),E=l(138),b=E&&E.isTypedArray,S=b?p(b):f;g.exports=S},function(g,x){g.exports=function(l,f){if(("constructor"!==f||"function"!=typeof l[f])&&"__proto__"!=f)return l[f]}},function(g,x,l){var f=l(37),p=l(26),E=Object.prototype.hasOwnProperty;g.exports=function(b,S,O){var L=b[S];E.call(b,S)&&p(L,O)&&(void 0!==O||S in b)||f(b,S,O)}},function(g,x,l){var f=l(141),p=l(143),E=l(39);g.exports=function(b){return E(b)?f(b,!0):p(b)}},function(g,x){g.exports=function(l){return l}},function(g,x,l){var f=l(147),p=Math.max;g.exports=function(E,b,S){return b=p(void 0===b?E.length-1:b,0),function(){for(var O=arguments,L=-1,F=p(O.length-b,0),ee=Array(F);++L<F;)ee[L]=O[b+L];L=-1;for(var ie=Array(b+1);++L<b;)ie[L]=O[L];return ie[b]=S(ee),f(E,this,ie)}}},function(g,x,l){var f=l(148),p=l(150)(f);g.exports=p},function(g,x,l){var f=l(61);g.exports=function(p,E){if(p){if("string"==typeof p)return f(p,E);var b=Object.prototype.toString.call(p).slice(8,-1);return"Object"===b&&p.constructor&&(b=p.constructor.name),"Map"===b||"Set"===b?Array.from(p):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?f(p,E):void 0}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l,f){(null==f||f>l.length)&&(f=l.length);for(var p=0,E=new Array(f);p<f;p++)E[p]=l[p];return E},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=1e-6},function(g,x){g.exports=function(){var l=new Float32Array(2);return l[0]=0,l[1]=0,l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]-p[0],l[1]=f[1]-p[1],l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]*p[0],l[1]=f[1]*p[1],l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]/p[0],l[1]=f[1]/p[1],l}},function(g,x){g.exports=function(l,f){var p=f[0]-l[0],E=f[1]-l[1];return Math.sqrt(p*p+E*E)}},function(g,x){g.exports=function(l,f){var p=f[0]-l[0],E=f[1]-l[1];return p*p+E*E}},function(g,x){g.exports=function(l){var f=l[0],p=l[1];return Math.sqrt(f*f+p*p)}},function(g,x){g.exports=function(l){var f=l[0],p=l[1];return f*f+p*p}},function(g,x){g.exports=1e-6},function(g,x){g.exports=function(){var l=new Float32Array(3);return l[0]=0,l[1]=0,l[2]=0,l}},function(g,x){g.exports=function(l,f,p){var E=new Float32Array(3);return E[0]=l,E[1]=f,E[2]=p,E}},function(g,x){g.exports=function(l,f){var p=f[0],E=f[1],b=f[2],S=p*p+E*E+b*b;return S>0&&(S=1/Math.sqrt(S),l[0]=f[0]*S,l[1]=f[1]*S,l[2]=f[2]*S),l}},function(g,x){g.exports=function(l,f){return l[0]*f[0]+l[1]*f[1]+l[2]*f[2]}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]-p[0],l[1]=f[1]-p[1],l[2]=f[2]-p[2],l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]*p[0],l[1]=f[1]*p[1],l[2]=f[2]*p[2],l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]/p[0],l[1]=f[1]/p[1],l[2]=f[2]/p[2],l}},function(g,x){g.exports=function(l,f){var p=f[0]-l[0],E=f[1]-l[1],b=f[2]-l[2];return Math.sqrt(p*p+E*E+b*b)}},function(g,x){g.exports=function(l,f){var p=f[0]-l[0],E=f[1]-l[1],b=f[2]-l[2];return p*p+E*E+b*b}},function(g,x){g.exports=function(l){var f=l[0],p=l[1],E=l[2];return Math.sqrt(f*f+p*p+E*E)}},function(g,x){g.exports=function(l){var f=l[0],p=l[1],E=l[2];return f*f+p*p+E*E}},function(g,x,l){var f=l(153),p=l(154),E=l(60),b=l(155);g.exports=function(S,O){return f(S)||p(S,O)||E(S,O)||b()},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){g.exports={EPSILON:l(71),create:l(72),clone:l(191),angle:l(192),fromValues:l(73),copy:l(193),set:l(194),equals:l(195),exactEquals:l(196),add:l(197),subtract:l(76),sub:l(198),multiply:l(77),mul:l(199),divide:l(78),div:l(200),min:l(201),max:l(202),floor:l(203),ceil:l(204),round:l(205),scale:l(206),scaleAndAdd:l(207),distance:l(79),dist:l(208),squaredDistance:l(80),sqrDist:l(209),length:l(81),len:l(210),squaredLength:l(82),sqrLen:l(211),negate:l(212),inverse:l(213),normalize:l(74),dot:l(75),cross:l(214),lerp:l(215),random:l(216),transformMat4:l(217),transformMat3:l(218),transformQuat:l(219),rotateX:l(220),rotateY:l(221),rotateZ:l(222),forEach:l(223)}},function(g,x,l){var f=l(229),p=l(243)(function(E,b){return null==E?{}:f(E,b)});g.exports=p},function(g,x,l){var f=l(2),p=l(41),E=l(248),b=l(249);function S(O){var L="function"==typeof Map?new Map:void 0;return g.exports=S=function(F){if(null===F||!E(F))return F;if("function"!=typeof F)throw new TypeError("Super expression must either be null or a function");if(void 0!==L){if(L.has(F))return L.get(F);L.set(F,ee)}function ee(){return b(F,arguments,f(this).constructor)}return ee.prototype=Object.create(F.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),p(ee,F)},g.exports.default=g.exports,g.exports.__esModule=!0,S(O)}g.exports=S,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){"use strict";var f=l(21),p={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(E,b){var S=E.data,O=b.data,L=E.size.x,F=E.size.y,ee=f.a.create(E,b);return{rasterize:function(ie){var ue,Ve,we,Me,_e,X,j,te,oe,Ee,ge,Z,Y=[],se=0;for(Z=0;Z<400;Z++)Y[Z]=0;for(Y[0]=S[0],oe=null,X=1;X<F-1;X++)for(Me=0,Ve=Y[0],_e=1;_e<L-1;_e++)if(0===O[ge=X*L+_e])if((ue=S[ge])!==Ve){if(0===Me)Y[we=se+1]=ue,Ve=ue,null!==(j=ee.contourTracing(X,_e,we,ue,p.DIR.OUTSIDE_EDGE))&&(se++,Me=we,(te=p.createContour2D()).dir=p.CONTOUR_DIR.CW_DIR,te.index=Me,te.firstVertex=j,te.nextpeer=oe,te.insideContours=null,null!==oe&&(oe.prevpeer=te),oe=te);else if(null!==(j=ee.contourTracing(X,_e,p.DIR.INSIDE_EDGE,ue,Me))){for((te=p.createContour2D()).firstVertex=j,te.insideContours=null,te.dir=0===ie?p.CONTOUR_DIR.CCW_DIR:p.CONTOUR_DIR.CW_DIR,te.index=ie,Ee=oe;null!==Ee&&Ee.index!==Me;)Ee=Ee.nextpeer;null!==Ee&&(te.nextpeer=Ee.insideContours,null!==Ee.insideContours&&(Ee.insideContours.prevpeer=te),Ee.insideContours=te)}}else O[ge]=Me;else O[ge]===p.DIR.OUTSIDE_EDGE||O[ge]===p.DIR.INSIDE_EDGE?(Me=0,Ve=O[ge]===p.DIR.INSIDE_EDGE?S[ge]:Y[0]):Ve=Y[Me=O[ge]];for(Ee=oe;null!==Ee;)Ee.index=ie,Ee=Ee.nextpeer;return{cc:oe,count:se}},debug:{drawContour:function(ie,ue){var Ve,we,Me,_e=ie.getContext("2d"),X=ue;for(_e.strokeStyle="red",_e.fillStyle="red",_e.lineWidth=1,Ve=null!==X?X.insideContours:null;null!==X;){switch(null!==Ve?(we=Ve,Ve=Ve.nextpeer):(we=X,Ve=null!==(X=X.nextpeer)?X.insideContours:null),we.dir){case p.CONTOUR_DIR.CW_DIR:_e.strokeStyle="red";break;case p.CONTOUR_DIR.CCW_DIR:_e.strokeStyle="blue";break;case p.CONTOUR_DIR.UNKNOWN_DIR:_e.strokeStyle="green"}Me=we.firstVertex,_e.beginPath(),_e.moveTo(Me.x,Me.y);do{_e.lineTo((Me=Me.next).x,Me.y)}while(Me!==we.firstVertex);_e.stroke()}}}}}};x.a=p},function(g,x,l){"use strict";x.a=function(f,p,E){var b=new f.Uint8Array(E),S=0|p.size,O=f.Math.imul;function L(X,j){X|=0,j|=0;var te=0,oe=0,ge=0,Z=0,Y=0,se=0,z=0;for(te=1;(0|te)<(S-1|0);te=te+1|0)for(z=z+S|0,oe=1;(0|oe)<(S-1|0);oe=oe+1|0)b[j+z+oe|0]=5==(0|(0|b[X+(ge=z-S|0)+(Y=oe-1|0)|0])+(0|b[X+ge+(se=oe+1|0)|0])+(0|b[X+z+oe|0])+(0|b[X+(Z=z+S|0)+Y|0])+(0|b[X+Z+se|0]))?1:0}function F(X,j,te){X|=0,j|=0,te|=0;var oe=0;for(oe=0|O(S,S);(0|oe)>0;)b[te+(oe=oe-1|0)|0]=(0|b[X+oe|0])-(0|b[j+oe|0])|0}function ee(X,j,te){X|=0,j|=0,te|=0;var oe=0;for(oe=0|O(S,S);(0|oe)>0;)b[te+(oe=oe-1|0)|0]=0|b[X+oe|0]|b[j+oe|0]|0}function ie(X){X|=0;var j=0,te=0;for(te=0|O(S,S);(0|te)>0;)j=(0|j)+(0|b[X+(te=te-1|0)|0])|0;return 0|j}function Ve(X,j){X|=0,j|=0;var te=0,oe=0,ge=0,Z=0,Y=0,se=0,z=0;for(te=1;(0|te)<(S-1|0);te=te+1|0)for(z=z+S|0,oe=1;(0|oe)<(S-1|0);oe=oe+1|0)b[j+z+oe|0]=(0|(0|b[X+(ge=z-S|0)+(Y=oe-1|0)|0])+(0|b[X+ge+(se=oe+1|0)|0])+(0|b[X+z+oe|0])+(0|b[X+(Z=z+S|0)+Y|0])+(0|b[X+Z+se|0]))>0?1:0}function we(X,j){X|=0,j|=0;var te=0;for(te=0|O(S,S);(0|te)>0;)b[j+(te=te-1|0)|0]=0|b[X+te|0]}return{skeletonize:function(){var j,te,oe,ge=0;(function(X,j){X|=0,j|=0;var te=0;for(te=0|O(S,S);(0|te)>0;)b[X+(te=te-1|0)|0]=j})(oe=(te=(j=0|O(S,S))+j|0)+j|0,0),function(X){X|=0;var j=0,te=0;for(j=0;(0|j)<(S-1|0);j=j+1|0)b[X+j|0]=0,b[X+te|0]=0,b[X+(te=te+S-1|0)|0]=0,te=te+1|0;for(j=0;(0|j)<(0|S);j=j+1|0)b[X+te|0]=0,te=te+1|0}(0);do{L(0,j),Ve(j,te),F(0,te,te),ee(oe,te,oe),we(j,0),ge=0==(0|ie(0))|0}while(!ge)}}}},function(g,x,l){g.exports=l(263)},function(g,x,l){var f=l(91),p=l(48),E=l(121),b=l(123),S=l(13),O=l(56),L=l(54);g.exports=function F(ee,ie,ue,Ve,we){ee!==ie&&E(ie,function(Me,_e){if(we||(we=new f),S(Me))b(ee,ie,_e,ue,F,Ve,we);else{var X=Ve?Ve(L(ee,_e),Me,_e+"",ee,ie,we):void 0;void 0===X&&(X=Me),p(ee,_e,X)}},O)}},function(g,x,l){var f=l(24),p=l(97),E=l(98),b=l(99),S=l(100),O=l(101);function L(F){var ee=this.__data__=new f(F);this.size=ee.size}L.prototype.clear=p,L.prototype.delete=E,L.prototype.get=b,L.prototype.has=S,L.prototype.set=O,g.exports=L},function(g,x){g.exports=function(){this.__data__=[],this.size=0}},function(g,x,l){var f=l(25),p=Array.prototype.splice;g.exports=function(E){var b=this.__data__,S=f(b,E);return!(S<0||(S==b.length-1?b.pop():p.call(b,S,1),--this.size,0))}},function(g,x,l){var f=l(25);g.exports=function(p){var E=this.__data__,b=f(E,p);return b<0?void 0:E[b][1]}},function(g,x,l){var f=l(25);g.exports=function(p){return f(this.__data__,p)>-1}},function(g,x,l){var f=l(25);g.exports=function(p,E){var b=this.__data__,S=f(b,p);return S<0?(++this.size,b.push([p,E])):b[S][1]=E,this}},function(g,x,l){var f=l(24);g.exports=function(){this.__data__=new f,this.size=0}},function(g,x){g.exports=function(l){var f=this.__data__,p=f.delete(l);return this.size=f.size,p}},function(g,x){g.exports=function(l){return this.__data__.get(l)}},function(g,x){g.exports=function(l){return this.__data__.has(l)}},function(g,x,l){var f=l(24),p=l(44),E=l(47);g.exports=function(b,S){var O=this.__data__;if(O instanceof f){var L=O.__data__;if(!p||L.length<199)return L.push([b,S]),this.size=++O.size,this;O=this.__data__=new E(L)}return O.set(b,S),this.size=O.size,this}},function(g,x,l){var f=l(36),p=l(105),E=l(13),b=l(107),S=/^\[object .+?Constructor\]$/,ie=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");g.exports=function(ue){return!(!E(ue)||p(ue))&&(f(ue)?ie:S).test(b(ue))}},function(g,x,l){var f=l(27),p=Object.prototype,E=p.hasOwnProperty,b=p.toString,S=f?f.toStringTag:void 0;g.exports=function(O){var L=E.call(O,S),F=O[S];try{O[S]=void 0;var ee=!0}catch(ue){}var ie=b.call(O);return ee&&(L?O[S]=F:delete O[S]),ie}},function(g,x){var l=Object.prototype.toString;g.exports=function(f){return l.call(f)}},function(g,x,l){var f,p=l(106),E=(f=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";g.exports=function(b){return!!E&&E in b}},function(g,x,l){var f=l(17)["__core-js_shared__"];g.exports=f},function(g,x){var l=Function.prototype.toString;g.exports=function(f){if(null!=f){try{return l.call(f)}catch(p){}try{return f+""}catch(p){}}return""}},function(g,x){g.exports=function(l,f){return null==l?void 0:l[f]}},function(g,x,l){var f=l(110),p=l(24),E=l(44);g.exports=function(){this.size=0,this.__data__={hash:new f,map:new(E||p),string:new f}}},function(g,x,l){var f=l(111),p=l(112),E=l(113),b=l(114),S=l(115);function O(L){var F=-1,ee=null==L?0:L.length;for(this.clear();++F<ee;){var ie=L[F];this.set(ie[0],ie[1])}}O.prototype.clear=f,O.prototype.delete=p,O.prototype.get=E,O.prototype.has=b,O.prototype.set=S,g.exports=O},function(g,x,l){var f=l(28);g.exports=function(){this.__data__=f?f(null):{},this.size=0}},function(g,x){g.exports=function(l){var f=this.has(l)&&delete this.__data__[l];return this.size-=f?1:0,f}},function(g,x,l){var f=l(28),p=Object.prototype.hasOwnProperty;g.exports=function(E){var b=this.__data__;if(f){var S=b[E];return"__lodash_hash_undefined__"===S?void 0:S}return p.call(b,E)?b[E]:void 0}},function(g,x,l){var f=l(28),p=Object.prototype.hasOwnProperty;g.exports=function(E){var b=this.__data__;return f?void 0!==b[E]:p.call(b,E)}},function(g,x,l){var f=l(28);g.exports=function(p,E){var b=this.__data__;return this.size+=this.has(p)?0:1,b[p]=f&&void 0===E?"__lodash_hash_undefined__":E,this}},function(g,x,l){var f=l(29);g.exports=function(p){var E=f(this,p).delete(p);return this.size-=E?1:0,E}},function(g,x){g.exports=function(l){var f=typeof l;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==l:null===l}},function(g,x,l){var f=l(29);g.exports=function(p){return f(this,p).get(p)}},function(g,x,l){var f=l(29);g.exports=function(p){return f(this,p).has(p)}},function(g,x,l){var f=l(29);g.exports=function(p,E){var b=f(this,p),S=b.size;return b.set(p,E),this.size+=b.size==S?0:1,this}},function(g,x,l){var f=l(122)();g.exports=f},function(g,x){g.exports=function(l){return function(f,p,E){for(var b=-1,S=Object(f),O=E(f),L=O.length;L--;){var F=O[l?L:++b];if(!1===p(S[F],F,S))break}return f}}},function(g,x,l){var f=l(48),p=l(124),E=l(125),b=l(128),S=l(129),O=l(30),L=l(14),F=l(133),ee=l(52),ie=l(36),ue=l(13),Ve=l(135),we=l(53),Me=l(54),_e=l(139);g.exports=function(X,j,te,oe,Ee,ge,Z){var Y=Me(X,te),se=Me(j,te),z=Z.get(se);if(z)f(X,te,z);else{var fe=ge?ge(Y,se,te+"",X,j,Z):void 0,U=void 0===fe;if(U){var H=L(se),W=!H&&ee(se),re=!H&&!W&&we(se);fe=se,H||W||re?L(Y)?fe=Y:F(Y)?fe=b(Y):W?(U=!1,fe=p(se,!0)):re?(U=!1,fe=E(se,!0)):fe=[]:Ve(se)||O(se)?(fe=Y,O(Y)?fe=_e(Y):ue(Y)&&!ie(Y)||(fe=S(se))):U=!1}U&&(Z.set(se,fe),Ee(fe,se,oe,ge,Z),Z.delete(se)),f(X,te,fe)}}},function(g,x,l){(function(f){var p=l(17),E=x&&!x.nodeType&&x,b=E&&"object"==typeof f&&f&&!f.nodeType&&f,S=b&&b.exports===E?p.Buffer:void 0,O=S?S.allocUnsafe:void 0;f.exports=function(L,F){if(F)return L.slice();var ee=L.length,ie=O?O(ee):new L.constructor(ee);return L.copy(ie),ie}}).call(this,l(38)(g))},function(g,x,l){var f=l(126);g.exports=function(p,E){var b=E?f(p.buffer):p.buffer;return new p.constructor(b,p.byteOffset,p.length)}},function(g,x,l){var f=l(127);g.exports=function(p){var E=new p.constructor(p.byteLength);return new f(E).set(new f(p)),E}},function(g,x,l){var f=l(17).Uint8Array;g.exports=f},function(g,x){g.exports=function(l,f){var p=-1,E=l.length;for(f||(f=Array(E));++p<E;)f[p]=l[p];return f}},function(g,x,l){var f=l(130),p=l(50),E=l(51);g.exports=function(b){return"function"!=typeof b.constructor||E(b)?{}:f(p(b))}},function(g,x,l){var f=l(13),p=Object.create,E=function(){function b(){}return function(S){if(!f(S))return{};if(p)return p(S);b.prototype=S;var O=new b;return b.prototype=void 0,O}}();g.exports=E},function(g,x){g.exports=function(l,f){return function(p){return l(f(p))}}},function(g,x,l){var f=l(22),p=l(18);g.exports=function(E){return p(E)&&"[object Arguments]"==f(E)}},function(g,x,l){var f=l(39),p=l(18);g.exports=function(E){return p(E)&&f(E)}},function(g,x){g.exports=function(){return!1}},function(g,x,l){var f=l(22),p=l(50),E=l(18),O=Function.prototype.toString,L=Object.prototype.hasOwnProperty,F=O.call(Object);g.exports=function(ee){if(!E(ee)||"[object Object]"!=f(ee))return!1;var ie=p(ee);if(null===ie)return!0;var ue=L.call(ie,"constructor")&&ie.constructor;return"function"==typeof ue&&ue instanceof ue&&O.call(ue)==F}},function(g,x,l){var f=l(22),p=l(40),E=l(18),b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1,g.exports=function(S){return E(S)&&p(S.length)&&!!b[f(S)]}},function(g,x){g.exports=function(l){return function(f){return l(f)}}},function(g,x,l){(function(f){var p=l(45),E=x&&!x.nodeType&&x,b=E&&"object"==typeof f&&f&&!f.nodeType&&f,S=b&&b.exports===E&&p.process,O=function(){try{return b&&b.require&&b.require("util").types||S&&S.binding&&S.binding("util")}catch(F){}}();f.exports=O}).call(this,l(38)(g))},function(g,x,l){var f=l(140),p=l(56);g.exports=function(E){return f(E,p(E))}},function(g,x,l){var f=l(55),p=l(37);g.exports=function(E,b,S,O){var L=!S;S||(S={});for(var F=-1,ee=b.length;++F<ee;){var ie=b[F],ue=O?O(S[ie],E[ie],ie,S,E):void 0;void 0===ue&&(ue=E[ie]),L?p(S,ie,ue):f(S,ie,ue)}return S}},function(g,x,l){var f=l(142),p=l(30),E=l(14),b=l(52),S=l(31),O=l(53),L=Object.prototype.hasOwnProperty;g.exports=function(F,ee){var ie=E(F),ue=!ie&&p(F),Ve=!ie&&!ue&&b(F),we=!ie&&!ue&&!Ve&&O(F),Me=ie||ue||Ve||we,_e=Me?f(F.length,String):[],X=_e.length;for(var j in F)!ee&&!L.call(F,j)||Me&&("length"==j||Ve&&("offset"==j||"parent"==j)||we&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||S(j,X))||_e.push(j);return _e}},function(g,x){g.exports=function(l,f){for(var p=-1,E=Array(l);++p<l;)E[p]=f(p);return E}},function(g,x,l){var f=l(13),p=l(51),E=l(144),b=Object.prototype.hasOwnProperty;g.exports=function(S){if(!f(S))return E(S);var O=p(S),L=[];for(var F in S)("constructor"!=F||!O&&b.call(S,F))&&L.push(F);return L}},function(g,x){g.exports=function(l){var f=[];if(null!=l)for(var p in Object(l))f.push(p);return f}},function(g,x,l){var f=l(146),p=l(151);g.exports=function(E){return f(function(b,S){var O=-1,L=S.length,F=L>1?S[L-1]:void 0,ee=L>2?S[2]:void 0;for(F=E.length>3&&"function"==typeof F?(L--,F):void 0,ee&&p(S[0],S[1],ee)&&(F=L<3?void 0:F,L=1),b=Object(b);++O<L;){var ie=S[O];ie&&E(b,ie,O,F)}return b})}},function(g,x,l){var f=l(57),p=l(58),E=l(59);g.exports=function(b,S){return E(p(b,S,f),b+"")}},function(g,x){g.exports=function(l,f,p){switch(p.length){case 0:return l.call(f);case 1:return l.call(f,p[0]);case 2:return l.call(f,p[0],p[1]);case 3:return l.call(f,p[0],p[1],p[2])}return l.apply(f,p)}},function(g,x,l){var f=l(149),p=l(49),E=l(57);g.exports=p?function(S,O){return p(S,"toString",{configurable:!0,enumerable:!1,value:f(O),writable:!0})}:E},function(g,x){g.exports=function(l){return function(){return l}}},function(g,x){var l=Date.now;g.exports=function(f){var p=0,E=0;return function(){var b=l(),S=16-(b-E);if(E=b,S>0){if(++p>=800)return arguments[0]}else p=0;return f.apply(void 0,arguments)}}},function(g,x,l){var f=l(26),p=l(39),E=l(31),b=l(13);g.exports=function(S,O,L){if(!b(L))return!1;var F=typeof O;return!!("number"==F?p(L)&&E(O,L.length):"string"==F&&O in L)&&f(L[O],S)}},function(g,x){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(l){window.setTimeout(l,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(l,f){var p=65535&l,E=65535&f;return p*E+((l>>>16&65535)*E+p*(f>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(l){"use strict";if(null===l)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(l),p=1;p<arguments.length;p++){var E=arguments[p];if(null!==E)for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(f[b]=E[b])}return f})},function(g,x){g.exports=function(l){if(Array.isArray(l))return l},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l,f){var p=null==l?null:"undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(null!=p){var E,b,S=[],O=!0,L=!1;try{for(p=p.call(l);!(O=(E=p.next()).done)&&(S.push(E.value),!f||S.length!==f);O=!0);}catch(F){L=!0,b=F}finally{try{O||null==p.return||p.return()}finally{if(L)throw b}}return S}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l){var f=new Float32Array(2);return f[0]=l[0],f[1]=l[1],f}},function(g,x){g.exports=function(l,f){var p=new Float32Array(2);return p[0]=l,p[1]=f,p}},function(g,x){g.exports=function(l,f){return l[0]=f[0],l[1]=f[1],l}},function(g,x){g.exports=function(l,f,p){return l[0]=f,l[1]=p,l}},function(g,x,l){g.exports=function(p,E){var b=p[0],S=p[1],O=E[0],L=E[1];return Math.abs(b-O)<=f*Math.max(1,Math.abs(b),Math.abs(O))&&Math.abs(S-L)<=f*Math.max(1,Math.abs(S),Math.abs(L))};var f=l(62)},function(g,x){g.exports=function(l,f){return l[0]===f[0]&&l[1]===f[1]}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]+p[0],l[1]=f[1]+p[1],l}},function(g,x,l){g.exports=l(64)},function(g,x,l){g.exports=l(65)},function(g,x,l){g.exports=l(66)},function(g,x){g.exports=function(l,f){return l[0]=1/f[0],l[1]=1/f[1],l}},function(g,x){g.exports=function(l,f,p){return l[0]=Math.min(f[0],p[0]),l[1]=Math.min(f[1],p[1]),l}},function(g,x){g.exports=function(l,f,p){return l[0]=Math.max(f[0],p[0]),l[1]=Math.max(f[1],p[1]),l}},function(g,x){g.exports=function(l,f,p){var E=Math.cos(p),b=Math.sin(p),S=f[0],O=f[1];return l[0]=S*E-O*b,l[1]=S*b+O*E,l}},function(g,x){g.exports=function(l,f){return l[0]=Math.floor(f[0]),l[1]=Math.floor(f[1]),l}},function(g,x){g.exports=function(l,f){return l[0]=Math.ceil(f[0]),l[1]=Math.ceil(f[1]),l}},function(g,x){g.exports=function(l,f){return l[0]=Math.round(f[0]),l[1]=Math.round(f[1]),l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]*p,l[1]=f[1]*p,l}},function(g,x){g.exports=function(l,f,p,E){return l[0]=f[0]+p[0]*E,l[1]=f[1]+p[1]*E,l}},function(g,x,l){g.exports=l(67)},function(g,x,l){g.exports=l(68)},function(g,x,l){g.exports=l(69)},function(g,x,l){g.exports=l(70)},function(g,x){g.exports=function(l,f){return l[0]=-f[0],l[1]=-f[1],l}},function(g,x){g.exports=function(l,f){var p=f[0],E=f[1],b=p*p+E*E;return b>0&&(b=1/Math.sqrt(b),l[0]=f[0]*b,l[1]=f[1]*b),l}},function(g,x){g.exports=function(l,f){return l[0]*f[0]+l[1]*f[1]}},function(g,x){g.exports=function(l,f,p){var E=f[0]*p[1]-f[1]*p[0];return l[0]=l[1]=0,l[2]=E,l}},function(g,x){g.exports=function(l,f,p,E){var b=f[0],S=f[1];return l[0]=b+E*(p[0]-b),l[1]=S+E*(p[1]-S),l}},function(g,x){g.exports=function(l,f){f=f||1;var p=2*Math.random()*Math.PI;return l[0]=Math.cos(p)*f,l[1]=Math.sin(p)*f,l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1];return l[0]=p[0]*E+p[2]*b,l[1]=p[1]*E+p[3]*b,l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1];return l[0]=p[0]*E+p[2]*b+p[4],l[1]=p[1]*E+p[3]*b+p[5],l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1];return l[0]=p[0]*E+p[3]*b+p[6],l[1]=p[1]*E+p[4]*b+p[7],l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1];return l[0]=p[0]*E+p[4]*b+p[12],l[1]=p[1]*E+p[5]*b+p[13],l}},function(g,x,l){g.exports=function(p,E,b,S,O,L){var F,ee;for(E||(E=2),b||(b=0),ee=S?Math.min(S*E+b,p.length):p.length,F=b;F<ee;F+=E)f[0]=p[F],f[1]=p[F+1],O(f,f,L),p[F]=f[0],p[F+1]=f[1];return p};var f=l(63)()},function(g,x){g.exports=function(l,f,p){var E=f[0]*f[0]+f[1]*f[1];if(E>p*p){var b=Math.sqrt(E);l[0]=f[0]/b*p,l[1]=f[1]/b*p}else l[0]=f[0],l[1]=f[1];return l}},function(g,x){g.exports=function(l){var f=new Float32Array(3);return f[0]=l[0],f[1]=l[1],f[2]=l[2],f}},function(g,x,l){g.exports=function(b,S){var O=f(b[0],b[1],b[2]),L=f(S[0],S[1],S[2]);p(O,O),p(L,L);var F=E(O,L);return F>1?0:Math.acos(F)};var f=l(73),p=l(74),E=l(75)},function(g,x){g.exports=function(l,f){return l[0]=f[0],l[1]=f[1],l[2]=f[2],l}},function(g,x){g.exports=function(l,f,p,E){return l[0]=f,l[1]=p,l[2]=E,l}},function(g,x,l){g.exports=function(p,E){var b=p[0],S=p[1],O=p[2],L=E[0],F=E[1],ee=E[2];return Math.abs(b-L)<=f*Math.max(1,Math.abs(b),Math.abs(L))&&Math.abs(S-F)<=f*Math.max(1,Math.abs(S),Math.abs(F))&&Math.abs(O-ee)<=f*Math.max(1,Math.abs(O),Math.abs(ee))};var f=l(71)},function(g,x){g.exports=function(l,f){return l[0]===f[0]&&l[1]===f[1]&&l[2]===f[2]}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]+p[0],l[1]=f[1]+p[1],l[2]=f[2]+p[2],l}},function(g,x,l){g.exports=l(76)},function(g,x,l){g.exports=l(77)},function(g,x,l){g.exports=l(78)},function(g,x){g.exports=function(l,f,p){return l[0]=Math.min(f[0],p[0]),l[1]=Math.min(f[1],p[1]),l[2]=Math.min(f[2],p[2]),l}},function(g,x){g.exports=function(l,f,p){return l[0]=Math.max(f[0],p[0]),l[1]=Math.max(f[1],p[1]),l[2]=Math.max(f[2],p[2]),l}},function(g,x){g.exports=function(l,f){return l[0]=Math.floor(f[0]),l[1]=Math.floor(f[1]),l[2]=Math.floor(f[2]),l}},function(g,x){g.exports=function(l,f){return l[0]=Math.ceil(f[0]),l[1]=Math.ceil(f[1]),l[2]=Math.ceil(f[2]),l}},function(g,x){g.exports=function(l,f){return l[0]=Math.round(f[0]),l[1]=Math.round(f[1]),l[2]=Math.round(f[2]),l}},function(g,x){g.exports=function(l,f,p){return l[0]=f[0]*p,l[1]=f[1]*p,l[2]=f[2]*p,l}},function(g,x){g.exports=function(l,f,p,E){return l[0]=f[0]+p[0]*E,l[1]=f[1]+p[1]*E,l[2]=f[2]+p[2]*E,l}},function(g,x,l){g.exports=l(79)},function(g,x,l){g.exports=l(80)},function(g,x,l){g.exports=l(81)},function(g,x,l){g.exports=l(82)},function(g,x){g.exports=function(l,f){return l[0]=-f[0],l[1]=-f[1],l[2]=-f[2],l}},function(g,x){g.exports=function(l,f){return l[0]=1/f[0],l[1]=1/f[1],l[2]=1/f[2],l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1],S=f[2],O=p[0],L=p[1],F=p[2];return l[0]=b*F-S*L,l[1]=S*O-E*F,l[2]=E*L-b*O,l}},function(g,x){g.exports=function(l,f,p,E){var b=f[0],S=f[1],O=f[2];return l[0]=b+E*(p[0]-b),l[1]=S+E*(p[1]-S),l[2]=O+E*(p[2]-O),l}},function(g,x){g.exports=function(l,f){f=f||1;var p=2*Math.random()*Math.PI,E=2*Math.random()-1,b=Math.sqrt(1-E*E)*f;return l[0]=Math.cos(p)*b,l[1]=Math.sin(p)*b,l[2]=E*f,l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1],S=f[2],O=p[3]*E+p[7]*b+p[11]*S+p[15];return l[0]=(p[0]*E+p[4]*b+p[8]*S+p[12])/(O=O||1),l[1]=(p[1]*E+p[5]*b+p[9]*S+p[13])/O,l[2]=(p[2]*E+p[6]*b+p[10]*S+p[14])/O,l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1],S=f[2];return l[0]=E*p[0]+b*p[3]+S*p[6],l[1]=E*p[1]+b*p[4]+S*p[7],l[2]=E*p[2]+b*p[5]+S*p[8],l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1],S=f[2],O=p[0],L=p[1],F=p[2],ee=p[3],ie=ee*E+L*S-F*b,ue=ee*b+F*E-O*S,Ve=ee*S+O*b-L*E,we=-O*E-L*b-F*S;return l[0]=ie*ee+we*-O+ue*-F-Ve*-L,l[1]=ue*ee+we*-L+Ve*-O-ie*-F,l[2]=Ve*ee+we*-F+ie*-L-ue*-O,l}},function(g,x){g.exports=function(l,f,p,E){var b=p[1],S=p[2],O=f[1]-b,L=f[2]-S,F=Math.sin(E),ee=Math.cos(E);return l[0]=f[0],l[1]=b+O*ee-L*F,l[2]=S+O*F+L*ee,l}},function(g,x){g.exports=function(l,f,p,E){var b=p[0],S=p[2],O=f[0]-b,L=f[2]-S,F=Math.sin(E),ee=Math.cos(E);return l[0]=b+L*F+O*ee,l[1]=f[1],l[2]=S+L*ee-O*F,l}},function(g,x){g.exports=function(l,f,p,E){var b=p[0],S=p[1],O=f[0]-b,L=f[1]-S,F=Math.sin(E),ee=Math.cos(E);return l[0]=b+O*ee-L*F,l[1]=S+O*F+L*ee,l[2]=f[2],l}},function(g,x,l){g.exports=function(p,E,b,S,O,L){var F,ee;for(E||(E=3),b||(b=0),ee=S?Math.min(S*E+b,p.length):p.length,F=b;F<ee;F+=E)f[0]=p[F],f[1]=p[F+1],f[2]=p[F+2],O(f,f,L),p[F]=f[0],p[F+1]=f[1],p[F+2]=f[2];return p};var f=l(72)()},function(g,x,l){var f=l(61);g.exports=function(p){if(Array.isArray(p))return f(p)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l){if("undefined"!=typeof Symbol&&null!=l[Symbol.iterator]||null!=l["@@iterator"])return Array.from(l)},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){var f=l(2);g.exports=function(p,E){for(;!Object.prototype.hasOwnProperty.call(p,E)&&null!==(p=f(p)););return p},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){var f=function(p){"use strict";var E=Object.prototype,b=E.hasOwnProperty,S="function"==typeof Symbol?Symbol:{},O=S.iterator||"@@iterator",L=S.asyncIterator||"@@asyncIterator",F=S.toStringTag||"@@toStringTag";function ee(U,H,W,re){var Ue,Be,Ie,Ae,me=Object.create((H&&H.prototype instanceof Ve?H:Ve).prototype),Re=new se(re||[]);return me._invoke=(Ue=U,Be=W,Ie=Re,Ae="suspendedStart",function(je,Ne){if("executing"===Ae)throw new Error("Generator is already running");if("completed"===Ae){if("throw"===je)throw Ne;return{value:void 0,done:!0}}for(Ie.method=je,Ie.arg=Ne;;){var bn=Ie.delegate;if(bn){var un=ge(bn,Ie);if(un){if(un===ue)continue;return un}}if("next"===Ie.method)Ie.sent=Ie._sent=Ie.arg;else if("throw"===Ie.method){if("suspendedStart"===Ae)throw Ae="completed",Ie.arg;Ie.dispatchException(Ie.arg)}else"return"===Ie.method&&Ie.abrupt("return",Ie.arg);Ae="executing";var $t=ie(Ue,Be,Ie);if("normal"===$t.type){if(Ae=Ie.done?"completed":"suspendedYield",$t.arg===ue)continue;return{value:$t.arg,done:Ie.done}}"throw"===$t.type&&(Ae="completed",Ie.method="throw",Ie.arg=$t.arg)}}),me}function ie(U,H,W){try{return{type:"normal",arg:U.call(H,W)}}catch(re){return{type:"throw",arg:re}}}p.wrap=ee;var ue={};function Ve(){}function we(){}function Me(){}var _e={};_e[O]=function(){return this};var X=Object.getPrototypeOf,j=X&&X(X(z([])));j&&j!==E&&b.call(j,O)&&(_e=j);var te=Me.prototype=Ve.prototype=Object.create(_e);function oe(U){["next","throw","return"].forEach(function(H){U[H]=function(W){return this._invoke(H,W)}})}function Ee(U,H){var W;this._invoke=function(re,ne){function me(){return new H(function(Re,Ue){!function Be(Ie,Ae,je,Ne){var bn=ie(U[Ie],U,Ae);if("throw"!==bn.type){var un=bn.arg,$t=un.value;return $t&&"object"==typeof $t&&b.call($t,"__await")?H.resolve($t.__await).then(function(qn){Be("next",qn,je,Ne)},function(qn){Be("throw",qn,je,Ne)}):H.resolve($t).then(function(qn){un.value=qn,je(un)},function(qn){return Be("throw",qn,je,Ne)})}Ne(bn.arg)}(re,ne,Re,Ue)})}return W=W?W.then(me,me):me()}}function ge(U,H){var W=U.iterator[H.method];if(void 0===W){if(H.delegate=null,"throw"===H.method){if(U.iterator.return&&(H.method="return",H.arg=void 0,ge(U,H),"throw"===H.method))return ue;H.method="throw",H.arg=new TypeError("The iterator does not provide a 'throw' method")}return ue}var re=ie(W,U.iterator,H.arg);if("throw"===re.type)return H.method="throw",H.arg=re.arg,H.delegate=null,ue;var ne=re.arg;return ne?ne.done?(H[U.resultName]=ne.value,H.next=U.nextLoc,"return"!==H.method&&(H.method="next",H.arg=void 0),H.delegate=null,ue):ne:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,ue)}function Z(U){var H={tryLoc:U[0]};1 in U&&(H.catchLoc=U[1]),2 in U&&(H.finallyLoc=U[2],H.afterLoc=U[3]),this.tryEntries.push(H)}function Y(U){var H=U.completion||{};H.type="normal",delete H.arg,U.completion=H}function se(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(Z,this),this.reset(!0)}function z(U){if(U){var H=U[O];if(H)return H.call(U);if("function"==typeof U.next)return U;if(!isNaN(U.length)){var W=-1,re=function ne(){for(;++W<U.length;)if(b.call(U,W))return ne.value=U[W],ne.done=!1,ne;return ne.value=void 0,ne.done=!0,ne};return re.next=re}}return{next:fe}}function fe(){return{value:void 0,done:!0}}return we.prototype=te.constructor=Me,Me.constructor=we,Me[F]=we.displayName="GeneratorFunction",p.isGeneratorFunction=function(U){var H="function"==typeof U&&U.constructor;return!!H&&(H===we||"GeneratorFunction"===(H.displayName||H.name))},p.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,Me):(U.__proto__=Me,F in U||(U[F]="GeneratorFunction")),U.prototype=Object.create(te),U},p.awrap=function(U){return{__await:U}},oe(Ee.prototype),Ee.prototype[L]=function(){return this},p.AsyncIterator=Ee,p.async=function(U,H,W,re,ne){void 0===ne&&(ne=Promise);var me=new Ee(ee(U,H,W,re),ne);return p.isGeneratorFunction(H)?me:me.next().then(function(Re){return Re.done?Re.value:me.next()})},oe(te),te[F]="Generator",te[O]=function(){return this},te.toString=function(){return"[object Generator]"},p.keys=function(U){var H=[];for(var W in U)H.push(W);return H.reverse(),function re(){for(;H.length;){var ne=H.pop();if(ne in U)return re.value=ne,re.done=!1,re}return re.done=!0,re}},p.values=z,se.prototype={constructor:se,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Y),!U)for(var H in this)"t"===H.charAt(0)&&b.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=void 0)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if("throw"===U.type)throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var H=this;function W(Be,Ie){return me.type="throw",me.arg=U,H.next=Be,Ie&&(H.method="next",H.arg=void 0),!!Ie}for(var re=this.tryEntries.length-1;re>=0;--re){var ne=this.tryEntries[re],me=ne.completion;if("root"===ne.tryLoc)return W("end");if(ne.tryLoc<=this.prev){var Re=b.call(ne,"catchLoc"),Ue=b.call(ne,"finallyLoc");if(Re&&Ue){if(this.prev<ne.catchLoc)return W(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return W(ne.finallyLoc)}else if(Re){if(this.prev<ne.catchLoc)return W(ne.catchLoc,!0)}else{if(!Ue)throw new Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return W(ne.finallyLoc)}}}},abrupt:function(U,H){for(var W=this.tryEntries.length-1;W>=0;--W){var re=this.tryEntries[W];if(re.tryLoc<=this.prev&&b.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var ne=re;break}}ne&&("break"===U||"continue"===U)&&ne.tryLoc<=H&&H<=ne.finallyLoc&&(ne=null);var me=ne?ne.completion:{};return me.type=U,me.arg=H,ne?(this.method="next",this.next=ne.finallyLoc,ue):this.complete(me)},complete:function(U,H){if("throw"===U.type)throw U.arg;return"break"===U.type||"continue"===U.type?this.next=U.arg:"return"===U.type?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):"normal"===U.type&&H&&(this.next=H),ue},finish:function(U){for(var H=this.tryEntries.length-1;H>=0;--H){var W=this.tryEntries[H];if(W.finallyLoc===U)return this.complete(W.completion,W.afterLoc),Y(W),ue}},catch:function(U){for(var H=this.tryEntries.length-1;H>=0;--H){var W=this.tryEntries[H];if(W.tryLoc===U){var re=W.completion;if("throw"===re.type){var ne=re.arg;Y(W)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(U,H,W){return this.delegate={iterator:z(U),resultName:H,nextLoc:W},"next"===this.method&&(this.arg=void 0),ue}},p}(g.exports);try{regeneratorRuntime=f}catch(p){Function("r","regeneratorRuntime = r")(f)}},function(g,x,l){var f=l(230),p=l(240);g.exports=function(E,b){return f(E,b,function(S,O){return p(E,O)})}},function(g,x,l){var f=l(231),p=l(239),E=l(32);g.exports=function(b,S,O){for(var L=-1,F=S.length,ee={};++L<F;){var ie=S[L],ue=f(b,ie);O(ue,ie)&&p(ee,E(ie,b),ue)}return ee}},function(g,x,l){var f=l(32),p=l(43);g.exports=function(E,b){for(var S=0,O=(b=f(b,E)).length;null!=E&&S<O;)E=E[p(b[S++])];return S&&S==O?E:void 0}},function(g,x,l){var f=l(14),p=l(42),E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;g.exports=function(S,O){if(f(S))return!1;var L=typeof S;return!("number"!=L&&"symbol"!=L&&"boolean"!=L&&null!=S&&!p(S))||b.test(S)||!E.test(S)||null!=O&&S in Object(O)}},function(g,x,l){var f=l(234),p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E=/\\(\\)?/g,b=f(function(S){var O=[];return 46===S.charCodeAt(0)&&O.push(""),S.replace(p,function(L,F,ee,ie){O.push(ee?ie.replace(E,"$1"):F||L)}),O});g.exports=b},function(g,x,l){var f=l(235);g.exports=function(p){var E=f(p,function(S){return 500===b.size&&b.clear(),S}),b=E.cache;return E}},function(g,x,l){var f=l(47);function p(E,b){if("function"!=typeof E||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var S=function(){var O=arguments,L=b?b.apply(this,O):O[0],F=S.cache;if(F.has(L))return F.get(L);var ee=E.apply(this,O);return S.cache=F.set(L,ee)||F,ee};return S.cache=new(p.Cache||f),S}p.Cache=f,g.exports=p},function(g,x,l){var f=l(237);g.exports=function(p){return null==p?"":f(p)}},function(g,x,l){var f=l(27),p=l(238),E=l(14),b=l(42),S=f?f.prototype:void 0,O=S?S.toString:void 0;g.exports=function L(F){if("string"==typeof F)return F;if(E(F))return p(F,L)+"";if(b(F))return O?O.call(F):"";var ee=F+"";return"0"==ee&&1/F==-1/0?"-0":ee}},function(g,x){g.exports=function(l,f){for(var p=-1,E=null==l?0:l.length,b=Array(E);++p<E;)b[p]=f(l[p],p,l);return b}},function(g,x,l){var f=l(55),p=l(32),E=l(31),b=l(13),S=l(43);g.exports=function(O,L,F,ee){if(!b(O))return O;for(var ie=-1,ue=(L=p(L,O)).length,Ve=ue-1,we=O;null!=we&&++ie<ue;){var Me=S(L[ie]),_e=F;if("__proto__"===Me||"constructor"===Me||"prototype"===Me)return O;if(ie!=Ve){var X=we[Me];void 0===(_e=ee?ee(X,Me,we):void 0)&&(_e=b(X)?X:E(L[ie+1])?[]:{})}f(we,Me,_e),we=we[Me]}return O}},function(g,x,l){var f=l(241),p=l(242);g.exports=function(E,b){return null!=E&&p(E,b,f)}},function(g,x){g.exports=function(l,f){return null!=l&&f in Object(l)}},function(g,x,l){var f=l(32),p=l(30),E=l(14),b=l(31),S=l(40),O=l(43);g.exports=function(L,F,ee){for(var ie=-1,ue=(F=f(F,L)).length,Ve=!1;++ie<ue;){var we=O(F[ie]);if(!(Ve=null!=L&&ee(L,we)))break;L=L[we]}return Ve||++ie!=ue?Ve:!!(ue=null==L?0:L.length)&&S(ue)&&b(we,ue)&&(E(L)||p(L))}},function(g,x,l){var f=l(244),p=l(58),E=l(59);g.exports=function(b){return E(p(b,void 0,f),b+"")}},function(g,x,l){var f=l(245);g.exports=function(p){return null!=p&&p.length?f(p,1):[]}},function(g,x,l){var f=l(246),p=l(247);g.exports=function E(b,S,O,L,F){var ee=-1,ie=b.length;for(O||(O=p),F||(F=[]);++ee<ie;){var ue=b[ee];S>0&&O(ue)?S>1?E(ue,S-1,O,L,F):f(F,ue):L||(F[F.length]=ue)}return F}},function(g,x){g.exports=function(l,f){for(var p=-1,E=f.length,b=l.length;++p<E;)l[b+p]=f[p];return l}},function(g,x,l){var f=l(27),p=l(30),E=l(14),b=f?f.isConcatSpreadable:void 0;g.exports=function(S){return E(S)||p(S)||!!(b&&S&&S[b])}},function(g,x){g.exports=function(l){return-1!==Function.toString.call(l).indexOf("[native code]")},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x,l){var f=l(41),p=l(250);function E(b,S,O){return p()?(g.exports=E=Reflect.construct,g.exports.default=g.exports,g.exports.__esModule=!0):(g.exports=E=function(L,F,ee){var ie=[null];ie.push.apply(ie,F);var ue=new(Function.bind.apply(L,ie));return ee&&f(ue,ee.prototype),ue},g.exports.default=g.exports,g.exports.__esModule=!0),E.apply(null,arguments)}g.exports=E,g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}},g.exports.default=g.exports,g.exports.__esModule=!0},function(g,x){g.exports=function(l){return l[0]*l[3]-l[2]*l[1]}},function(g,x){g.exports=function(l,f){if(l===f){var p=f[1];l[1]=f[2],l[2]=p}else l[0]=f[0],l[1]=f[2],l[2]=f[1],l[3]=f[3];return l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1],S=f[2],O=f[3],L=p[0],F=p[1],ee=p[2],ie=p[3];return l[0]=E*L+S*F,l[1]=b*L+O*F,l[2]=E*ee+S*ie,l[3]=b*ee+O*ie,l}},function(g,x){g.exports=function(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l}},function(g,x){g.exports=function(l,f){var p=f[0];return l[0]=f[3],l[1]=-f[1],l[2]=-f[2],l[3]=p,l}},function(g,x){g.exports=function(l,f,p){var E=f[0],b=f[1],S=f[2],O=f[3],L=Math.sin(p),F=Math.cos(p);return l[0]=E*F+S*L,l[1]=b*F+O*L,l[2]=E*-L+S*F,l[3]=b*-L+O*F,l}},function(g,x){g.exports=function(l,f){var p=f[0],E=f[1],b=f[2],S=f[3],O=p*S-b*E;return O?(l[0]=S*(O=1/O),l[1]=-E*O,l[2]=-b*O,l[3]=p*O,l):null}},function(g,x){g.exports=function(){var l=new Float32Array(4);return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l}},function(g,x){g.exports=function(l,f,p){var b=f[1],S=f[2],O=f[3],L=p[0],F=p[1];return l[0]=f[0]*L,l[1]=b*L,l[2]=S*F,l[3]=O*F,l}},function(g,x){g.exports=function(l,f){return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l}},function(g,x){g.exports=function(l){return Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)+Math.pow(l[3],2))}},function(g,x){g.exports=function(l,f,p,E){return l[2]=E[2]/E[0],p[0]=E[0],p[1]=E[1],p[3]=E[3]-l[2]*p[1],[l,f,p]}},function(g,x,l){"use strict";l.r(x),l.d(x,"BarcodeDecoder",function(){return Wr}),l.d(x,"Readers",function(){return f}),l.d(x,"CameraAccess",function(){return Kn}),l.d(x,"ImageDebug",function(){return ue.a}),l.d(x,"ImageWrapper",function(){return O.a}),l.d(x,"ResultCollector",function(){return xp});var f={};l.r(f),l.d(f,"BarcodeReader",function(){return U}),l.d(f,"TwoOfFiveReader",function(){return Ll}),l.d(f,"NewCodabarReader",function(){return cv}),l.d(f,"Code128Reader",function(){return W}),l.d(f,"Code32Reader",function(){return bp}),l.d(f,"Code39Reader",function(){return Ts}),l.d(f,"Code39VINReader",function(){return av}),l.d(f,"Code93Reader",function(){return wp}),l.d(f,"EAN2Reader",function(){return fp}),l.d(f,"EAN5Reader",function(){return lv}),l.d(f,"EAN8Reader",function(){return hp}),l.d(f,"EANReader",function(){return je}),l.d(f,"I2of5Reader",function(){return Pl}),l.d(f,"UPCEReader",function(){return Ol}),l.d(f,"UPCReader",function(){return dp});var p=l(19),E=l.n(p),b=l(16),S=l.n(b),O=(l(152),l(10)),L={},F_UP=1,F_DOWN=-1;L.getBarcodeLine=function(D,k,C){var _,v,w,I,A,M=0|k.x,R=0|k.y,P=0|C.x,q=0|C.y,G=Math.abs(q-R)>Math.abs(P-M),ye=[],Fe=D.data,Oe=D.size.x,Ye=255,pt=0;function $e(cr,Dv){Ye=(A=Fe[Dv*Oe+cr])<Ye?A:Ye,pt=A>pt?A:pt,ye.push(A)}G&&(w=M,M=R,R=w,w=P,P=q,q=w),M>P&&(w=M,M=P,P=w,w=R,R=q,q=w);var It=P-M,pn=Math.abs(q-R);_=It/2|0,v=R;var zr=R<q?1:-1;for(I=M;I<P;I++)G?$e(v,I):$e(I,v),(_-=pn)<0&&(v+=zr,_+=It);return{line:ye,min:Ye,max:pt}},L.toBinaryLine=function(D){var k,C,_,v,w,I,A=D.min,M=D.max,R=D.line,P=A+(M-A)/2,q=[],G=(M-A)/12,ye=-G;for(_=R[0]>P?F_UP:F_DOWN,q.push({pos:0,val:R[0]}),w=0;w<R.length-2;w++)_!==(v=(k=R[w+1]-R[w])+(C=R[w+2]-R[w+1])<ye&&R[w+1]<1.5*P?F_DOWN:k+C>G&&R[w+1]>.5*P?F_UP:_)&&(q.push({pos:w,val:R[w]}),_=v);for(q.push({pos:R.length,val:R[R.length-1]}),I=q[0].pos;I<q[1].pos;I++)R[I]=R[I]>P?0:1;for(w=1;w<q.length-1;w++)for(G=q[w+1].val>q[w].val?q[w].val+(q[w+1].val-q[w].val)/3*2|0:q[w+1].val+(q[w].val-q[w+1].val)/3|0,I=q[w].pos;I<q[w+1].pos;I++)R[I]=R[I]>G?0:1;return{line:R,threshold:G}},L.debug={printFrequency:function(D,k){var C,_=k.getContext("2d");for(k.width=D.length,k.height=256,_.beginPath(),_.strokeStyle="blue",C=0;C<D.length;C++)_.moveTo(C,255),_.lineTo(C,255-D[C]);_.stroke(),_.closePath()},printPattern:function(D,k){var C,_=k.getContext("2d");for(k.width=D.length,_.fillColor="black",C=0;C<D.length;C++)1===D[C]&&_.fillRect(C,0,1,100)}};var ee,D,ie=L,ue=l(15),Ve=l(3),we=l.n(Ve),Me=l(4),_e=l.n(Me),X=l(1),j=l.n(X),te=l(6),oe=l.n(te),Ee=l(5),ge=l.n(Ee),Z=l(2),Y=l.n(Z),se=l(0),z=l.n(se),fe=l(8);(D=ee||(ee={}))[D.Forward=1]="Forward",D[D.Reverse=-1]="Reverse";var U=function(){function D(k,C){return we()(this,D),z()(this,"_row",[]),z()(this,"config",{}),z()(this,"supplements",[]),z()(this,"SINGLE_CODE_ERROR",0),z()(this,"FORMAT","unknown"),z()(this,"CONFIG_KEYS",{}),this._row=[],this.config=k||{},C&&(this.supplements=C),this}return _e()(D,[{key:"_nextUnset",value:function(k){for(var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_<k.length;_++)if(!k[_])return _;return k.length}},{key:"_matchPattern",value:function(k,C,_){var v,w=0,I=0,A=0,M=0,P=0;_=_||this.SINGLE_CODE_ERROR||1;for(var q=0;q<k.length;q++)A+=k[q],M+=C[q];if(A<M)return Number.MAX_VALUE;_*=v=A/M;for(var G=0;G<k.length;G++){if(P=C[G]*v,(I=Math.abs(k[G]-P)/P)>_)return Number.MAX_VALUE;w+=I}return w/M}},{key:"_nextSet",value:function(k){for(var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_<k.length;_++)if(k[_])return _;return k.length}},{key:"_correctBars",value:function(k,C,_){for(var v=_.length,w=0;v--;)(w=k[_[v]]*(1-(1-C)/2))>1&&(k[_[v]]=w)}},{key:"decodePattern",value:function(k){this._row=k;var C=this.decode();return null===C?(this._row.reverse(),(C=this.decode())&&(C.direction=ee.Reverse,C.start=this._row.length-C.start,C.end=this._row.length-C.end)):C.direction=ee.Forward,C&&(C.format=this.FORMAT),C}},{key:"_matchRange",value:function(k,C,_){var v;for(v=k=k<0?0:k;v<C;v++)if(this._row[v]!==_)return!1;return!0}},{key:"_fillCounters",value:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],v=[],w=0;v[w]=0;for(var I=k;I<C;I++)this._row[I]^(_?1:0)?v[w]++:(v[++w]=1,_=!_);return v}},{key:"_toCounters",value:function(k,C){var _=C.length,v=this._row.length,w=!this._row[k],I=0;fe.a.init(C,0);for(var A=k;A<v;A++)if(this._row[A]^(w?1:0))C[I]++;else{if(++I===_)break;C[I]=1,w=!w}return C}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),D}();var W=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"CODE_SHIFT",98),z()(j()(_),"CODE_C",99),z()(j()(_),"CODE_B",100),z()(j()(_),"CODE_A",101),z()(j()(_),"START_CODE_A",103),z()(j()(_),"START_CODE_B",104),z()(j()(_),"START_CODE_C",105),z()(j()(_),"STOP_CODE",106),z()(j()(_),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),z()(j()(_),"SINGLE_CODE_ERROR",.64),z()(j()(_),"AVG_CODE_ERROR",.3),z()(j()(_),"FORMAT","code_128"),z()(j()(_),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),_}return _e()(C,[{key:"_decodeCode",value:function(_,v){for(var w={error:Number.MAX_VALUE,code:-1,start:_,end:_,correction:{bar:1,space:1}},I=[0,0,0,0,0,0],M=!this._row[_],R=0,P=_;P<this._row.length;P++)if(this._row[P]^(M?1:0))I[R]++;else{if(R===I.length-1){v&&this._correct(I,v);for(var q=0;q<this.CODE_PATTERN.length;q++){var G=this._matchPattern(I,this.CODE_PATTERN[q]);G<w.error&&(w.code=q,w.error=G)}return w.end=P,-1===w.code||w.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[w.code]&&(w.correction.bar=this.calculateCorrection(this.CODE_PATTERN[w.code],I,this.MODULE_INDICES.bar),w.correction.space=this.calculateCorrection(this.CODE_PATTERN[w.code],I,this.MODULE_INDICES.space)),w)}I[++R]=1,M=!M}return null}},{key:"_correct",value:function(_,v){this._correctBars(_,v.bar,this.MODULE_INDICES.bar),this._correctBars(_,v.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var _=[0,0,0,0,0,0],v=this._nextSet(this._row),w={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},I=!1,A=0,M=v;M<this._row.length;M++)if(this._row[M]^(I?1:0))_[A]++;else{if(A===_.length-1){for(var R=_.reduce(function(ye,Fe){return ye+Fe},0),P=this.START_CODE_A;P<=this.START_CODE_C;P++){var q=this._matchPattern(_,this.CODE_PATTERN[P]);q<w.error&&(w.code=P,w.error=q)}if(w.error<this.AVG_CODE_ERROR)return w.start=M-R,w.end=M,w.correction.bar=this.calculateCorrection(this.CODE_PATTERN[w.code],_,this.MODULE_INDICES.bar),w.correction.space=this.calculateCorrection(this.CODE_PATTERN[w.code],_,this.MODULE_INDICES.space),w;for(var G=0;G<4;G++)_[G]=_[G+2];_[4]=0,_[5]=0,A--}else A++;_[A]=1,I=!I}return null}},{key:"decode",value:function(_,v){var w=this,I=this._findStart();if(null===I)return null;var A={code:I.code,start:I.start,end:I.end,correction:{bar:I.correction.bar,space:I.correction.space}},M=[];M.push(A);for(var R=A.code,P=function($e){switch($e){case w.START_CODE_A:return w.CODE_A;case w.START_CODE_B:return w.CODE_B;case w.START_CODE_C:return w.CODE_C;default:return null}}(A.code),q=!1,G=!1,ye=G,Fe=!0,Oe=0,Ye=[],pt=[];!q;){if(ye=G,G=!1,null!==(A=this._decodeCode(A.end,A.correction)))switch(A.code!==this.STOP_CODE&&(Fe=!0),A.code!==this.STOP_CODE&&(Ye.push(A.code),R+=++Oe*A.code),M.push(A),P){case this.CODE_A:if(A.code<64)pt.push(String.fromCharCode(32+A.code));else if(A.code<96)pt.push(String.fromCharCode(A.code-64));else switch(A.code!==this.STOP_CODE&&(Fe=!1),A.code){case this.CODE_SHIFT:G=!0,P=this.CODE_B;break;case this.CODE_B:P=this.CODE_B;break;case this.CODE_C:P=this.CODE_C;break;case this.STOP_CODE:q=!0}break;case this.CODE_B:if(A.code<96)pt.push(String.fromCharCode(32+A.code));else switch(A.code!==this.STOP_CODE&&(Fe=!1),A.code){case this.CODE_SHIFT:G=!0,P=this.CODE_A;break;case this.CODE_A:P=this.CODE_A;break;case this.CODE_C:P=this.CODE_C;break;case this.STOP_CODE:q=!0}break;case this.CODE_C:if(A.code<100)pt.push(A.code<10?"0"+A.code:A.code);else switch(A.code!==this.STOP_CODE&&(Fe=!1),A.code){case this.CODE_A:P=this.CODE_A;break;case this.CODE_B:P=this.CODE_B;break;case this.STOP_CODE:q=!0}}else q=!0;ye&&(P=P===this.CODE_A?this.CODE_B:this.CODE_A)}return null===A?null:(A.end=this._nextUnset(this._row,A.end),this._verifyTrailingWhitespace(A)?(R-=Oe*Ye[Ye.length-1])%103!==Ye[Ye.length-1]?null:pt.length?(Fe&&pt.splice(pt.length-1,1),{code:pt.join(""),start:I.start,end:A.end,codeset:P,startInfo:I,decodedCodes:M,endInfo:A,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(_){var v;return(v=_.end+(_.end-_.start)/2)<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"calculateCorrection",value:function(_,v,w){for(var I=w.length,A=0,M=0;I--;)M+=_[w[I]],A+=v[w[I]];return M/A}}]),C}(U);function re(D,k){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(D);k&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(D,v).enumerable})),C.push.apply(C,_)}return C}function ne(D){for(var k=1;k<arguments.length;k++){var C=null!=arguments[k]?arguments[k]:{};k%2?re(Object(C),!0).forEach(function(_){z()(D,_,C[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):re(Object(C)).forEach(function(_){Object.defineProperty(D,_,Object.getOwnPropertyDescriptor(C,_))})}return D}var Re=[1,1,1],Ue=[1,1,1,1,1],Be=[1,1,2],Ie=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Ae=[0,11,13,14,19,25,28,21,22,26],je=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(_,v){var w;return we()(this,C),w=k.call(this,S()({supplements:[]},_),v),z()(j()(w),"FORMAT","ean_13"),z()(j()(w),"SINGLE_CODE_ERROR",.7),z()(j()(w),"STOP_PATTERN",[1,1,1]),w}return _e()(C,[{key:"_findPattern",value:function(_,v,w,I){var A=new Array(_.length).fill(0),M={error:Number.MAX_VALUE,start:0,end:0},R=0;v||(v=this._nextSet(this._row));for(var P=!1,q=v;q<this._row.length;q++)if(this._row[q]^(w?1:0))A[R]+=1;else{if(R===A.length-1){var G=this._matchPattern(A,_);if(G<.48&&M.error&&G<M.error)return P=!0,M.error=G,M.start=q-A.reduce(function(Fe,Oe){return Fe+Oe},0),M.end=q,M;if(I){for(var ye=0;ye<A.length-2;ye++)A[ye]=A[ye+2];A[A.length-2]=0,A[A.length-1]=0,R--}}else R++;A[R]=1,w=!w}return P?M:null}},{key:"_decodeCode",value:function(_,v){var w=[0,0,0,0],A={error:Number.MAX_VALUE,code:-1,start:_,end:_},M=!this._row[_],R=0;v||(v=Ie.length);for(var P=_;P<this._row.length;P++)if(this._row[P]^(M?1:0))w[R]++;else{if(R===w.length-1){for(var q=0;q<v;q++){var G=this._matchPattern(w,Ie[q]);A.end=P,G<A.error&&(A.code=q,A.error=G)}return A.error>.48?null:A}w[++R]=1,M=!M}return null}},{key:"_findStart",value:function(){for(var _=this._nextSet(this._row),v=null;!v;){if(!(v=this._findPattern(Re,_,!1,!0)))return null;var w=v.start-(v.end-v.start);if(w>=0&&this._matchRange(w,v.start,0))return v;_=v.end,v=null}return null}},{key:"_calculateFirstDigit",value:function(_){for(var v=0;v<Ae.length;v++)if(_===Ae[v])return v;return null}},{key:"_decodePayload",value:function(_,v,w){for(var I=ne({},_),A=0,M=0;M<6;M++){if(!(I=this._decodeCode(I.end)))return null;I.code>=10?(I.code-=10,A|=1<<5-M):A|=0<<5-M,v.push(I.code),w.push(I)}var R=this._calculateFirstDigit(A);if(null===R)return null;v.unshift(R);var P=this._findPattern(Ue,I.end,!0,!1);if(null===P||!P.end)return null;w.push(P);for(var q=0;q<6;q++){if(!(P=this._decodeCode(P.end,10)))return null;w.push(P),v.push(P.code)}return P}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start);return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"_findEnd",value:function(_,v){var w=this._findPattern(this.STOP_PATTERN,_,v,!1);return null!==w?this._verifyTrailingWhitespace(w):null}},{key:"_checksum",value:function(_){for(var v=0,w=_.length-2;w>=0;w-=2)v+=_[w];v*=3;for(var I=_.length-1;I>=0;I-=2)v+=_[I];return v%10==0}},{key:"_decodeExtensions",value:function(_){var v=this._nextSet(this._row,_),w=this._findPattern(Be,v,!1,!1);if(null===w)return null;for(var I=0;I<this.supplements.length;I++)try{var A=this.supplements[I].decode(this._row,w.end);if(null!==A)return{code:A.code,start:v,startInfo:w,end:A.end,decodedCodes:A.decodedCodes,format:this.supplements[I].FORMAT}}catch(M){console.error("* decodeExtensions error in ",this.supplements[I],": ",M)}return null}},{key:"decode",value:function(_,v){var w=new Array,I=new Array,A={},M=this._findStart();if(!M)return null;var R={start:M.start,end:M.end};if(I.push(R),!(R=this._decodePayload(R,w,I))||!(R=this._findEnd(R.end,!1))||(I.push(R),!this._checksum(w)))return null;if(this.supplements.length>0){var P=this._decodeExtensions(R.end);if(!P||!P.decodedCodes)return null;var q=P.decodedCodes[P.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:q.start+((q.end-q.start)/2|0),end:q.end}))return null;A={supplement:P,code:w.join("")+P.code}}return ne(ne({code:w.join(""),start:M.start,end:R.end,startInfo:M,decodedCodes:I},A),{},{format:this.FORMAT})}}]),C}(U),Ne=l(33),bn=l.n(Ne);var $t=new Uint16Array(bn()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(D){return D.charCodeAt(0)})),qn=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Ts=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","code_39"),_}return _e()(C,[{key:"_findStart",value:function(){for(var _=this._nextSet(this._row),v=_,w=new Uint16Array([0,0,0,0,0,0,0,0,0]),I=0,A=!1,M=_;M<this._row.length;M++)if(this._row[M]^(A?1:0))w[I]++;else{if(I===w.length-1){if(148===this._toPattern(w)){var R=Math.floor(Math.max(0,v-(M-v)/4));if(this._matchRange(R,v,0))return{start:v,end:M}}v+=w[0]+w[1];for(var P=0;P<7;P++)w[P]=w[P+2];w[7]=0,w[8]=0,I--}else I++;w[I]=1,A=!A}return null}},{key:"_toPattern",value:function(_){for(var v=_.length,w=0,I=v,A=0;I>3;){w=this._findNextWidth(_,w),I=0;for(var M=0,R=0;R<v;R++)_[R]>w&&(M|=1<<v-1-R,I++,A+=_[R]);if(3===I){for(var P=0;P<v&&I>0;P++)if(_[P]>w&&(I--,2*_[P]>=A))return-1;return M}}return-1}},{key:"_findNextWidth",value:function(_,v){for(var w=Number.MAX_VALUE,I=0;I<_.length;I++)_[I]<w&&_[I]>v&&(w=_[I]);return w}},{key:"_patternToChar",value:function(_){for(var v=0;v<qn.length;v++)if(qn[v]===_)return String.fromCharCode($t[v]);return null}},{key:"_verifyTrailingWhitespace",value:function(_,v,w){var I=fe.a.sum(w);return 3*(v-_-I)>=I}},{key:"decode",value:function(_,v){var w=new Uint16Array([0,0,0,0,0,0,0,0,0]),I=[];if(!(v=this._findStart()))return null;var A,M,R=this._nextSet(this._row,v.end);do{w=this._toCounters(R,w);var P=this._toPattern(w);if(P<0||null===(A=this._patternToChar(P)))return null;I.push(A),M=R,R+=fe.a.sum(w),R=this._nextSet(this._row,R)}while("*"!==A);return I.pop(),I.length&&this._verifyTrailingWhitespace(M,R,w)?{code:I.join(""),start:v.start,end:R,startInfo:v,decodedCodes:I,format:this.FORMAT}:null}}]),C}(U),q1=l(12),Eu=l.n(q1);var K1=/[IOQ]/g,up=/[A-Z0-9]{17}/,av=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","code_39_vin"),_}return _e()(C,[{key:"_checkChecksum",value:function(_){return!!_}},{key:"decode",value:function(_,v){var w=Eu()(Y()(C.prototype),"decode",this).call(this,_,v);if(!w)return null;var I=w.code;return I&&(I=I.replace(K1,"")).match(up)&&this._checkChecksum(I)?(w.code=I,w):null}}]),C}(Ts);var kl=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],lp=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],uv=[26,41,11,14],cv=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"_counters",[]),z()(j()(_),"FORMAT","codabar"),_}return _e()(C,[{key:"_computeAlternatingThreshold",value:function(_,v){for(var w=Number.MAX_VALUE,I=0,A=0,M=_;M<v;M+=2)(A=this._counters[M])>I&&(I=A),A<w&&(w=A);return(w+I)/2|0}},{key:"_toPattern",value:function(_){var v=_+7;if(v>this._counters.length)return-1;for(var w=this._computeAlternatingThreshold(_,v),I=this._computeAlternatingThreshold(_+1,v),A=64,R=0,P=0;P<7;P++)this._counters[_+P]>(0==(1&P)?w:I)&&(R|=A),A>>=1;return R}},{key:"_isStartEnd",value:function(_){for(var v=0;v<uv.length;v++)if(uv[v]===_)return!0;return!1}},{key:"_sumCounters",value:function(_,v){for(var w=0,I=_;I<v;I++)w+=this._counters[I];return w}},{key:"_findStart",value:function(){for(var _=this._nextUnset(this._row),v=1;v<this._counters.length;v++){var w=this._toPattern(v);if(-1!==w&&this._isStartEnd(w))return{start:_+=this._sumCounters(0,v),end:_+this._sumCounters(v,v+8),startCounter:v,endCounter:v+8}}return null}},{key:"_patternToChar",value:function(_){for(var v=0;v<lp.length;v++)if(lp[v]===_)return String.fromCharCode(kl[v]);return null}},{key:"_calculatePatternLength",value:function(_){for(var v=0,w=_;w<_+7;w++)v+=this._counters[w];return v}},{key:"_verifyWhitespace",value:function(_,v){return(_-1<=0||this._counters[_-1]>=this._calculatePatternLength(_)/2)&&(v+8>=this._counters.length||this._counters[v+7]>=this._calculatePatternLength(v)/2)}},{key:"_charToPattern",value:function(_){for(var v=_.charCodeAt(0),w=0;w<kl.length;w++)if(kl[w]===v)return lp[w];return 0}},{key:"_thresholdResultPattern",value:function(_,v){for(var w,I={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},A=v,M=0;M<_.length;M++){w=this._charToPattern(_[M]);for(var R=6;R>=0;R--){var P=2==(1&R)?I.bar:I.space,q=1==(1&w)?P.wide:P.narrow;q.size+=this._counters[A+R],q.counts++,w>>=1}A+=8}return["space","bar"].forEach(function(G){var ye=I[G];ye.wide.min=Math.floor((ye.narrow.size/ye.narrow.counts+ye.wide.size/ye.wide.counts)/2),ye.narrow.max=Math.ceil(ye.wide.min),ye.wide.max=Math.ceil((2*ye.wide.size+1.5)/ye.wide.counts)}),I}},{key:"_validateResult",value:function(_,v){for(var w,I=this._thresholdResultPattern(_,v),A=v,M=0;M<_.length;M++){w=this._charToPattern(_[M]);for(var R=6;R>=0;R--){var P=0==(1&R)?I.bar:I.space,q=1==(1&w)?P.wide:P.narrow,G=this._counters[A+R];if(G<q.min||G>q.max)return!1;w>>=1}A+=8}return!0}},{key:"decode",value:function(_,v){if(this._counters=this._fillCounters(),!(v=this._findStart()))return null;var w,I=v.startCounter,A=[];do{if((w=this._toPattern(I))<0)return null;var M=this._patternToChar(w);if(null===M)return null;if(A.push(M),I+=8,A.length>1&&this._isStartEnd(w))break}while(I<this._counters.length);if(A.length-2<4||!this._isStartEnd(w)||!this._verifyWhitespace(v.startCounter,I-8)||!this._validateResult(A,v.startCounter))return null;var R=v.start+this._sumCounters(v.startCounter,(I=I>this._counters.length?this._counters.length:I)-8);return{code:A.join(""),start:v.start,end:R,startInfo:v,decodedCodes:A,format:this.FORMAT}}}]),C}(U);var dp=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","upc_a"),_}return _e()(C,[{key:"decode",value:function(_,v){var w=je.prototype.decode.call(this);return w&&w.code&&13===w.code.length&&"0"===w.code.charAt(0)?(w.code=w.code.substring(1),w):null}}]),C}(je);var hp=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","ean_8"),_}return _e()(C,[{key:"_decodePayload",value:function(_,v,w){for(var I=_,A=0;A<4;A++){if(!(I=this._decodeCode(I.end,10)))return null;v.push(I.code),w.push(I)}if(null===(I=this._findPattern(Ue,I.end,!0,!1)))return null;w.push(I);for(var M=0;M<4;M++){if(!(I=this._decodeCode(I.end,10)))return null;w.push(I),v.push(I.code)}return I}}]),C}(je);var fp=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","ean_2"),_}return _e()(C,[{key:"decode",value:function(_,v){_&&(this._row=_);var w=0,I=v,A=this._row.length,M=[],R=[],P=null;if(void 0===I)return null;for(var q=0;q<2&&I<A;q++){if(!(P=this._decodeCode(I)))return null;R.push(P),M.push(P.code%10),P.code>=10&&(w|=1<<1-q),1!==q&&(I=this._nextSet(this._row,P.end),I=this._nextUnset(this._row,I))}if(2!==M.length||parseInt(M.join(""))%4!==w)return null;var G=this._findStart();return{code:M.join(""),decodedCodes:R,end:P.end,format:this.FORMAT,startInfo:G,start:G.start}}}]),C}(je);var X1=[24,20,18,17,12,6,3,10,9,5],lv=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","ean_5"),_}return _e()(C,[{key:"decode",value:function(_,v){if(void 0===v)return null;_&&(this._row=_);for(var w=0,I=v,A=this._row.length,M=null,R=[],P=[],q=0;q<5&&I<A;q++){if(!(M=this._decodeCode(I)))return null;P.push(M),R.push(M.code%10),M.code>=10&&(w|=1<<4-q),4!==q&&(I=this._nextSet(this._row,M.end),I=this._nextUnset(this._row,I))}if(5!==R.length||function(ye){for(var Fe=ye.length,Oe=0,Ye=Fe-2;Ye>=0;Ye-=2)Oe+=ye[Ye];Oe*=3;for(var pt=Fe-1;pt>=0;pt-=2)Oe+=ye[pt];return(Oe*=3)%10}(R)!==function(ye){for(var Fe=0;Fe<10;Fe++)if(ye===X1[Fe])return Fe;return null}(w))return null;var G=this._findStart();return{code:R.join(""),decodedCodes:P,end:M.end,format:this.FORMAT,startInfo:G,start:G.start}}}]),C}(je);function dv(D,k){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(D);k&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(D,v).enumerable})),C.push.apply(C,_)}return C}var Ol=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),z()(j()(_),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),z()(j()(_),"FORMAT","upc_e"),_}return _e()(C,[{key:"_decodePayload",value:function(_,v,w){for(var I=function(R){for(var P=1;P<arguments.length;P++){var q=null!=arguments[P]?arguments[P]:{};P%2?dv(Object(q),!0).forEach(function(G){z()(R,G,q[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(q)):dv(Object(q)).forEach(function(G){Object.defineProperty(R,G,Object.getOwnPropertyDescriptor(q,G))})}return R}({},_),A=0,M=0;M<6;M++){if(!(I=this._decodeCode(I.end)))return null;I.code>=10&&(I.code=I.code-10,A|=1<<5-M),v.push(I.code),w.push(I)}return this._determineParity(A,v)?I:null}},{key:"_determineParity",value:function(_,v){for(var w=0;w<this.CODE_FREQUENCY.length;w++)for(var I=0;I<this.CODE_FREQUENCY[w].length;I++)if(_===this.CODE_FREQUENCY[w][I])return v.unshift(w),v.push(I),!0;return!1}},{key:"_convertToUPCA",value:function(_){var v=[_[0]],w=_[_.length-2];return(v=w<=2?v.concat(_.slice(1,3)).concat([w,0,0,0,0]).concat(_.slice(3,6)):3===w?v.concat(_.slice(1,4)).concat([0,0,0,0,0]).concat(_.slice(4,6)):4===w?v.concat(_.slice(1,5)).concat([0,0,0,0,0,_[5]]):v.concat(_.slice(1,6)).concat([0,0,0,0,w])).push(_[_.length-1]),v}},{key:"_checksum",value:function(_){return Eu()(Y()(C.prototype),"_checksum",this).call(this,this._convertToUPCA(_))}},{key:"_findEnd",value:function(_,v){return Eu()(Y()(C.prototype),"_findEnd",this).call(this,_,!0)}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start)/2;return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}}]),C}(je);var Pl=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(_){var v;return we()(this,C),v=k.call(this,S()({normalizeBarSpaceWidth:!1},_)),z()(j()(v),"barSpaceRatio",[1,1]),z()(j()(v),"SINGLE_CODE_ERROR",.78),z()(j()(v),"AVG_CODE_ERROR",.38),z()(j()(v),"START_PATTERN",[1,1,1,1]),z()(j()(v),"STOP_PATTERN",[1,1,3]),z()(j()(v),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),z()(j()(v),"MAX_CORRECTION_FACTOR",5),z()(j()(v),"FORMAT","i2of5"),_.normalizeBarSpaceWidth&&(v.SINGLE_CODE_ERROR=.38,v.AVG_CODE_ERROR=.09),v.config=_,ge()(v,j()(v))}return _e()(C,[{key:"_matchPattern",value:function(_,v){if(this.config.normalizeBarSpaceWidth){for(var w=[0,0],I=[0,0],A=[0,0],M=this.MAX_CORRECTION_FACTOR,R=1/M,P=0;P<_.length;P++)w[P%2]+=_[P],I[P%2]+=v[P];A[0]=I[0]/w[0],A[1]=I[1]/w[1],A[0]=Math.max(Math.min(A[0],M),R),A[1]=Math.max(Math.min(A[1],M),R),this.barSpaceRatio=A;for(var q=0;q<_.length;q++)_[q]*=this.barSpaceRatio[q%2]}return Eu()(Y()(C.prototype),"_matchPattern",this).call(this,_,v)}},{key:"_findPattern",value:function(_,v){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],I=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=new Array(_.length).fill(0),M=0,R={error:Number.MAX_VALUE,start:0,end:0},P=this.AVG_CODE_ERROR;w=w||!1,I=I||!1,v||(v=this._nextSet(this._row));for(var q=v;q<this._row.length;q++)if(this._row[q]^(w?1:0))A[M]++;else{if(M===A.length-1){var G=A.reduce(function(Oe,Ye){return Oe+Ye},0),ye=this._matchPattern(A,_);if(ye<P)return R.error=ye,R.start=q-G,R.end=q,R;if(!I)return null;for(var Fe=0;Fe<A.length-2;Fe++)A[Fe]=A[Fe+2];A[A.length-2]=0,A[A.length-1]=0,M--}else M++;A[M]=1,w=!w}return null}},{key:"_findStart",value:function(){for(var _=0,v=this._nextSet(this._row),w=null,I=1;!w;){if(!(w=this._findPattern(this.START_PATTERN,v,!1,!0)))return null;if(I=Math.floor((w.end-w.start)/4),(_=w.start-10*I)>=0&&this._matchRange(_,w.start,0))return w;v=w.end,w=null}return null}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start)/2;return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"_findEnd",value:function(){this._row.reverse();var _=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===_)return null;var v=_.start;return _.start=this._row.length-_.end,_.end=this._row.length-v,null!==_?this._verifyTrailingWhitespace(_):null}},{key:"_decodePair",value:function(_){for(var v=[],w=0;w<_.length;w++){var I=this._decodeCode(_[w]);if(!I)return null;v.push(I)}return v}},{key:"_decodeCode",value:function(_){for(var v=this.AVG_CODE_ERROR,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},I=0;I<this.CODE_PATTERN.length;I++){var A=this._matchPattern(_,this.CODE_PATTERN[I]);A<w.error&&(w.code=I,w.error=A)}return w.error<v?w:null}},{key:"_decodePayload",value:function(_,v,w){for(var I=0,A=_.length,M=[[0,0,0,0,0],[0,0,0,0,0]],R=null;I<A;){for(var P=0;P<5;P++)M[0][P]=_[I]*this.barSpaceRatio[0],M[1][P]=_[I+1]*this.barSpaceRatio[1],I+=2;if(!(R=this._decodePair(M)))return null;for(var q=0;q<R.length;q++)v.push(R[q].code+""),w.push(R[q])}return R}},{key:"_verifyCounterLength",value:function(_){return _.length%10==0}},{key:"decode",value:function(_,v){var w=new Array,I=new Array,A=this._findStart();if(!A)return null;I.push(A);var M=this._findEnd();if(!M)return null;var R=this._fillCounters(A.end,M.start,!1);return this._verifyCounterLength(R)&&this._decodePayload(R,w,I)?w.length%2!=0||w.length<6?null:(I.push(M),{code:w.join(""),start:A.start,end:M.end,startInfo:A,decodedCodes:I,format:this.FORMAT}):null}}]),C}(U);var mp=[3,1,3,1,1,1],_p=[3,1,1,1,3],Fl=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],yp=mp.reduce(function(D,k){return D+k},0),Ll=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"barSpaceRatio",[1,1]),z()(j()(_),"FORMAT","2of5"),z()(j()(_),"SINGLE_CODE_ERROR",.78),z()(j()(_),"AVG_CODE_ERROR",.3),_}return _e()(C,[{key:"_findPattern",value:function(_,v){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],I=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=[],M=0,R={error:Number.MAX_VALUE,code:-1,start:0,end:0},P=0,q=0,G=this.AVG_CODE_ERROR;v||(v=this._nextSet(this._row));for(var ye=0;ye<_.length;ye++)A[ye]=0;for(var Fe=v;Fe<this._row.length;Fe++)if(this._row[Fe]^(w?1:0))A[M]++;else{if(M===A.length-1){P=0;for(var Oe=0;Oe<A.length;Oe++)P+=A[Oe];if((q=this._matchPattern(A,_))<G)return R.error=q,R.start=Fe-P,R.end=Fe,R;if(!I)return null;for(var Ye=0;Ye<A.length-2;Ye++)A[Ye]=A[Ye+2];A[A.length-2]=0,A[A.length-1]=0,M--}else M++;A[M]=1,w=!w}return null}},{key:"_findStart",value:function(){for(var _=null,v=this._nextSet(this._row),w=1,I=0;!_;){if(!(_=this._findPattern(mp,v,!1,!0)))return null;if(w=Math.floor((_.end-_.start)/yp),(I=_.start-5*w)>=0&&this._matchRange(I,_.start,0))return _;v=_.end,_=null}return _}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start)/2;return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"_findEnd",value:function(){this._row.reverse();var _=this._nextSet(this._row),v=this._findPattern(_p,_,!1,!0);if(this._row.reverse(),null===v)return null;var w=v.start;return v.start=this._row.length-v.end,v.end=this._row.length-w,null!==v?this._verifyTrailingWhitespace(v):null}},{key:"_verifyCounterLength",value:function(_){return _.length%10==0}},{key:"_decodeCode",value:function(_){for(var v=this.AVG_CODE_ERROR,w={error:Number.MAX_VALUE,code:-1,start:0,end:0},I=0;I<Fl.length;I++){var A=this._matchPattern(_,Fl[I]);A<w.error&&(w.code=I,w.error=A)}return w.error<v?w:null}},{key:"_decodePayload",value:function(_,v,w){for(var I=0,A=_.length,M=[0,0,0,0,0],R=null;I<A;){for(var P=0;P<5;P++)M[P]=_[I]*this.barSpaceRatio[0],I+=2;if(!(R=this._decodeCode(M)))return null;v.push("".concat(R.code)),w.push(R)}return R}},{key:"decode",value:function(_,v){var w=this._findStart();if(!w)return null;var I=this._findEnd();if(!I)return null;var A=this._fillCounters(w.end,I.start,!1);if(!this._verifyCounterLength(A))return null;var M=[];M.push(w);var R=[];return this._decodePayload(A,R,M)?R.length<5?null:(M.push(I),{code:R.join(""),start:w.start,end:I.end,startInfo:w,decodedCodes:M,format:this.FORMAT}):null}}]),C}(U);var Vl=new Uint16Array(bn()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(D){return D.charCodeAt(0)})),vp=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),wp=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","code_93"),_}return _e()(C,[{key:"_patternToChar",value:function(_){for(var v=0;v<vp.length;v++)if(vp[v]===_)return String.fromCharCode(Vl[v]);return null}},{key:"_toPattern",value:function(_){for(var v=_.length,w=_.reduce(function(P,q){return P+q},0),I=0,A=0;A<v;A++){var M=Math.round(9*_[A]/w);if(M<1||M>4)return-1;if(0==(1&A))for(var R=0;R<M;R++)I=I<<1|1;else I<<=M}return I}},{key:"_findStart",value:function(){for(var _=this._nextSet(this._row),v=_,w=new Uint16Array([0,0,0,0,0,0]),I=0,A=!1,M=_;M<this._row.length;M++)if(this._row[M]^(A?1:0))w[I]++;else{if(I===w.length-1){if(350===this._toPattern(w)){var R=Math.floor(Math.max(0,v-(M-v)/4));if(this._matchRange(R,v,0))return{start:v,end:M}}v+=w[0]+w[1];for(var P=0;P<4;P++)w[P]=w[P+2];w[4]=0,w[5]=0,I--}else I++;w[I]=1,A=!A}return null}},{key:"_verifyEnd",value:function(_,v){return!(_===v||!this._row[v])}},{key:"_decodeExtended",value:function(_){for(var v=_.length,w=[],I=0;I<v;I++){var A=_[I];if(A>="a"&&A<="d"){if(I>v-2)return null;var M=_[++I],R=M.charCodeAt(0),P=void 0;switch(A){case"a":if(!(M>="A"&&M<="Z"))return null;P=String.fromCharCode(R-64);break;case"b":if(M>="A"&&M<="E")P=String.fromCharCode(R-38);else if(M>="F"&&M<="J")P=String.fromCharCode(R-11);else if(M>="K"&&M<="O")P=String.fromCharCode(R+16);else if(M>="P"&&M<="S")P=String.fromCharCode(R+43);else{if(!(M>="T"&&M<="Z"))return null;P=String.fromCharCode(127)}break;case"c":if(M>="A"&&M<="O")P=String.fromCharCode(R-32);else{if("Z"!==M)return null;P=":"}break;case"d":if(!(M>="A"&&M<="Z"))return null;P=String.fromCharCode(R+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",P),null}w.push(P)}else w.push(A)}return w}},{key:"_matchCheckChar",value:function(_,v,w){var I=_.slice(0,v),A=I.length,M=I.reduce(function(R,P,q){return R+((-1*q+(A-1))%w+1)*Vl.indexOf(P.charCodeAt(0))},0);return Vl[M%47]===_[v].charCodeAt(0)}},{key:"_verifyChecksums",value:function(_){return this._matchCheckChar(_,_.length-2,20)&&this._matchCheckChar(_,_.length-1,15)}},{key:"decode",value:function(_,v){if(!(v=this._findStart()))return null;var w,I,A=new Uint16Array([0,0,0,0,0,0]),M=[],R=this._nextSet(this._row,v.end);do{A=this._toCounters(R,A);var P=this._toPattern(A);if(P<0||null===(I=this._patternToChar(P)))return null;M.push(I),w=R,R+=fe.a.sum(A),R=this._nextSet(this._row,R)}while("*"!==I);return M.pop(),M.length&&this._verifyEnd(w,R)&&this._verifyChecksums(M)?(M=M.slice(0,M.length-2),null===(M=this._decodeExtended(M))?null:{code:M.join(""),start:v.start,end:R,startInfo:v,decodedCodes:M,format:this.FORMAT}):null}}]),C}(U);var Ep=/[AEIO]/g,bp=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(){var _;we()(this,C);for(var v=arguments.length,w=new Array(v),I=0;I<v;I++)w[I]=arguments[I];return _=k.call.apply(k,[this].concat(w)),z()(j()(_),"FORMAT","code_32_reader"),_}return _e()(C,[{key:"_decodeCode32",value:function(_){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(_))return null;for(var v=0,w=0;w<_.length;w++)v=32*v+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(_[w]);var I=""+v;return I.length<9&&(I=("000000000"+I).slice(-9)),"A"+I}},{key:"_checkChecksum",value:function(_){return!!_}},{key:"decode",value:function(_,v){var w=Eu()(Y()(C.prototype),"decode",this).call(this,_,v);if(!w)return null;var I=w.code;if(!I||(I=I.replace(Ep,""),!this._checkChecksum(I)))return null;var A=this._decodeCode32(I);return A?(w.code=A,w):null}}]),C}(Ts),ia={code_128_reader:W,ean_reader:je,ean_5_reader:lv,ean_2_reader:fp,ean_8_reader:hp,code_39_reader:Ts,code_39_vin_reader:av,codabar_reader:cv,upc_reader:dp,upc_e_reader:Ol,i2of5_reader:Pl,"2of5_reader":Ll,code_93_reader:wp,code_32_reader:bp},Wr={registerReader:function(D,k){ia[D]=k},create:function(D,k){var _=[];function v(){D.readers.forEach(function(A){var M,R={},P=[];"object"===E()(A)?(M=A.format,R=A.config):"string"==typeof A&&(M=A),R.supplements&&(P=R.supplements.map(function(G){return new ia[G]}));try{var q=new ia[M](R,P);_.push(q)}catch(G){throw console.error("* Error constructing reader ",M,G),G}})}function w(A){var M,R=null,P=ie.getBarcodeLine(k,A[0],A[1]);for(ie.toBinaryLine(P),M=0;M<_.length&&null===R;M++)R=_[M].decodePattern(P.line);return null===R?null:{codeResult:R,barcodeLine:P}}function I(A){var M,R,G,P=function(G){return Math.sqrt(Math.pow(Math.abs(G[1].y-G[0].y),2)+Math.pow(Math.abs(G[1].x-G[0].x),2))}(M=[{x:((G=A)[1][0]-G[0][0])/2+G[0][0],y:(G[1][1]-G[0][1])/2+G[0][1]},{x:(G[3][0]-G[2][0])/2+G[2][0],y:(G[3][1]-G[2][1])/2+G[2][1]}]),q=Math.atan2(M[1].y-M[0].y,M[1].x-M[0].x);return null===(M=function(G,ye,Fe){function Oe(Ye){var pt=Ye*Math.sin(ye),$e=Ye*Math.cos(ye);G[0].y-=pt,G[0].x-=$e,G[1].y+=pt,G[1].x+=$e}for(Oe(Fe);Fe>1&&(!k.inImageWithBorder(G[0])||!k.inImageWithBorder(G[1]));)Oe(-(Fe-=Math.ceil(Fe/2)));return G}(M,q,Math.floor(.1*P)))?null:(null===(R=w(M))&&(R=function(G,ye,Fe){var Oe,Ye,pt,$e=Math.sqrt(Math.pow(G[1][0]-G[0][0],2)+Math.pow(G[1][1]-G[0][1],2)),It=null,pn=Math.sin(Fe),zr=Math.cos(Fe);for(Oe=1;Oe<16&&null===It;Oe++)pt={y:(Ye=$e/16*Oe*(Oe%2==0?-1:1))*pn,x:Ye*zr},ye[0].y+=pt.x,ye[0].x-=pt.y,ye[1].y+=pt.x,ye[1].x-=pt.y,It=w(ye);return It}(A,M,q)),null===R?null:{codeResult:R.codeResult,line:M,angle:q,pattern:R.barcodeLine.line,threshold:R.barcodeLine.threshold})}return v(),{decodeFromBoundingBox:function(A){return I(A)},decodeFromBoundingBoxes:function(A){var M,R,P=[],q=D.multiple;for(M=0;M<A.length;M++){var G=A[M];if((R=I(G)||{}).box=G,q)P.push(R);else if(R.codeResult)return R}if(q)return{barcodes:P}},decodeFromImage:function(A){return function(M){for(var R=null,P=0;P<_.length&&null===R;P++)R=_[P].decodeImage?_[P].decodeImage(M):null;return R}(A)},registerReader:function(A,M){if(ia[A])throw new Error("cannot register existing reader",A);ia[A]=M},setReaders:function(A){D.readers=A,_.length=0,v()}}}},Ss=function(){var D={};function k(v){return D[v]||(D[v]={subscribers:[]}),D[v]}function C(v,w){v.async?setTimeout(function(){v.callback(w)},4):v.callback(w)}function _(v,w,I){var A;if("function"==typeof w)A={callback:w,async:I};else if(!(A=w).callback)throw new Error("Callback was not specified on options");k(v).subscribers.push(A)}return{subscribe:function(v,w,I){return _(v,w,I)},publish:function(v,w){var I=k(v),A=I.subscribers;A.filter(function(M){return!!M.once}).forEach(function(M){C(M,w)}),I.subscribers=A.filter(function(M){return!M.once}),I.subscribers.forEach(function(M){C(M,w)})},once:function(v,w){_(v,{callback:w,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(v,w){if(v){var I=k(v);I.subscribers=I&&w?I.subscribers.filter(function(A){return A.callback!==w}):[]}else D={}}}}(),Zt=l(20),Ki=l.n(Zt),Ii=l(11),xs=l.n(Ii),fv=l(85),Cp=l.n(fv),Ul=l(86);var li,Bl=function(D){oe()(C,D);var k=function(D){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Y()(D);if(k){var v=Y()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return ge()(this,C)}}(C);function C(_,v){var w;return we()(this,C),w=k.call(this,_),z()(j()(w),"code",void 0),w.code=v,Object.setPrototypeOf(j()(w),C.prototype),w}return C}(l.n(Ul)()(Error)),sa="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function bu(){try{return navigator.mediaDevices.enumerateDevices()}catch(k){var D=new Bl("enumerateDevices is not defined. ".concat(sa),-1);return Promise.reject(D)}}function pv(D){try{return navigator.mediaDevices.getUserMedia(D)}catch(C){var k=new Bl("getUserMedia is not defined. ".concat(sa),-1);return Promise.reject(k)}}function gv(D){return new Promise(function(k,C){var _=10;!function v(){_>0?D.videoWidth>10&&D.videoHeight>10?k():window.setTimeout(v,500):C(new Bl("Unable to play video stream. Is webcam working?",-1)),_--}()})}function mv(D,k){return Tp.apply(this,arguments)}function Tp(){return(Tp=Ki()(xs.a.mark(function D(k,C){var _;return xs.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,pv(C);case 2:if(li=_=v.sent,!k){v.next=11;break}return k.setAttribute("autoplay","true"),k.setAttribute("muted","true"),k.setAttribute("playsinline","true"),k.srcObject=_,k.addEventListener("loadedmetadata",function(){k.play()}),v.abrupt("return",gv(k));case 11:return v.abrupt("return",Promise.resolve());case 12:case"end":return v.stop()}},D)}))).apply(this,arguments)}function Dp(D){var k=Cp()(D,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==D.minAspectRatio&&D.minAspectRatio>0&&(k.aspectRatio=D.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==D.facing&&(k.facingMode=D.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),k}function _v(){var k=Dp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return k&&k.deviceId&&k.facingMode&&delete k.facingMode,Promise.resolve({audio:!1,video:k})}function Sp(){return(Sp=Ki()(xs.a.mark(function D(){return xs.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,bu();case 2:return C.abrupt("return",C.sent.filter(function(_){return"videoinput"===_.kind}));case 4:case"end":return C.stop()}},D)}))).apply(this,arguments)}function en(){if(!li)return null;var D=li.getVideoTracks();return D&&null!=D&&D.length?D[0]:null}var As={requestedVideoElement:null,request:function(D,k){return Ki()(xs.a.mark(function C(){return xs.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return As.requestedVideoElement=D,v.next=3,_v(k);case 3:return v.abrupt("return",mv(D,v.sent));case 5:case"end":return v.stop()}},C)}))()},release:function(){var D=li&&li.getVideoTracks();return null!==As.requestedVideoElement&&As.requestedVideoElement.pause(),new Promise(function(k){setTimeout(function(){D&&D.length&&D[0].stop(),li=null,As.requestedVideoElement=null,k()},0)})},enumerateVideoDevices:function(){return Sp.apply(this,arguments)},getActiveStreamLabel:function(){var D=en();return D?D.label:""},getActiveTrack:en},Kn=As,xp={create:function(D){var k,C=document.createElement("canvas"),_=C.getContext("2d"),v=[],w=null!==(k=D.capacity)&&void 0!==k?k:20,I=!0===D.capture;return{addResult:function(M,R,P){var q={};(function(M){return!!w&&M&&(R=M,!((P=D.blacklist)&&P.some(function(q){return Object.keys(q).every(function(G){return q[G]===R[G]})})))&&function(R,P){return"function"!=typeof P||P(R)}(M,D.filter);var R,P})(P)&&(w--,q.codeResult=P,I&&(C.width=R.x,C.height=R.y,ue.a.drawImage(M,R,_),q.frame=C.toDataURL()),v.push(q))},getResults:function(){return v}}}},jl={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},mt=l(7),$l=function D(){we()(this,D),z()(this,"config",void 0),z()(this,"inputStream",void 0),z()(this,"framegrabber",void 0),z()(this,"inputImageWrapper",void 0),z()(this,"stopped",!1),z()(this,"boxSize",void 0),z()(this,"resultCollector",void 0),z()(this,"decoder",void 0),z()(this,"workerPool",[]),z()(this,"onUIThread",!0),z()(this,"canvasContainer",new Hl)},ft=function D(){we()(this,D),z()(this,"image",void 0),z()(this,"overlay",void 0)},Hl=function D(){we()(this,D),z()(this,"ctx",void 0),z()(this,"dom",void 0),this.ctx=new ft,this.dom=new ft},Gl=l(23);function Dt(D){return"undefined"==typeof document?null:D instanceof HTMLElement&&D.nodeName&&1===D.nodeType?D:document.querySelector("string"==typeof D?D:"#interactive.viewport")}function nt(D,k){var w,I,C=(w=k,(I=document.querySelector(D))||((I=document.createElement("canvas")).className=w),I),_=C.getContext("2d");return{canvas:C,context:_}}var Wl={274:"orientation"},or=Object.keys(Wl).map(function(D){return Wl[D]});function Z1(D){return new Promise(function(k){var C=new FileReader;C.onload=function(_){return k(_.target.result)},C.readAsArrayBuffer(D)})}function zl(D){return new Promise(function(k,C){var _=new XMLHttpRequest;_.open("GET",D,!0),_.responseType="blob",_.onreadystatechange=function(){_.readyState!==XMLHttpRequest.DONE||200!==_.status&&0!==_.status||k(this.response)},_.onerror=C,_.send()})}function Je(D){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or,C=new DataView(D),_=D.byteLength,v=k.reduce(function(I,A){var M=Object.keys(Wl).filter(function(R){return Wl[R]===A})[0];return M&&(I[M]=A),I},{}),w=2;if(255!==C.getUint8(0)||216!==C.getUint8(1))return!1;for(;w<_;){if(255!==C.getUint8(w))return!1;if(225===C.getUint8(w+1))return Qn(C,w+4,v);w+=2+C.getUint16(w+2)}return!1}function Qn(D,k,C){if("Exif"!==function(I,A,M){for(var R="",P=A;P<A+4;P++)R+=String.fromCharCode(I.getUint8(P));return R}(D,k))return!1;var _,v=k+6;if(18761===D.getUint16(v))_=!1;else{if(19789!==D.getUint16(v))return!1;_=!0}if(42!==D.getUint16(v+2,!_))return!1;var w=D.getUint32(v+4,!_);return!(w<8)&&function(I,A,M,R,P){for(var q=I.getUint16(M,!P),G={},ye=0;ye<q;ye++){var Fe=M+12*ye+2,Oe=R[I.getUint16(Fe,!P)];Oe&&(G[Oe]=yv(I,Fe,0,0,P))}return G}(D,0,v+w,C,_)}function yv(D,k,C,_,v){var w=D.getUint16(k+2,!v),I=D.getUint32(k+4,!v);return 3===w&&1===I?D.getUint16(k+8,!v):null}var vv={};function eM(D,k){D.onload=function(){k.loaded(this)}}vv.load=function(D,k,C,_,v){var w,I,A,M=new Array(_),R=new Array(M.length);if(!1===v)M[0]=D;else for(w=0;w<M.length;w++)A=C+w,M[w]="".concat(D,"image-").concat("00".concat(A).slice(-3),".jpg");for(R.notLoaded=[],R.addImage=function(P){R.notLoaded.push(P)},R.loaded=function(P){for(var q=R.notLoaded,G=0;G<q.length;G++)if(q[G]===P){q.splice(G,1);for(var ye=0;ye<M.length;ye++){var Fe=M[ye].substr(M[ye].lastIndexOf("/"));if(-1!==P.src.lastIndexOf(Fe)){R[ye]={img:P};break}}break}0===q.length&&(!1===v?function(Oe){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;return/^blob:/i.test(Oe)?zl(Oe).then(Z1).then(function(pt){return Je(pt,Ye)}):Promise.resolve(null)}(D,["orientation"]).then(function(Oe){R[0].tags=Oe,k(R)}).catch(function(Oe){console.log(Oe),k(R)}):k(R))},w=0;w<M.length;w++)I=new Image,R.addImage(I),eM(I,R),I.src=M[w]};var Cu=vv,ar={createVideoStream:function(D){var k,C,_=null,v=["canrecord","ended"],w={},I={x:0,y:0,type:"Point"},A={x:0,y:0,type:"XYSize"},M={getRealWidth:function(){return D.videoWidth},getRealHeight:function(){return D.videoHeight},getWidth:function(){return k},getHeight:function(){return C},setWidth:function(R){k=R},setHeight:function(R){C=R},setInputStream:function(R){_=R,this.setAttribute("src",void 0!==R.src?R.src:"")},ended:function(){return D.ended},getConfig:function(){return _},setAttribute:function(R,P){D&&D.setAttribute(R,P)},pause:function(){D.pause()},play:function(){D.play()},setCurrentTime:function(R){var P;"LiveStream"!==(null===(P=_)||void 0===P?void 0:P.type)&&this.setAttribute("currentTime",R.toString())},addEventListener:function(R,P,q){-1!==v.indexOf(R)?(w[R]||(w[R]=[]),w[R].push(P)):D.addEventListener(R,P,q)},clearEventHandlers:function(){v.forEach(function(R){var P=w[R];P&&P.length>0&&P.forEach(function(q){D.removeEventListener(R,q)})})},trigger:function(R,P){var q,G,ye,Fe,Oe,Ye=w[R];if("canrecord"===R&&(Fe=D.videoWidth,Oe=D.videoHeight,k=null!==(G=_)&&void 0!==G&&G.size?Fe/Oe>1?_.size:Math.floor(Fe/Oe*_.size):Fe,C=null!==(ye=_)&&void 0!==ye&&ye.size?Fe/Oe>1?Math.floor(Oe/Fe*_.size):_.size:Oe,A.x=k,A.y=C),Ye&&Ye.length>0)for(q=0;q<Ye.length;q++)Ye[q].apply(M,P)},setTopRight:function(R){I.x=R.x,I.y=R.y},getTopRight:function(){return I},setCanvasSize:function(R){A.x=R.x,A.y=R.y},getCanvasSize:function(){return A},getFrame:function(){return D}};return M},createLiveStream:function(D){D&&D.setAttribute("autoplay","true");var k=ar.createVideoStream(D);return k.ended=function(){return!1},k},createImageStream:function(){var D,k,C=null,_=0,v=0,w=0,I=!0,A=!1,M=null,R=0,P=null,q=!1,G=["canrecord","ended"],ye={},Fe={x:0,y:0,type:"Point"},Oe={x:0,y:0,type:"XYSize"};function Ye($e,It){var pn,zr=ye[$e];if(zr&&zr.length>0)for(pn=0;pn<zr.length;pn++)zr[pn].apply(pt,It)}var pt={trigger:Ye,getWidth:function(){return D},getHeight:function(){return k},setWidth:function($e){D=$e},setHeight:function($e){k=$e},getRealWidth:function(){return _},getRealHeight:function(){return v},setInputStream:function($e){var It;!1===$e.sequence?(P=$e.src,R=1):(P=$e.src,R=$e.length),A=!1,Cu.load(P,function(pn){var zr,cr;if(M=pn,pn[0].tags&&pn[0].tags.orientation)switch(pn[0].tags.orientation){case 6:case 8:_=pn[0].img.height,v=pn[0].img.width;break;default:_=pn[0].img.width,v=pn[0].img.height}else _=pn[0].img.width,v=pn[0].img.height;D=null!==(zr=C)&&void 0!==zr&&zr.size?_/v>1?C.size:Math.floor(_/v*C.size):_,k=null!==(cr=C)&&void 0!==cr&&cr.size?_/v>1?Math.floor(v/_*C.size):C.size:v,Oe.x=D,Oe.y=k,A=!0,w=0,setTimeout(function(){Ye("canrecord",[])},0)},1,R,null===(It=C=$e)||void 0===It?void 0:It.sequence)},ended:function(){return q},setAttribute:function(){},getConfig:function(){return C},pause:function(){I=!0},play:function(){I=!1},setCurrentTime:function($e){w=$e},addEventListener:function($e,It){-1!==G.indexOf($e)&&(ye[$e]||(ye[$e]=[]),ye[$e].push(It))},clearEventHandlers:function(){Object.keys(ye).forEach(function($e){return delete ye[$e]})},setTopRight:function($e){Fe.x=$e.x,Fe.y=$e.y},getTopRight:function(){return Fe},setCanvasSize:function($e){Oe.x=$e.x,Oe.y=$e.y},getCanvasSize:function(){return Oe},getFrame:function(){var $e,It;return A?(I||($e=null===(It=M)||void 0===It?void 0:It[w],w<R-1?w++:setTimeout(function(){q=!0,Ye("ended",[])},0)),$e):null}};return pt}},tM=ar,Iu=l(9),wv=Math.PI/180,Ti={create:function(D,k){var C,_={},v=D.getConfig(),w=(Object(Iu.h)(D.getRealWidth(),D.getRealHeight()),D.getCanvasSize()),I=Object(Iu.h)(D.getWidth(),D.getHeight()),A=D.getTopRight(),M=A.x,R=A.y,P=null,q=null;return(C=k||document.createElement("canvas")).width=w.x,C.height=w.y,P=C.getContext("2d"),q=new Uint8Array(I.x*I.y),_.attachData=function(G){q=G},_.getData=function(){return q},_.grab=function(){var G,pt,$e,ye=v.halfSample,Fe=D.getFrame(),Oe=Fe,Ye=0;if(Oe){if((pt=C).width!==($e=w).x&&(pt.width=$e.x),pt.height!==$e.y&&(pt.height=$e.y),"ImageStream"===v.type&&(Oe=Fe.img,Fe.tags&&Fe.tags.orientation))switch(Fe.tags.orientation){case 6:Ye=90*wv;break;case 8:Ye=-90*wv}return 0!==Ye?(P.translate(w.x/2,w.y/2),P.rotate(Ye),P.drawImage(Oe,-w.y/2,-w.x/2,w.y,w.x),P.rotate(-Ye),P.translate(-w.x/2,-w.y/2)):P.drawImage(Oe,0,0,w.x,w.y),G=P.getImageData(M,R,I.x,I.y).data,ye?Object(Iu.e)(G,I,q):Object(Iu.c)(G,q,v),!0}return!1},_.getSize=function(){return I},_}},nM=Ti;function Ev(D,k){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(D);k&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(D,v).enumerable})),C.push.apply(C,_)}return C}function ql(D){for(var k=1;k<arguments.length;k++){var C=null!=arguments[k]?arguments[k]:{};k%2?Ev(Object(C),!0).forEach(function(_){z()(D,_,C[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):Ev(Object(C)).forEach(function(_){Object.defineProperty(D,_,Object.getOwnPropertyDescriptor(C,_))})}return D}var Di=[];function bv(D){return ql(ql({},D),{},{inputStream:ql(ql({},D.inputStream),{},{target:null})})}function rM(D){if(D){var k=D().default;if(!k)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var C;function _(w){self.postMessage({event:"processed",imageData:C.data,result:w},[C.data.buffer])}function v(){self.postMessage({event:"initialized",imageData:C.data},[C.data.buffer])}self.onmessage=function(w){if("init"===w.data.cmd){var I=w.data.config;I.numOfWorkers=0,C=new k.ImageWrapper({x:w.data.size.x,y:w.data.size.y},new Uint8Array(w.data.imageData)),k.init(I,v,C),k.onProcessed(_)}else"process"===w.data.cmd?(C.data=new Uint8Array(w.data.imageData),k.start()):"setReaders"===w.data.cmd?k.setReaders(w.data.readers):"registerReader"===w.data.cmd&&k.registerReader(w.data.name,w.data.reader)}}function Cv(D,k,C){var _,v,w=("undefined"!=typeof __factorySource__&&(v=__factorySource__),_=new Blob(["("+rM.toString()+")("+v+");"],{type:"text/javascript"}),window.URL.createObjectURL(_)),I={worker:new Worker(w),imageData:new Uint8Array(k.getWidth()*k.getHeight()),busy:!0};I.worker.onmessage=function(A){"initialized"===A.data.event?(URL.revokeObjectURL(w),I.busy=!1,I.imageData=new Uint8Array(A.data.imageData),C(I)):"processed"===A.data.event&&(I.imageData=new Uint8Array(A.data.imageData),I.busy=!1)},I.worker.postMessage({cmd:"init",size:{x:k.getWidth(),y:k.getHeight()},imageData:I.imageData,config:bv(D)},[I.imageData.buffer])}function Iv(D,k,C,_){var v=D-Di.length;if(0===v&&_)_();else if(v<0)Di.slice(v).forEach(function(A){A.worker.terminate()}),Di=Di.slice(0,v),_&&_();else{var w=function(A){Di.push(A),Di.length>=D&&_&&_()};if(k)for(var I=0;I<v;I++)Cv(k,C,w)}}function ur(D,k,C){for(var _=D.length;_--;)D[_][0]+=k,D[_][1]+=C}var xt=function(){function D(){var C=this;we()(this,D),z()(this,"context",new $l),z()(this,"canRecord",function(_){var v;C.context.config&&(Gl.a.checkImageConstraints(C.context.inputStream,null===(v=C.context.config)||void 0===v?void 0:v.locator),C.initCanvas(),C.context.framegrabber=nM.create(C.context.inputStream,C.context.canvasContainer.dom.image),void 0===C.context.config.numOfWorkers&&(C.context.config.numOfWorkers=0),Iv(C.context.config.numOfWorkers,C.context.config,C.context.inputStream,function(){var w;0===(null===(w=C.context.config)||void 0===w?void 0:w.numOfWorkers)&&C.initializeData(),C.ready(_)}))}),z()(this,"update",function(){if(C.context.onUIThread){var _,v=(I=C.context.framegrabber,Di.length?!!(A=Di.filter(function(M){return!M.busy})[0])&&(I.attachData(A.imageData),I.grab()&&(A.busy=!0,A.worker.postMessage({cmd:"process",imageData:A.imageData},[A.imageData.buffer])),!0):null);v||(C.context.framegrabber.attachData(null===(_=C.context.inputImageWrapper)||void 0===_?void 0:_.data),C.context.framegrabber.grab()&&(v||C.locateAndDecode()))}else{var w;C.context.framegrabber.attachData(null===(w=C.context.inputImageWrapper)||void 0===w?void 0:w.data),C.context.framegrabber.grab(),C.locateAndDecode()}var I,A})}var k;return _e()(D,[{key:"initBuffers",value:function(C){if(this.context.config){var _=(I=this.context.inputStream,M=this.context.config.locator,R=C||new O.a({x:I.getWidth(),y:I.getHeight(),type:"XYSize"}),P=[Object(mt.clone)([0,0]),Object(mt.clone)([0,R.size.y]),Object(mt.clone)([R.size.x,R.size.y]),Object(mt.clone)([R.size.x,0])],Gl.a.init(R,M),{inputImageWrapper:R,boxSize:P}),w=_.boxSize;this.context.inputImageWrapper=_.inputImageWrapper,this.context.boxSize=w}var I,M,R,P}},{key:"initializeData",value:function(C){this.context.config&&(this.initBuffers(C),this.context.decoder=Wr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Dt(this.context.config.inputStream.target):null}},{key:"ready",value:function(C){this.context.inputStream.play(),C()}},{key:"initCanvas",value:function(){var C=function(D){var k,C,_,v,w=Dt(null==D||null===(k=D.config)||void 0===k||null===(C=k.inputStream)||void 0===C?void 0:C.target),I=null==D||null===(_=D.config)||void 0===_||null===(v=_.inputStream)||void 0===v?void 0:v.type;if(!I)return null;var A=function(R){if("undefined"!=typeof document){var P=nt("canvas.imgBuffer","imgBuffer"),q=nt("canvas.drawingBuffer","drawingBuffer");return P.canvas.width=q.canvas.width=R.x,P.canvas.height=q.canvas.height=R.y,{dom:{image:P.canvas,overlay:q.canvas},ctx:{image:P.context,overlay:q.context}}}return null}(D.inputStream.getCanvasSize());if(!A)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var M=A.dom;return"undefined"!=typeof document&&w&&("ImageStream"!==I||w.contains(M.image)||w.appendChild(M.image),w.contains(M.overlay)||w.appendChild(M.overlay)),A}(this.context);if(C){var _=C.ctx,v=C.dom;this.context.canvasContainer.dom.image=v.image,this.context.canvasContainer.dom.overlay=v.overlay,this.context.canvasContainer.ctx.image=_.image,this.context.canvasContainer.ctx.overlay=_.overlay}}},{key:"initInputStream",value:function(C){if(this.context.config&&this.context.config.inputStream){var _=this.context.config.inputStream,v=_.type,w=_.constraints,I=function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",P=arguments.length>1?arguments[1]:void 0,q=arguments.length>2?arguments[2]:void 0;switch(R){case"VideoStream":var G=document.createElement("video");return{video:G,inputStream:q.createVideoStream(G)};case"ImageStream":return{inputStream:q.createImageStream()};case"LiveStream":var ye=null;return P&&((ye=P.querySelector("video"))||(ye=document.createElement("video"),P.appendChild(ye))),{video:ye,inputStream:q.createLiveStream(ye)};default:return console.error("* setupInputStream invalid type ".concat(R)),{video:null,inputStream:null}}}(v,this.getViewPort(),tM),A=I.video,M=I.inputStream;"LiveStream"===v&&A&&Kn.request(A,w).then(function(){return M.trigger("canrecord")}).catch(function(R){return C(R)}),M.setAttribute("preload","auto"),M.setInputStream(this.context.config.inputStream),M.addEventListener("canrecord",this.canRecord.bind(void 0,C)),this.context.inputStream=M}}},{key:"getBoundingBoxes",value:function(){var C;return null!==(C=this.context.config)&&void 0!==C&&C.locate?Gl.a.locate():[[Object(mt.clone)(this.context.boxSize[0]),Object(mt.clone)(this.context.boxSize[1]),Object(mt.clone)(this.context.boxSize[2]),Object(mt.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(C){var M,R,P,_=this,v=this.context.inputStream.getTopRight(),w=v.x,I=v.y;if((0!==w||0!==I)&&(C.barcodes&&C.barcodes.forEach(function(M){return _.transformResult(M)}),C.line&&2===C.line.length&&(P=I,(M=C.line)[0].x+=R=w,M[0].y+=P,M[1].x+=R,M[1].y+=P),C.box&&ur(C.box,w,I),C.boxes&&C.boxes.length>0))for(var A=0;A<C.boxes.length;A++)ur(C.boxes[A],w,I)}},{key:"addResult",value:function(C,_){var v=this;_&&this.context.resultCollector&&(C.barcodes?C.barcodes.filter(function(w){return w.codeResult}).forEach(function(w){return v.addResult(w,_)}):C.codeResult&&this.context.resultCollector.addResult(_,this.context.inputStream.getCanvasSize(),C.codeResult))}},{key:"hasCodeResult",value:function(C){return!(!C||!(C.barcodes?C.barcodes.some(function(_){return _.codeResult}):C.codeResult))}},{key:"publishResult",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,_=arguments.length>1?arguments[1]:void 0,v=C;C&&this.context.onUIThread&&(this.transformResult(C),this.addResult(C,_),v=C.barcodes||C),Ss.publish("processed",v),this.hasCodeResult(C)&&Ss.publish("detected",v)}},{key:"locateAndDecode",value:function(){var C=this.getBoundingBoxes();if(C){var _,v=this.context.decoder.decodeFromBoundingBoxes(C)||{};v.boxes=C,this.publishResult(v,null===(_=this.context.inputImageWrapper)||void 0===_?void 0:_.data)}else{var w,I=this.context.decoder.decodeFromImage(this.context.inputImageWrapper);I?this.publishResult(I,null===(w=this.context.inputImageWrapper)||void 0===w?void 0:w.data):this.publishResult()}}},{key:"startContinuousUpdate",value:function(){var C,_=this,v=null,w=1e3/((null===(C=this.context.config)||void 0===C?void 0:C.frequency)||60);this.context.stopped=!1;var I=this.context;!function A(M){v=v||M,I.stopped||(M>=v&&(v+=w,_.update()),window.requestAnimationFrame(A))}(performance.now())}},{key:"start",value:function(){var C,_;this.context.onUIThread&&"LiveStream"===(null===(C=this.context.config)||void 0===C||null===(_=C.inputStream)||void 0===_?void 0:_.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(k=Ki()(xs.a.mark(function C(){var _;return xs.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.context.stopped=!0,Iv(0),null===(_=this.context.config)||void 0===_||!_.inputStream||"LiveStream"!==this.context.config.inputStream.type){v.next=6;break}return v.next=5,Kn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return v.stop()}},C,this)})),function(){return k.apply(this,arguments)})},{key:"setReaders",value:function(C){var _;this.context.decoder&&this.context.decoder.setReaders(C),_=C,Di.forEach(function(v){return v.worker.postMessage({cmd:"setReaders",readers:_})})}},{key:"registerReader",value:function(C,_){var v,w;Wr.registerReader(C,_),this.context.decoder&&this.context.decoder.registerReader(C,_),v=C,w=_,Di.forEach(function(I){return I.worker.postMessage({cmd:"registerReader",name:v,reader:w})})}}]),D}(),oa=new xt,Mp=oa.context,Tv={init:function(D,k,C){var _,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oa;return k||(_=new Promise(function(w,I){k=function(A){A?I(A):w()}})),v.context.config=S()({},jl,D),v.context.config.numOfWorkers>0&&(v.context.config.numOfWorkers=0),C?(v.context.onUIThread=!1,v.initializeData(C),k&&k()):v.initInputStream(k),_},start:function(){return oa.start()},stop:function(){return oa.stop()},pause:function(){Mp.stopped=!0},onDetected:function(D){D&&("function"==typeof D||"object"===E()(D)&&D.callback)?Ss.subscribe("detected",D):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(D){Ss.unsubscribe("detected",D)},onProcessed:function(D){D&&("function"==typeof D||"object"===E()(D)&&D.callback)?Ss.subscribe("processed",D):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(D){Ss.unsubscribe("processed",D)},setReaders:function(D){D?oa.setReaders(D):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(D,k){D?k?oa.registerReader(D,k):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(D){D&&"function"==typeof D.addResult&&(Mp.resultCollector=D)},get canvas(){return Mp.canvasContainer},decodeSingle:function(D,k){var C=this,_=new xt;return(D=S()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:D.src},numOfWorkers:1,locator:{halfSample:!1}},D)).numOfWorkers>0&&(D.numOfWorkers=0),D.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),D.numOfWorkers=0),new Promise(function(v,w){try{C.init(D,function(){Ss.once("processed",function(I){_.stop(),k&&k.call(null,I),v(I)},!0),_.start()},null,_)}catch(I){w(I)}})},get default(){return Tv},Readers:f,CameraAccess:Kn,ImageDebug:ue.a,ImageWrapper:O.a,ResultCollector:xp};x.default=Tv}]).default},376:(_r,g,x)=>{"use strict";function l(n){return"function"==typeof n}function f(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const p=f(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function E(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class b{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(l(r))try{r()}catch(s){e=s instanceof p?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{L(s)}catch(o){e=null!=e?e:[],o instanceof p?e=[...e,...o.errors]:e.push(o)}}if(e)throw new p(e)}}add(e){var t;if(e&&e!==this)if(this.closed)L(e);else{if(e instanceof b){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&E(t,e)}remove(e){const{_teardowns:t}=this;t&&E(t,e),e instanceof b&&e._removeParent(this)}}b.EMPTY=(()=>{const n=new b;return n.closed=!0,n})();const S=b.EMPTY;function O(n){return n instanceof b||n&&"closed"in n&&l(n.remove)&&l(n.add)&&l(n.unsubscribe)}function L(n){l(n)?n():n.unsubscribe()}const F={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(...n){const{delegate:e}=ee;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=ee;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function ie(n){ee.setTimeout(()=>{const{onUnhandledError:e}=F;if(!e)throw n;e(n)})}function ue(){}const Ve=_e("C",void 0,void 0);function _e(n,e,t){return{kind:n,value:e,error:t}}let X=null;function j(n){if(F.useDeprecatedSynchronousErrorHandling){const e=!X;if(e&&(X={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=X;if(X=null,t)throw r}}else n()}class oe extends b{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,O(e)&&e.add(this)):this.destination=se}static create(e,t,r){return new Ee(e,t,r)}next(e){this.isStopped?Y(_e("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Y(_e("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Y(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ee extends oe{constructor(e,t,r){let i;if(super(),l(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&F.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?ge(i):ue,error:ge(null!=t?t:Z),complete:r?ge(r):ue}}}function ge(n,e){return(...t)=>{try{n(...t)}catch(r){F.useDeprecatedSynchronousErrorHandling?function(n){F.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=n)}(r):ie(r)}}}function Z(n){throw n}function Y(n,e){const{onStoppedNotification:t}=F;t&&ee.setTimeout(()=>t(n,e))}const se={closed:!0,next:ue,error:Z,complete:ue},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function fe(n){return n}let W=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function(n){return n&&n instanceof oe||function(n){return n&&l(n.next)&&l(n.error)&&l(n.complete)}(n)&&O(n)}(t)?t:new Ee(t,r,i);return j(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=re(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[z](){return this}pipe(...t){return function(n){return 0===n.length?fe:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=re(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function re(n){var e;return null!==(e=null!=n?n:F.Promise)&&void 0!==e?e:Promise}const Re=f(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ue=(()=>{class n extends W{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Be(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Re}next(t){j(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?S:(s.push(t),new b(()=>E(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new W;return t.source=this,t}}return n.create=(e,t)=>new Be(e,t),n})();class Be extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:S}}function Ie(n){return l(null==n?void 0:n.lift)}function Ae(n){return e=>{if(Ie(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class je extends oe{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Ne(n,e){return Ae((t,r)=>{let i=0;t.subscribe(new je(r,s=>{r.next(n.call(e,s,i++))}))})}function Ds(n){return this instanceof Ds?(this.v=n,this):new Ds(n)}function dp(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(y){return new Promise(function(T,N){s.push([m,y,T,N])>1||a(m,y)})})}function a(m,y){try{!function(m){m.value instanceof Ds?Promise.resolve(m.value.v).then(c,d):h(s[0][2],m)}(r[m](y))}catch(T){h(s[0][3],T)}}function c(m){a("next",m)}function d(m){a("throw",m)}function h(m,y){m(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function hp(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const Nl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ol(n){return l(null==n?void 0:n.then)}function pp(n){return l(n[z])}function Pl(n){return Symbol.asyncIterator&&l(null==n?void 0:n[Symbol.asyncIterator])}function gp(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _p="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Fl(n){return l(null==n?void 0:n[_p])}function yp(n){return dp(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ds(t.read());if(i)return yield Ds(void 0);yield yield Ds(r)}}finally{t.releaseLock()}})}function Ll(n){return l(null==n?void 0:n.getReader)}function Gr(n){if(n instanceof W)return n;if(null!=n){if(pp(n))return function(n){return new W(e=>{const t=n[z]();if(l(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Nl(n))return function(n){return new W(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ol(n))return function(n){return new W(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ie)})}(n);if(Pl(n))return Ep(n);if(Fl(n))return function(n){return new W(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ll(n))return function(n){return Ep(yp(n))}(n)}throw gp(n)}function Ep(n){return new W(e=>{(function(n,e){var t,r,i,s;return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(d.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=hp(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Wr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Zt(n,e,t=1/0){return l(e)?Zt((r,i)=>Ne((s,o)=>e(r,s,i,o))(Gr(n(r,i))),t):("number"==typeof e&&(t=e),Ae((r,i)=>function(n,e,t,r,i,s,o,a){const u=[];let c=0,d=0,h=!1;const m=()=>{h&&!u.length&&!c&&e.complete()},y=N=>c<r?T(N):u.push(N),T=N=>{c++;let V=!1;Gr(t(N,d++)).subscribe(new je(e,K=>{e.next(K)},()=>{V=!0},void 0,()=>{if(V)try{for(c--;u.length&&c<r;){const K=u.shift();T(K)}m()}catch(K){e.error(K)}}))};return n.subscribe(new je(e,y,()=>{h=!0,m()})),()=>{}}(r,i,n,t)))}function Ki(n=1/0){return Zt(fe,n)}const Ii=new W(n=>n.complete());function Cp(n){return n&&l(n.schedule)}function Ul(n){return n[n.length-1]}function Ip(n){return l(Ul(n))?n.pop():void 0}function li(n){return Cp(Ul(n))?n.pop():void 0}function sa(n,e=0){return Ae((t,r)=>{t.subscribe(new je(r,i=>Wr(r,n,()=>r.next(i),e),()=>Wr(r,n,()=>r.complete(),e),i=>Wr(r,n,()=>r.error(i),e)))})}function bu(n,e=0){return Ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Dp(n,e){if(!n)throw new Error("Iterable cannot be null");return new W(t=>{Wr(t,e,()=>{const r=n[Symbol.asyncIterator]();Wr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function en(n,e){return e?function(n,e){if(null!=n){if(pp(n))return function(n,e){return Gr(n).pipe(bu(e),sa(e))}(n,e);if(Nl(n))return function(n,e){return new W(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Ol(n))return function(n,e){return Gr(n).pipe(bu(e),sa(e))}(n,e);if(Pl(n))return Dp(n,e);if(Fl(n))return function(n,e){return new W(t=>{let r;return Wr(t,e,()=>{r=n[_p](),Wr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>l(null==r?void 0:r.return)&&r.return()})}(n,e);if(Ll(n))return function(n,e){return Dp(yp(n),e)}(n,e)}throw gp(n)}(n,e):Gr(n)}function As(...n){const e=li(n),t=function(n,e){return"number"==typeof Ul(n)?n.pop():1/0}(n),r=n;return r.length?1===r.length?Gr(r[0]):Ki(t)(en(r,e)):Ii}function Kn(n){return n<=0?()=>Ii:Ae((e,t)=>{let r=0;e.subscribe(new je(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jl(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Kn(1)).subscribe(()=>n())}function mt(n){for(let e in n)if(n[e]===mt)return e;throw Error("Could not find renamed property on target object.")}function $l(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ft(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ft).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Hl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Gl=mt({__forward_ref__:mt});function Dt(n){return n.__forward_ref__=Dt,n.toString=function(){return ft(this())},n}function nt(n){return Ap(n)?n():n}function Ap(n){return"function"==typeof n&&n.hasOwnProperty(Gl)&&n.__forward_ref__===Dt}class or extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Je(n){return"string"==typeof n?n:null==n?"":String(n)}function Qn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Je(n)}function Cu(n,e){const t=e?` in ${e}`:"";throw new or("201",`No provider for ${Qn(n)} found${t}`)}function ur(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function D(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function C(n){return{providers:n.providers||[],imports:n.imports||[]}}function _(n){return v(n,M)||v(n,P)}function v(n,e){return n.hasOwnProperty(e)?n[e]:null}function A(n){return n&&(n.hasOwnProperty(R)||n.hasOwnProperty(q))?n[R]:null}const M=mt({\u0275prov:mt}),R=mt({\u0275inj:mt}),P=mt({ngInjectableDef:mt}),q=mt({ngInjectorDef:mt});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let ye;function Oe(n){const e=ye;return ye=n,e}function Ye(n,e,t){const r=_(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&G.Optional?null:void 0!==e?e:void Cu(ft(n),"Injector")}function $e(n){return{toString:n}.toString()}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),cr=(()=>{return(n=cr||(cr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",cr;var n})();const Dv="undefined"!=typeof globalThis&&globalThis,cz="undefined"!=typeof window&&window,lz="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At=Dv||"undefined"!=typeof global&&global||cz||lz,Tu={},Nt=[],Rp=mt({\u0275cmp:mt}),Sv=mt({\u0275dir:mt}),xv=mt({\u0275pipe:mt}),iM=mt({\u0275mod:mt}),Ms=mt({\u0275fac:mt}),Kl=mt({__NG_ELEMENT_ID__:mt});let dz=0;function Du(n){return $e(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||cr.Emulated,id:"c",styles:n.styles||Nt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=dz++,r.inputs=uM(n.inputs,t),r.outputs=uM(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(sM):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(oM):null,r})}function sM(n){return lr(n)||function(n){return n[Sv]||null}(n)}function oM(n){return function(n){return n[xv]||null}(n)}const aM={};function Rn(n){return $e(()=>{const e={type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(aM[n.id]=n.type),e})}function uM(n,e){if(null==n)return Tu;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const qe=Du;function lr(n){return n[Rp]||null}function di(n,e){const t=n[iM]||null;if(!t&&!0===e)throw new Error(`Type ${ft(n)} does not have '\u0275mod' property.`);return t}function Qi(n){return Array.isArray(n)&&"object"==typeof n[1]}function xi(n){return Array.isArray(n)&&!0===n[1]}function Rv(n){return 0!=(8&n.flags)}function Pp(n){return 2==(2&n.flags)}function Fp(n){return 1==(1&n.flags)}function Ai(n){return null!==n.template}function _z(n){return 0!=(512&n[2])}function da(n,e){return n.hasOwnProperty(Ms)?n[Ms]:null}class wz{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kr(){return lM}function lM(n){return n.type.prototype.ngOnChanges&&(n.setInput=bz),Ez}function Ez(){const n=hM(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Tu)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function bz(n,e,t,r){const i=hM(n)||function(n,e){return n[dM]=e}(n,{previous:Tu,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new wz(u&&u.currentValue,e,o===Tu),n[r]=e}Kr.ngInherit=!0;const dM="__ngSimpleChanges__";function hM(n){return n[dM]||null}let Ov;function tn(n){return!!n.listen}const gM={createRenderer:(n,e)=>void 0!==Ov?Ov:"undefined"!=typeof document?document:void 0};function gn(n){for(;Array.isArray(n);)n=n[0];return n}function Lp(n,e){return gn(e[n])}function pi(n,e){return gn(e[n.index])}function Fv(n,e){return n.data[e]}function Qr(n,e){const t=e[n];return Qi(t)?t:t[0]}function Lv(n){return 128==(128&n[2])}function lo(n,e){return null==e?null:n[e]}function _M(n){n[18]=0}function Vv(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Xe={lFrame:TM(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yM(){return Xe.bindingsEnabled}function ce(){return Xe.lFrame.lView}function yt(){return Xe.lFrame.tView}function Cn(){let n=vM();for(;null!==n&&64===n.type;)n=n.parent;return n}function vM(){return Xe.lFrame.currentTNode}function Yi(n,e){const t=Xe.lFrame;t.currentTNode=n,t.isParent=e}function Uv(){return Xe.lFrame.isParent}function Vp(){return Xe.isInCheckNoChangesMode}function Up(n){Xe.isInCheckNoChangesMode=n}function ku(){return Xe.lFrame.bindingIndex++}function Vz(n,e){const t=Xe.lFrame;t.bindingIndex=t.bindingRootIndex=n,jv(e)}function jv(n){Xe.lFrame.currentDirectiveIndex=n}function Hv(n){Xe.lFrame.currentQueryIndex=n}function Bz(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function CM(n,e,t){if(t&G.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&G.Host||(i=Bz(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Xe.lFrame=IM();return r.currentTNode=e,r.lView=n,!0}function Bp(n){const e=IM(),t=n[1];Xe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IM(){const n=Xe.lFrame,e=null===n?null:n.child;return null===e?TM(n):e}function TM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function DM(){const n=Xe.lFrame;return Xe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const SM=DM;function jp(){const n=DM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vr(){return Xe.lFrame.selectedIndex}function ho(n){Xe.lFrame.selectedIndex=n}function nn(){const n=Xe.lFrame;return Fv(n.tView,n.selectedIndex)}function $p(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(t,d)}}function Hp(n,e,t){xM(n,e,3,t)}function Gp(n,e,t,r){(3&n[2])===t&&xM(n,e,t,r)}function Gv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function xM(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(Qz(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function Qz(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Zl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Wp(n,e,t){const r=tn(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];zv(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function AM(n){return 3===n||4===n||6===n}function zv(n){return 64===n.charCodeAt(0)}function zp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||MM(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function MM(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function RM(n){return-1!==n}function Nu(n){return 32767&n}function Ou(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let qv=!0;function qp(n){const e=qv;return qv=n,e}let tq=0;function td(n,e){const t=Qv(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Kv(r.data,n),Kv(e,null),Kv(r.blueprint,null));const i=Kp(n,e),s=n.injectorIndex;if(RM(i)){const o=Nu(i),a=Ou(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Kv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Qv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Kp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Qp(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Kl)&&(r=t[Kl]),null==r&&(r=t[Kl]=tq++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function OM(n,e,t){if(t&G.Optional)return n;Cu(e,"NodeInjector")}function PM(n,e,t,r){if(t&G.Optional&&void 0===r&&(r=null),0==(t&(G.Self|G.Host))){const i=n[9],s=Oe(void 0);try{return i?i.get(e,r,t&G.Optional):Ye(e,r,t&G.Optional)}finally{Oe(s)}}return OM(r,e,t)}function FM(n,e,t,r=G.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Kl)?n[Kl]:void 0;return"number"==typeof e?e>=0?255&e:iq:e}(t);if("function"==typeof s){if(!CM(e,n,r))return r&G.Host?OM(i,t,r):PM(e,t,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;Cu(t)}finally{SM()}}else if("number"==typeof s){let o=null,a=Qv(n,e),u=-1,c=r&G.Host?e[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?Kp(n,e):e[a+8],-1!==u&&UM(r,!1)?(o=e[1],a=Nu(u),e=Ou(u,e)):a=-1);-1!==a;){const d=e[1];if(VM(s,a,d.data)){const h=sq(a,e,t,o,r,c);if(h!==LM)return h}u=e[a+8],-1!==u&&UM(r,e[1].data[a+8]===c)&&VM(s,a,e)?(o=d,a=Nu(u),e=Ou(u,e)):a=-1}}}return PM(e,t,r,i)}const LM={};function iq(){return new Pu(Cn(),ce())}function sq(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],d=function(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,d=s>>20,m=i?a+d:n.directiveEnd;for(let y=r?a:a+d;y<m;y++){const T=o[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){const y=o[u];if(y&&Ai(y)&&y.type===t)return u}return null}(a,o,t,null==r?Pp(a)&&qv:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==d?nd(e,o,d,a):LM}function nd(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof Zl}(i)){const o=i;o.resolving&&function(n,e){throw new or("200",`Circular dependency in DI detected for ${n}`)}(Qn(s[t]));const a=qp(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Oe(o.injectImpl):null;CM(n,r,G.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=lM(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Oe(u),qp(a),o.resolving=!1,SM()}}return i}function VM(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function UM(n,e){return!(n&G.Self||n&G.Host&&e)}class Pu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FM(this._tNode,this._lView,e,r,t)}}function Yr(n){return $e(()=>{const e=n.prototype.constructor,t=e[Ms]||Yv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ms]||Yv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yv(n){return Ap(n)?()=>{const e=Yv(nt(n));return e&&e()}:da(n)}const Lu="__parameters__";function Uu(n,e,t){return $e(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,d){const h=u.hasOwnProperty(Lu)?u[Lu]:Object.defineProperty(u,Lu,{value:[]})[Lu];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ke{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=D({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const uq=new Ke("AnalyzeForEntryComponents");function Ji(n,e){n.forEach(t=>Array.isArray(t)?Ji(t,e):e(t))}function jM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jr(n,e,t){let r=Bu(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Zv(n,e){const t=Bu(n,e);if(t>=0)return n[1|t]}function Bu(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ad={},tw="__NG_DI_FLAG__",Zp="ngTempTokenPath",yq=/\n/gm,zM="__source",wq=mt({provide:String,useValue:mt});let ud;function qM(n){const e=ud;return ud=n,e}function Eq(n,e=G.Default){if(void 0===ud)throw new Error("inject() must be called from an injection context");return null===ud?Ye(n,void 0,e):ud.get(n,e&G.Optional?null:void 0,e)}function Le(n,e=G.Default){return(ye||Eq)(nt(n),e)}function nw(n){const e=[];for(let t=0;t<n.length;t++){const r=nt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=bq(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Le(i,s))}else e.push(Le(r))}return e}function cd(n,e){return n[tw]=e,n.prototype[tw]=e,n}function bq(n){return n[tw]}const ld=cd(Uu("Inject",n=>({token:n})),-1),St=cd(Uu("Optional"),8),ju=cd(Uu("SkipSelf"),4);class nR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function po(n){return n instanceof nR?n.changingThisBreaksApplicationSecurity:n}const Gq=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wq=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var mn=(()=>((mn=mn||{})[mn.NONE=0]="NONE",mn[mn.HTML=1]="HTML",mn[mn.STYLE=2]="STYLE",mn[mn.SCRIPT=3]="SCRIPT",mn[mn.URL=4]="URL",mn[mn.RESOURCE_URL=5]="RESOURCE_URL",mn))();function sg(n){const e=function(){const n=ce();return n&&n[12]}();return e?e.sanitize(mn.URL,n)||"":function(n,e){const t=function(n){return n instanceof nR&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?po(n):function(n){return(n=String(n)).match(Gq)||n.match(Wq)?n:"unsafe:"+n}(Je(n))}const hR="__ngContext__";function hr(n,e){n[hR]=e}function dw(n){const e=function(n){return n[hR]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function fw(n){return n.ngOriginalError}function g4(n,...e){n.error(...e)}class Gu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=(n=e)&&n.ngErrorLogger||g4;var n;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fw(e);for(;t&&fw(t);)t=fw(t);return t||null}}const _R=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Zi(n){return n instanceof Function?n():n}var Xr=(()=>((Xr=Xr||{})[Xr.Important=1]="Important",Xr[Xr.DashCase=2]="DashCase",Xr))();function gw(n,e){return undefined(n,e)}function md(n){const e=n[3];return xi(e)?e[3]:e}function mw(n){return bR(n[13])}function _w(n){return bR(n[4])}function bR(n){for(;null!==n&&!xi(n);)n=n[4];return n}function zu(n,e,t,r,i){if(null!=r){let s,o=!1;xi(r)?s=r:Qi(r)&&(o=!0,r=r[0]);const a=gn(r);0===n&&null!==t?null==i?xR(e,t,a):ha(e,t,a,i||null,!0):1===n&&null!==t?ha(e,t,a,i||null,!0):2===n?function(n,e,t){const r=og(n,e);r&&function(n,e,t,r){tn(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==gn(t)&&zu(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];_d(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function vw(n,e,t){return tn(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function IR(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Vv(i,-1)),t.splice(r,1)}function ww(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&IR(i,r),e>0&&(n[t-1][4]=r[4]);const s=Jp(n,10+e);!function(n,e){_d(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function TR(n,e){if(!(256&e[2])){const t=e[11];tn(t)&&t.destroyNode&&_d(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Ew(n[1],n);for(;e;){let t=null;if(Qi(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Qi(e)&&Ew(e[1],e),e=e[3];null===e&&(e=n),Qi(e)&&Ew(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ew(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Zl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):gn(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&tn(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&xi(e[3])){t!==e[3]&&IR(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function DR(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===cr.None||i===cr.Emulated)return null}return pi(r,t)}(n,e.parent,t)}function ha(n,e,t,r,i){tn(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function xR(n,e,t){tn(n)?n.appendChild(e,t):e.appendChild(t)}function AR(n,e,t,r,i){null!==r?ha(n,e,t,r,i):xR(n,e,t)}function og(n,e){return tn(n)?n.parentNode(e):e.parentNode}let kR=function(n,e,t){return 40&n.type?pi(n,t):null};function ag(n,e,t,r){const i=DR(n,r,e),s=e[11],a=function(n,e,t){return kR(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)AR(s,i,t[u],a,!1);else AR(s,i,t,a,!1)}function ug(n,e){if(null!==e){const t=e.type;if(3&t)return pi(e,n);if(4&t)return Cw(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ug(n,r);{const i=n[e.index];return xi(i)?Cw(-1,i):gn(i)}}if(32&t)return gw(e,n)()||gn(n[e.index]);{const r=OR(n,e);return null!==r?Array.isArray(r)?r[0]:ug(md(n[16]),r):ug(n,e.next)}}return null}function OR(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Cw(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return ug(r,i)}return e[7]}function Iw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&hr(gn(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)Iw(n,e,t.child,r,i,s,!1),zu(e,n,i,a,s);else if(32&u){const c=gw(t,r);let d;for(;d=c();)zu(e,n,i,d,s);zu(e,n,i,a,s)}else 16&u?FR(n,e,r,t,i,s):zu(e,n,i,a,s);t=o?t.projectionNext:t.next}}function _d(n,e,t,r,i,s){Iw(t,r,n.firstChild,e,i,s,!1)}function FR(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)zu(e,n,i,u[c],s);else Iw(n,e,u,o[3],i,s,!0)}function LR(n,e,t){tn(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Tw(n,e,t){tn(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function VR(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const UR="ng-template";function H4(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==VR(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function BR(n){return 4===n.type&&n.value!==UR}function G4(n,e,t){return e===(4!==n.type||t?n.value:UR)}function W4(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(AM(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!G4(n,u,t)||""===u&&1===e.length){if(Mi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!H4(n.attrs,c,t)){if(Mi(r))return!1;o=!0}continue}const h=z4(8&r?"class":u,i,BR(n),t);if(-1===h){if(Mi(r))return!1;o=!0;continue}if(""!==c){let m;m=h>s?"":i[h+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==VR(y,c,0)||2&r&&c!==m){if(Mi(r))return!1;o=!0}}}}else{if(!o&&!Mi(r)&&!Mi(u))return!1;if(o&&Mi(u))continue;o=!1,r=u|1&r}}return Mi(r)||o}function Mi(n){return 0==(1&n)}function z4(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function jR(n,e,t=!1){for(let r=0;r<e.length;r++)if(W4(n,e[r],t))return!0;return!1}function $R(n,e){return n?":not("+e.trim()+")":e}function J4(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Mi(o)&&(e+=$R(s,i),i=""),r=o,s=s||!Mi(r);t++}return""!==i&&(e+=$R(s,i)),e}const rt={};function es(n){HR(yt(),ce(),vr()+n,Vp())}function HR(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Hp(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Gp(e,s,0,t)}ho(t)}function cg(n,e){return n<<17|e<<2}function Ri(n){return n>>17&32767}function Dw(n){return 2|n}function Ns(n){return(131068&n)>>2}function Sw(n,e){return-131069&n|e<<2}function xw(n){return 1|n}function ek(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Hv(i),o.contentQueries(2,e[s],s)}}}function yd(n,e,t,r,i,s,o,a,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=140|r,_M(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[16]=2==e.type?n[16]:d,d}function qu(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=vM(),o=Uv(),u=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),Xe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=Xe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yi(s,!0),s}function Ku(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vd(n,e,t){Bp(e);try{const r=n.viewQuery;null!==r&&zw(1,r,t);const i=n.template;null!==i&&tk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ek(n,e),n.staticViewQueries&&zw(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)N6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,jp()}}function Qu(n,e,t,r){const i=e[2];if(256==(256&i))return;Bp(e);const s=Vp();try{_M(e),function(n){Xe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&tk(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Hp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Gp(e,c,0,null),Gv(e,0)}if(function(n){for(let e=mw(n);null!==e;e=_w(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Vv(s,1),i[2]|=1024}}}(e),function(n){for(let e=mw(n);null!==e;e=_w(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Lv(r)&&Qu(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ek(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Hp(e,c)}else{const c=n.contentHooks;null!==c&&Gp(e,c,1),Gv(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ho(~i);else{const s=i,o=t[++r],a=t[++r];Vz(o,s),a(2,e[s])}}}finally{ho(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)k6(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&zw(2,u,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Hp(e,c)}else{const c=n.viewHooks;null!==c&&Gp(e,c,2),Gv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vv(e[3],-1))}finally{jp()}}function f6(n,e,t,r){const i=e[10],s=!Vp(),o=function(n){return 4==(4&n[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&vd(n,e,r),Qu(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function tk(n,e,t,r,i){const s=vr(),o=2&r;try{ho(-1),o&&e.length>20&&HR(n,e,20,Vp()),t(r,i)}finally{ho(s)}}function Vw(n,e,t){!yM()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||td(t,e),hr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ai(u);c&&S6(e,t,u);const d=nd(e,n,a,t);hr(d,e),null!==o&&x6(0,a-i,d,u,0,o),c&&(Qr(t.index,e)[8]=d)}}(n,e,t,pi(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=Xe.lFrame.currentDirectiveIndex;try{ho(o);for(let u=r;u<i;u++){const c=n.data[u],d=e[u];jv(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&lk(c,d)}}finally{ho(-1),jv(a)}}(n,e,t))}function Uw(n,e,t=pi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function rk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function hg(n,e,t,r,i,s,o,a,u,c){const d=20+r,h=d+i,m=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:rt);return t}(d,h),y="function"==typeof c?c():c;return m[1]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function ak(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Bw(n,e,t,r){let i=!1;if(yM()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];jR(t,o.selectors,!1)&&(i||(i=[]),Qp(td(t,e),n,o.type),Ai(o)?(dk(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,hk(t,n.data.length,s.length);for(let d=0;d<s.length;d++){const h=s[d];h.providersResolver&&h.providersResolver(h)}let a=!1,u=!1,c=Ku(n,e,s.length,null);for(let d=0;d<s.length;d++){const h=s[d];t.mergedAttrs=zp(t.mergedAttrs,h.hostAttrs),fk(n,t,e,c,h),D6(c,h,o),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const m=h.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const d=i[c],h=d.inputs,m=null===s||BR(e)?null:A6(h,s);o.push(m),a=ak(h,c,a),u=ak(d.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new or("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=zp(t.mergedAttrs,t.attrs),i}function ck(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function lk(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function dk(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function D6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ai(e)&&(t[""]=n)}}function hk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fk(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=da(i.type)),o=new Zl(s,Ai(i),null);n.blueprint[r]=o,t[r]=o,ck(n,e,0,r,Ku(n,t,i.hostVars,rt),i)}function S6(n,e,t){const r=pi(e,n),i=rk(t),s=n[10],o=fg(n,yd(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function ts(n,e,t,r,i,s){const o=pi(n,e);!function(n,e,t,r,i,s,o){if(null==s)tn(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Je(s):o(s,r||"",i);tn(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function x6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],d=o[u++],h=o[u++];null!==a?r.setInput(t,h,c,d):t[d]=h}}}function A6(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function pk(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function k6(n,e){const t=Qr(e,n);if(Lv(t)){const r=t[1];80&t[2]?Qu(r,t,r.template,t[8]):t[5]>0&&$w(t)}}function $w(n){for(let r=mw(n);null!==r;r=_w(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Qu(o,s,o.template,s[8])}else s[5]>0&&$w(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Qr(t[r],n);Lv(i)&&i[5]>0&&$w(i)}}function N6(n,e){const t=Qr(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),vd(r,t,t[8])}function fg(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Hw(n){for(;n;){n[2]|=64;const e=md(n);if(_z(n)&&!e)return n;n=e}return null}function Ww(n,e,t){const r=e[10];r.begin&&r.begin();try{Qu(n,e,n.template,t)}catch(i){throw vk(e,i),i}finally{r.end&&r.end()}}function gk(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=dw(t),i=r[1];f6(i,r,i.template,t)}}(n[8])}function zw(n,e,t){Hv(0),e(n,t)}const V6=(()=>Promise.resolve(null))();function mk(n){return n[7]||(n[7]=[])}function _k(n){return n.cleanup||(n.cleanup=[])}function vk(n,e){const t=n[9],r=t?t.get(Gu,null):null;r&&r.handleError(e)}function wk(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Os(n,e,t){const r=Lp(e,n);!function(n,e,t){tn(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function pg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Hl(i,a):2==s&&(r=Hl(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const qw=new Ke("INJECTOR",-1);class Ek{get(e,t=ad){if(t===ad){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return t}}const Kw=new Ke("Set Injector scope."),wd={},j6={};let Qw;function bk(){return void 0===Qw&&(Qw=new Ek),Qw}function Ck(n,e=null,t=null,r){const i=Ik(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Ik(n,e=null,t=null,r){return new $6(n,t,e||bk(),r)}class $6{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ji(t,a=>this.processProvider(a,e,t)),Ji([e],a=>this.processInjectorType(a,[],s)),this.records.set(qw,Yu(void 0,this));const o=this.records.get(Kw);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ft(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ad,r=G.Default){this.assertNotDestroyed();const i=qM(this),s=Oe(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(n=e)||"object"==typeof n&&n instanceof Ke)&&_(e);a=u&&this.injectableDefInScope(u)?Yu(Yw(e),wd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?bk():this.parent).get(e,t=r&G.Optional&&t===ad?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Zp]=o[Zp]||[]).unshift(ft(e)),i)throw o;return function(n,e,t,r){const i=n[Zp];throw e[zM]&&i.unshift(e[zM]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(yq,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Zp]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Oe(s),qM(i)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ft(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=nt(e)))return!1;let i=A(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=A(s)),null==i)return!1;if(null!=i.imports&&!a){let d;r.push(o);try{Ji(i.imports,h=>{this.processInjectorType(h,t,r)&&(void 0===d&&(d=[]),d.push(h))})}finally{}if(void 0!==d)for(let h=0;h<d.length;h++){const{ngModule:m,providers:y}=d[h];Ji(y,T=>this.processProvider(T,m,y||Nt))}}this.injectorDefTypes.add(o);const u=da(o)||(()=>new o);this.records.set(o,Yu(u,wd));const c=i.providers;if(null!=c&&!a){const d=e;Ji(c,h=>this.processProvider(h,d,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ju(e=nt(e))?e:nt(e&&e.provide);const s=(n=e,Dk(n)?Yu(void 0,n.useValue):Yu(Tk(n),wd));var n;if(Ju(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Yu(void 0,wd,!0),o.factory=()=>nw(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===wd&&(t.value=j6,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=nt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Yw(n){const e=_(n),t=null!==e?e.factory:da(n);if(null!==t)return t;if(n instanceof Ke)throw new Error(`Token ${ft(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=function(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?");throw new Error(`Can't resolve all parameters for ${ft(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[M]||n[P]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function Tk(n,e,t){let r;if(Ju(n)){const i=nt(n);return da(i)||Yw(i)}if(Dk(n))r=()=>nt(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...nw(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Le(nt(n.useExisting));else{const i=nt(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return da(i)||Yw(i);r=()=>new i(...nw(n.deps))}return r}function Yu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Dk(n){return null!==n&&"object"==typeof n&&wq in n}function Ju(n){return"function"==typeof n}let Kt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return Ck({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return Ck({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=ad,n.NULL=new Ek,n.\u0275prov=D({token:n,providedIn:"any",factory:()=>Le(qw)}),n.__NG_ELEMENT_ID__=-1,n})();function i8(n,e){$p(dw(n)[1],Cn())}function Ft(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ai(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Zw(n.inputs),o.declaredInputs=Zw(n.declaredInputs),o.outputs=Zw(n.outputs);const a=i.hostBindings;a&&u8(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&o8(n,u),c&&a8(n,c),$l(n.inputs,i.inputs),$l(n.declaredInputs,i.declaredInputs),$l(n.outputs,i.outputs),Ai(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ft&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zp(i.hostAttrs,t=zp(t,i.hostAttrs))}}(r)}function Zw(n){return n===Tu?{}:n===Nt?[]:n}function o8(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function a8(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function u8(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let gg=null;function Xu(){if(!gg){const n=At.Symbol;if(n&&n.iterator)gg=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(gg=r)}}}return gg}function Ed(n){return!!e0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xu()in n)}function e0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function fr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function rs(n,e,t,r){const i=ce();return fr(i,ku(),e)&&(yt(),ts(nn(),i,n,e,t,r)),rs}function pa(n,e,t,r,i,s,o,a){const u=ce(),c=yt(),d=n+20,h=c.firstCreatePass?function(n,e,t,r,i,s,o,a,u){const c=e.consts,d=qu(e,n,4,o||null,lo(c,a));Bw(e,t,d,lo(c,u)),$p(e,d);const h=d.tViews=hg(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,c,u,e,t,r,i,s,o):c.data[d];Yi(h,!1);const m=u[11].createComment("");ag(c,u,m,h),hr(m,u),fg(u,u[d]=pk(m,u,m,h)),Fp(h)&&Vw(c,u,h),null!=o&&Uw(u,h,a)}function le(n,e=G.Default){const t=ce();return null===t?Le(n,e):FM(Cn(),t,nt(n),e)}function o0(){throw new Error("invalid")}function is(n,e,t){const r=ce();return fr(r,ku(),e)&&function(n,e,t,r,i,s,o,a){const u=pi(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(wk(n,t,d,r,i),Pp(e)&&function(n,e){const t=Qr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,tn(s)?s.setProperty(u,r,i):zv(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(yt(),nn(),r,n,e,r[11],t,!1),is}function a0(n,e,t,r,i){const o=i?"class":"style";wk(n,t,e.inputs[o],o,r)}function Nn(n,e,t,r){const i=ce(),s=yt(),o=20+n,a=i[11],u=i[o]=vw(a,e,Xe.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=qu(e,n,2,i,lo(a,s));return Bw(e,t,c,lo(a,o)),null!==c.attrs&&pg(c,c.attrs,!1),null!==c.mergedAttrs&&pg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Yi(c,!0);const d=c.mergedAttrs;null!==d&&Wp(a,u,d);const h=c.classes;null!==h&&Tw(a,u,h);const m=c.styles;null!==m&&LR(a,u,m),64!=(64&c.flags)&&ag(s,i,u,c),0===Xe.lFrame.elementDepthCount&&hr(u,i),Xe.lFrame.elementDepthCount++,Fp(c)&&(Vw(s,i,c),function(n,e,t){if(Rv(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&Uw(i,c)}function On(){let n=Cn();Uv()?Xe.lFrame.isParent=!1:(n=n.parent,Yi(n,!1));const e=n;Xe.lFrame.elementDepthCount--;const t=yt();t.firstCreatePass&&($p(t,n),Rv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&a0(t,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&a0(t,e,ce(),e.stylesWithoutHost,!1)}function Cd(n,e,t,r){Nn(n,e,t,r),On()}function Id(n){return!!n&&"function"==typeof n.then}const u0=function(n){return!!n&&"function"==typeof n.subscribe};function Er(n,e,t,r){const i=ce(),s=yt(),o=Cn();return function(n,e,t,r,i,s,o,a){const u=Fp(r),d=n.firstCreatePass&&_k(n),h=e[8],m=mk(e);let y=!0;if(3&r.type||a){const V=pi(r,e),K=a?a(V):V,$=m.length,ae=a?pe=>a(gn(pe[r.index])):r.index;if(tn(t)){let pe=null;if(!a&&u&&(pe=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=s,pe.__ngLastListenerFn__=s,y=!1;else{s=c0(r,e,h,s,!1);const xe=t.listen(K,i,s);m.push(s,xe),d&&d.push(i,ae,$,$+1)}}else s=c0(r,e,h,s,!0),K.addEventListener(i,s,o),m.push(s),d&&d.push(i,ae,$,o)}else s=c0(r,e,h,s,!1);const T=r.outputs;let N;if(y&&null!==T&&(N=T[i])){const V=N.length;if(V)for(let K=0;K<V;K+=2){const ze=e[N[K]][N[K+1]].subscribe(s),kt=m.length;m.push(s,ze),d&&d.push(i,r.index,kt,-(kt+1))}}}(s,i,i[11],o,n,e,!!t,r),Er}function lN(n,e,t,r){try{return!1!==t(r)}catch(i){return vk(n,i),!1}}function c0(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Qr(n.index,e):e;0==(32&e[2])&&Hw(a);let u=lN(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=lN(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function yg(n=1){return function(n){return(Xe.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,Xe.lFrame.contextLView))[8]}(n)}function wN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ri(s):Ns(s),u=!1;for(;0!==a&&(!1===u||o);){const d=n[a+1];z8(n[a],e)&&(u=!0,n[a+1]=r?xw(d):Dw(d)),a=r?Ri(d):Ns(d)}u&&(n[t+1]=r?Dw(s):xw(s))}function z8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Bu(n,e)>=0}function vg(n,e){return function(n,e,t,r){const i=ce(),s=yt(),o=function(n){const e=Xe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[vr()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=function(n){const e=Xe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Td(t=d0(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=d0(i,n,e,t,r),null===s){let u=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ns(r))return n[Ri(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=d0(null,n,e,u[1],r),u=Td(u,e.attrs,r),function(n,e,t,r){n[Ri(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Td(r,n[s].hostAttrs,t);return Td(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ri(o),u=Ns(o);n[r]=t;let d,c=!1;if(Array.isArray(t)){const h=t;d=h[1],(null===d||Bu(h,d)>0)&&(c=!0)}else d=t;if(i)if(0!==u){const m=Ri(n[a+1]);n[r+1]=cg(m,a),0!==m&&(n[m+1]=Sw(n[m+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=cg(a,0),0!==a&&(n[a+1]=Sw(n[a+1],r)),a=r;else n[r+1]=cg(u,0),0===a?a=r:n[u+1]=Sw(n[u+1],r),u=r;c&&(n[r+1]=Dw(n[r+1])),wN(n,d,r,!0),wN(n,d,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Bu(s,e)>=0&&(t[r+1]=xw(t[r+1]))}(e,d,n,r,s),o=cg(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==rt&&fr(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];wg(function(n){return 1==(1&n)}(c)?kN(u,e,t,i,Ns(c),o):void 0)||(wg(s)||function(n){return 2==(2&n)}(c)&&(s=kN(u,null,t,i,a,o)),function(n,e,t,r,i){const s=tn(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Xr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Xr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Lp(vr(),t),i,s))}(s,s.data[vr()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ft(po(n)))),n}(e,t),r,o)}(n,e,null,!0),vg}function d0(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Td(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Td(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Jr(n,o,!!t||e[++s]))}return void 0===n?null:n}function kN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let m=t[i+1];m===rt&&(m=h?Nt:void 0);let y=h?Zv(m,r):d===r?m:void 0;if(c&&!wg(y)&&(y=Zv(u,r)),wg(y)&&(a=y,o))return a;const T=n[i+1];i=o?Ri(T):Ns(T)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Zv(u,r))}return a}function wg(n){return void 0!==n}function Pi(n,e=""){const t=ce(),r=yt(),i=n+20,s=r.firstCreatePass?qu(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return tn(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ag(r,t,o,s),Yi(s,!1)}function Eg(n){return lc("",n,""),Eg}function lc(n,e,t){const r=ce(),i=function(n,e,t,r){return fr(n,ku(),t)?e+Je(t)+r:rt}(r,n,e,t);return i!==rt&&Os(r,vr(),i),lc}const ga=void 0;var S5=["en",[["a","p"],["AM","PM"],ga],[["AM","PM"],ga,ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ga,"{1} 'at' {0}",ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let dc={};function eO(n){return n in dc||(dc[n]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[n]),dc[n]}var Se=(()=>((Se=Se||{})[Se.LocaleId=0]="LocaleId",Se[Se.DayPeriodsFormat=1]="DayPeriodsFormat",Se[Se.DayPeriodsStandalone=2]="DayPeriodsStandalone",Se[Se.DaysFormat=3]="DaysFormat",Se[Se.DaysStandalone=4]="DaysStandalone",Se[Se.MonthsFormat=5]="MonthsFormat",Se[Se.MonthsStandalone=6]="MonthsStandalone",Se[Se.Eras=7]="Eras",Se[Se.FirstDayOfWeek=8]="FirstDayOfWeek",Se[Se.WeekendRange=9]="WeekendRange",Se[Se.DateFormat=10]="DateFormat",Se[Se.TimeFormat=11]="TimeFormat",Se[Se.DateTimeFormat=12]="DateTimeFormat",Se[Se.NumberSymbols=13]="NumberSymbols",Se[Se.NumberFormats=14]="NumberFormats",Se[Se.CurrencyCode=15]="CurrencyCode",Se[Se.CurrencySymbol=16]="CurrencySymbol",Se[Se.CurrencyName=17]="CurrencyName",Se[Se.Currencies=18]="Currencies",Se[Se.Directionality=19]="Directionality",Se[Se.PluralCase=20]="PluralCase",Se[Se.ExtraData=21]="ExtraData",Se))();const bg="en-US";let tO=bg;function p0(n,e,t,r,i){if(n=nt(n),Array.isArray(n))for(let s=0;s<n.length;s++)p0(n[s],e,t,r,i);else{const s=yt(),o=ce();let a=Ju(n)?n:nt(n.provide),u=Tk(n);const c=Cn(),d=1048575&c.providerIndexes,h=c.directiveStart,m=c.providerIndexes>>20;if(Ju(n)||!n.multi){const y=new Zl(u,i,le),T=m0(a,e,i?d:d+m,h);-1===T?(Qp(td(c,o),s,a),g0(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),o.push(y)):(t[T]=y,o[T]=y)}else{const y=m0(a,e,d+m,h),T=m0(a,e,d,d+m),N=y>=0&&t[y],V=T>=0&&t[T];if(i&&!V||!i&&!N){Qp(td(c,o),s,a);const K=function(n,e,t,r,i){const s=new Zl(n,t,le);return s.multi=[],s.index=e,s.componentProviders=0,TO(s,i,r&&!t),s}(i?T7:I7,t.length,i,r,u);!i&&V&&(t[T].providerFactory=K),g0(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(K),o.push(K)}else g0(s,n,y>-1?y:T,TO(t[i?T:y],u,!i&&r));!i&&r&&V&&t[T].componentProviders++}}}function g0(n,e,t,r){const i=Ju(e),s=function(n){return!!n.useClass}(e);if(i||s){const u=(s?nt(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[r,u]):c[d+1].push(r,u)}else c.push(t,u)}}}function TO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function m0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function I7(n,e,t,r){return _0(this.multi,[])}function T7(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=nd(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),_0(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],_0(i,s);return s}function _0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Gt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=yt();if(r.firstCreatePass){const i=Ai(n);p0(t,r.data,r.blueprint,i,!0),p0(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class DO{}class A7{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${ft(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let fc=(()=>{class n{}return n.NULL=new A7,n})();function M7(){return pc(Cn(),ce())}function pc(n,e){return new ei(pi(n,e))}let ei=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=M7,n})();class xO{}let Ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=ce(),t=Qr(Cn().index,n);return function(n){return n[11]}(Qi(t)?t:n)}(),n})(),O7=(()=>{class n{}return n.\u0275prov=D({token:n,providedIn:"root",factory:()=>null}),n})();class gc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AO=new gc("13.1.1"),y0={};function Sg(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(gn(s)),xi(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Sg(u[1],u,c,r)}const o=t.type;if(8&o)Sg(n,e,t.child,r);else if(32&o){const a=gw(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=OR(e,t);if(Array.isArray(a))r.push(...a);else{const u=md(e[16]);Sg(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Md{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Sg(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(xi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ww(e,r),Jp(t,r))}this._attachedToViewContainer=!1}TR(this._lView[1],this._lView)}onDestroy(e){!function(n,e,t,r){const i=mk(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&_k(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Hw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ww(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Up(!0);try{Ww(n,e,t)}finally{Up(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,_d(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class P7 extends Md{constructor(e){super(e),this._view=e}detectChanges(){gk(this._view)}checkNoChanges(){!function(n){Up(!0);try{gk(n)}finally{Up(!1)}}(this._view)}get context(){return null}}class MO extends fc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lr(e);return new v0(t,this.ngModule)}}function RO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const L7=new Ke("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_R});class v0 extends DO{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(J4).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return RO(this.componentDef.inputs)}get outputs(){return RO(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,y0,i);return s!==y0||r===y0?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(xO,gM),a=s.get(O7,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function(n,e,t){if(tn(n))return n.selectRootElement(e,t===cr.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):vw(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,m=function(n,e){return{components:[],scheduler:n||_R,clean:V6,playerHandler:e||null,flags:0}}(),y=hg(0,null,null,1,0,null,null,null,null,null),T=yd(null,y,m,h,null,null,o,u,a,s);let N,V;Bp(T);try{const K=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=qu(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(pg(u,c,!0),null!==n&&(Wp(i,n,c),null!==u.classes&&Tw(i,n,u.classes),null!==u.styles&&LR(i,n,u.styles)));const d=r.createRenderer(n,e),h=yd(t,rk(e),null,e.onPush?64:16,t[20],u,r,d,s||null,null);return o.firstCreatePass&&(Qp(td(u,t),o,e.type),dk(o,u),hk(u,t.length,1)),fg(t,h),t[20]=h}(d,this.componentDef,T,o,u);if(d)if(r)Wp(u,d,["ng-version",AO.full]);else{const{attrs:$,classes:ae}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Mi(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);$&&Wp(u,d,$),ae&&ae.length>0&&Tw(u,d,ae.join(" "))}if(V=Fv(y,20),void 0!==t){const $=V.projection=[];for(let ae=0;ae<this.ngContentSelectors.length;ae++){const pe=t[ae];$.push(null!=pe?Array.from(pe):null)}}N=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=Cn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),fk(n,r,e,Ku(n,e,1,null),t));const i=nd(e,n,r.directiveStart,r);hr(i,e);const s=pi(r,e);return s&&hr(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Cn();e.contentQueries(1,o,u.directiveStart)}const a=Cn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ho(a.index),ck(t[1],a,0,a.directiveStart,a.directiveEnd,e),lk(e,o)),o}(K,this.componentDef,T,m,[i8]),vd(y,T,null)}finally{jp()}return new B7(this.componentType,N,pc(V,T),T,V)}}class B7 extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new P7(i),this.componentType=e}get injector(){return new Pu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Fs{}class kO{}const mc=new Map;class PO extends Fs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new MO(this);const r=di(e);this._bootstrapComponents=Zi(r.bootstrap),this._r3Injector=Ik(e,t,[{provide:Fs,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],ft(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Kt.THROW_IF_NOT_FOUND,r=G.Default){return e===Kt||e===Fs||e===qw?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class w0 extends kO{constructor(e){super(),this.moduleType=e,null!==di(e)&&function(n){const e=new Set;!function t(r){const i=di(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ft(e)} vs ${ft(e.name)}`)}(s,mc.get(s),r),mc.set(s,r));const o=Zi(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new PO(this.moduleType,e)}}function E0(n){return e=>{setTimeout(n,void 0,e)}}const sn=class extends Ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),c=r;if(e&&"object"==typeof e){const h=e;a=null===(i=h.next)||void 0===i?void 0:i.bind(h),u=null===(s=h.error)||void 0===s?void 0:s.bind(h),c=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(u=E0(u),a&&(a=E0(a)),c&&(c=E0(c)));const d=super.subscribe({next:a,error:u,complete:c});return e instanceof b&&e.add(d),d}};Symbol;let Ls=(()=>{class n{}return n.__NG_ELEMENT_ID__=lK,n})();const uK=Ls,cK=class extends uK{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=yd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),vd(t,r,e),new Md(r)}};function lK(){return xg(Cn(),ce())}function xg(n,e){return 4&n.type?new cK(e,n,pc(n,e)):null}let Fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=dK,n})();function dK(){return function(n,e){let t;const r=e[n.index];if(xi(r))t=r;else{let i;if(8&n.type)i=gn(r);else{const s=e[11];i=s.createComment("");const o=pi(n,e);ha(s,og(s,o),i,function(n,e){return tn(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=pk(r,e,i,n),fg(e,t)}return new jO(t,n,e)}(Cn(),ce())}const hK=Fi,jO=class extends hK{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new Pu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kp(this._hostTNode,this._hostLView);if(RM(e)){const t=Ou(e,this._hostLView),r=Nu(e);return new Pu(t[1].data[r+8],t)}return new Pu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=$O(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!("function"==typeof e);let a;if(o)a=t;else{const h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.ngModuleRef}const u=o?e:new v0(lr(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const h=c.get(Fs,null);h&&(s=h)}const d=u.create(c,i,void 0,s);return this.insert(d.hostView,a),d}insert(e,t){const r=e._lView,i=r[1];if(xi(r[3])){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const h=r[3],m=new jO(h,h[6],h[3]);m.detach(m.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],jM(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Cw(s,o),u=r[11],c=og(u,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,_d(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),jM(C0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=$O(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ww(this._lContainer,t);r&&(Jp(C0(this._lContainer),t),TR(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=ww(this._lContainer,t);return r&&null!=Jp(C0(this._lContainer),t)?new Md(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function $O(n){return n[8]}function C0(n){return n[8]||(n[8]=[])}function QO(n,e){return xg(n,e)}function Rg(...n){}const Od=new Ke("Application Initializer");let yc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Rg,this.reject=Rg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Id(s))t.push(s);else if(u0(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Le(Od,8))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const Pd=new Ke("AppId"),UK={provide:Pd,useFactory:function(){return`${L0()}${L0()}${L0()}`},deps:[]};function L0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hP=new Ke("Platform Initializer"),_o=new Ke("Platform ID"),fP=new Ke("appBootstrapListener");let pP=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const yo=new Ke("LocaleId"),gP=new Ke("DefaultCurrencyCode");class BK{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let kg=(()=>{class n{compileModuleSync(t){return new w0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Zi(di(t).declarations).reduce((o,a)=>{const u=lr(a);return u&&o.push(new v0(u)),o},[]);return new BK(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const $K=(()=>Promise.resolve(0))();function V0(n){"undefined"==typeof Zone?$K.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sn(!1),this.onMicrotaskEmpty=new sn(!1),this.onStable=new sn(!1),this.onError=new sn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(At,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,B0(n),n.isCheckStableRunning=!0,U0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),B0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return mP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),_P(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return mP(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),_P(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,B0(n),U0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,GK,Rg,Rg);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const GK={};function U0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function B0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _P(n){n._nesting--,U0(n)}class qK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sn,this.onMicrotaskEmpty=new sn,this.onStable=new sn,this.onError=new sn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let j0=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),V0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V0(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(Le(Lt))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),yP=(()=>{class n{constructor(){this._applications=new Map,$0.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return $0.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();class KK{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Li,$0=new KK;const vP=new Ke("AllowMultipleToken");class wP{constructor(e,t){this.name=e,this.token=t}}function EP(n,e,t=[]){const r=`Platform: ${e}`,i=new Ke(r);return(s=[])=>{let o=bP();if(!o||o.injector.get(vP,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Kw,useValue:"platform"});!function(n){if(Li&&!Li.destroyed&&!Li.injector.get(vP,!1))throw new or("400","");Li=n.get(CP);const e=n.get(hP,null);e&&e.forEach(t=>t())}(Kt.create({providers:a,name:r}))}return function(n){const e=bP();if(!e)throw new or("401","");return e}()}}function bP(){return Li&&!Li.destroyed?Li:null}let CP=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new qK:("zone.js"===n?void 0:n)||new Lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Lt,useValue:a}];return a.run(()=>{const c=Kt.create({providers:u,parent:this.injector,name:t.moduleType.name}),d=t.create(c),h=d.injector.get(Gu,null);if(!h)throw new or("402","");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:y=>{h.handleError(y)}});d.onDestroy(()=>{H0(this._modules,d),m.unsubscribe()})}),function(n,e,t){try{const r=t();return Id(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(h,a,()=>{const m=d.injector.get(yc);return m.runInitializers(),m.donePromise.then(()=>(function(n){ur(n,"Expected localeId to be defined"),"string"==typeof n&&(tO=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(yo,bg)||bg),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,r=[]){const i=IP({},r);return function(n,e,t){const r=new w0(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(vc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new or("403","");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new or("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Le(Kt))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();function IP(n,e){return Array.isArray(e)?e.reduce(IP,n):Object.assign(Object.assign({},n),e)}let vc=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new W(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new W(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),V0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),h.unsubscribe()}});this.isStable=As(a,u.pipe(function(n={}){const{connector:e=(()=>new Ue),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,c=0,d=!1,h=!1;const m=()=>{null==a||a.unsubscribe(),a=null},y=()=>{m(),o=u=null,d=h=!1},T=()=>{const N=o;y(),null==N||N.unsubscribe()};return Ae((N,V)=>{c++,!h&&!d&&m();const K=u=null!=u?u:e();V.add(()=>{c--,0===c&&!h&&!d&&(a=jl(T,i))}),K.subscribe(V),o||(o=new Ee({next:$=>K.next($),error:$=>{h=!0,m(),a=jl(y,t,$),K.error($)},complete:()=>{d=!0,m(),a=jl(y,r),K.complete()}}),en(N).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new or("405","");let i;i=t instanceof DO?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Fs),a=i.create(Kt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(j0,null),d=c&&a.injector.get(yP);return c&&d&&d.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),H0(this.components,a),d&&d.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new or("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;H0(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fP,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Le(Lt),Le(Kt),Le(Gu),Le(fc),Le(yc))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();function H0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let DP=!0,Ng=(()=>{class n{}return n.__NG_ELEMENT_ID__=s9,n})();function s9(n){return function(n,e,t){if(Pp(n)&&!t){const r=Qr(n.index,e);return new Md(r,r)}return 47&n.type?new Md(e[16],e):null}(Cn(),ce(),16==(16&n))}class NP{constructor(){}supports(e){return Ed(e)}create(e){return new h9(e)}}const d9=(n,e)=>e;class h9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||d9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<PP(r,i,s)?t:r,a=PP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,d=u-i;if(c!=d){for(let m=0;m<c;m++){const y=m<s.length?s[m]:s[m]=0,T=y+m;d<=T&&T<c&&(s[m]=y+1)}s[o.previousIndex]=d-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ed(e))throw new Error(`Error trying to diff '${ft(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Xu()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new f9(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new OP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class f9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class OP{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new p9,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PP(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class FP{constructor(){}supports(e){return e instanceof Map||e0(e)}create(){return new g9}}class g9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||e0(e)))throw new Error(`Error trying to diff '${ft(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new m9(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class m9{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LP(){return new Fd([new NP])}let Fd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LP()),deps:[[n,new ju,new St]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=D({token:n,providedIn:"root",factory:LP}),n})();function VP(){return new wc([new FP])}let wc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VP()),deps:[[n,new ju,new St]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=D({token:n,providedIn:"root",factory:VP}),n})();const y9=[new FP],w9=new Fd([new NP]),E9=new wc(y9),b9=EP(null,"core",[{provide:_o,useValue:"unknown"},{provide:CP,deps:[Kt]},{provide:yP,deps:[]},{provide:pP,deps:[]}]),S9=[{provide:vc,useClass:vc,deps:[Lt,Kt,Gu,fc,yc]},{provide:L7,deps:[Lt],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:yc,useClass:yc,deps:[[new St,Od]]},{provide:kg,useClass:kg,deps:[]},UK,{provide:Fd,useFactory:function(){return w9},deps:[]},{provide:wc,useFactory:function(){return E9},deps:[]},{provide:yo,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||bg},deps:[[new ld(yo),new St,new ju]]},{provide:gP,useValue:"USD"}];let A9=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Le(vc))},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:S9}),n})(),Pg=null;function as(){return Pg}const ti=new Ke("DocumentToken");let _a=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:function(){return Le(UP)},providedIn:"platform"}),n})();const O9=new Ke("Location Initialized");let UP=(()=>{class n extends _a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(t){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){BP()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){BP()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Le(ti))},n.\u0275prov=D({token:n,factory:function(){return new UP(Le(ti))},providedIn:"platform"}),n})();function BP(){return!!window.history.pushState}function K0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Vs(n){return n&&"?"!==n[0]?"?"+n:n}let Ec=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:function(){return function(n){const e=Le(ti).location;return new $P(Le(_a),e&&e.origin||"")}()},providedIn:"root"}),n})();const Q0=new Ke("appBaseHref");let $P=(()=>{class n extends Ec{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return K0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Vs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Vs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Vs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Le(_a),Le(Q0,8))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),L9=(()=>{class n extends Ec{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=K0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Le(_a),Le(Q0,8))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),Y0=(()=>{class n{constructor(t,r){this._subject=new sn,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=jP(HP(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Vs(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,HP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vs(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vs(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Vs,n.joinWithSlash=K0,n.stripTrailingSlash=jP,n.\u0275fac=function(t){return new(t||n)(Le(Ec),Le(_a))},n.\u0275prov=D({token:n,factory:function(){return new Y0(Le(Ec),Le(_a))},providedIn:"root"}),n})();function HP(n){return n.replace(/\/index.html$/,"")}var _n=(()=>((_n=_n||{})[_n.Zero=0]="Zero",_n[_n.One=1]="One",_n[_n.Two=2]="Two",_n[_n.Few=3]="Few",_n[_n.Many=4]="Many",_n[_n.Other=5]="Other",_n))();const z9=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=eO(e);if(t)return t;const r=e.split("-")[0];if(t=eO(r),t)return t;if("en"===r)return S5;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Se.PluralCase]};class Wg{}let EQ=(()=>{class n extends Wg{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(z9(r||this.locale)(t)){case _n.Zero:return"zero";case _n.One:return"one";case _n.Two:return"two";case _n.Few:return"few";case _n.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Le(yo))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();function XP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class IQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ZP=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new IQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),eF(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{eF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(Fi),le(Ls),le(Fd))},n.\u0275dir=qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function eF(n,e){n.context.$implicit=e.item}let sE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new TQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(Fi),le(Ls))},n.\u0275dir=qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class TQ{constructor(){this.$implicit=null,this.ngIf=null}}function tF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ft(e)}'.`)}let XQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[{provide:Wg,useClass:EQ}]}),n})();const iF="browser";function sF(n){return n===iF}let nY=(()=>{class n{}return n.\u0275prov=D({token:n,providedIn:"root",factory:()=>new rY(Le(ti),window)}),n})();class rY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oF(this.window.history)||oF(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oF(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class aF{}class lE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new lE,Pg||(Pg=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ud=Ud||document.querySelector("base"),Ud?Ud.getAttribute("href"):null);return null==t?null:function(n){zg=zg||document.createElement("a"),zg.setAttribute("href",n);const e=zg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return XP(document.cookie,e)}}let zg,Ud=null;const uF=new Ke("TRANSITION_ID"),cY=[{provide:Od,useFactory:function(n,e,t){return()=>{t.get(yc).donePromise.then(()=>{const r=as(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[uF,ti,Kt],multi:!0}];class dE{static init(){var n;n=new dE,$0=n}addToWindow(e){At.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},At.getAllAngularTestabilities=()=>e.getAllTestabilities(),At.getAllAngularRootElements=()=>e.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(r=>{const i=At.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?as().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let lY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const qg=new Ke("EventManagerPlugins");let Kg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Le(qg),Le(Lt))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();class cF{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=as().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let lF=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),Bd=(()=>{class n extends lF{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(dF),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dF))}}return n.\u0275fac=function(t){return new(t||n)(Le(ti))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();function dF(n){as().remove(n)}const hE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fE=/%COMP%/g;function Qg(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Qg(n,i,t):(i=i.replace(fE,n),t.push(i))}return t}function pF(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pE=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new gE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case cr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mY(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case cr.ShadowDom:return new _Y(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Qg(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Le(Kg),Le(Bd),Le(Pd))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();class gE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(hE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=hE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=hE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(t,r,i&Xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pF(r)):this.eventManager.addEventListener(e,t,pF(r))}}class mY extends gE{constructor(e,t,r,i){super(e),this.component=r;const s=Qg(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(fE,i+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(fE,i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _Y extends gE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qg(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yY=(()=>{class n extends cF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(Le(ti))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const mF=["alt","control","meta","shift"],wY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_F={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},EY={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bY=(()=>{class n extends cF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(mF.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&_F.hasOwnProperty(e)&&(e=_F[e]))}return wY[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mF.forEach(s=>{s!=i&&EY[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Le(ti))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const SY=EP(b9,"browser",[{provide:_o,useValue:iF},{provide:hP,useValue:function(){lE.makeCurrent(),dE.init()},multi:!0},{provide:ti,useFactory:function(){return n=document,Ov=n,document;var n},deps:[]}]),xY=[{provide:Kw,useValue:"root"},{provide:Gu,useFactory:function(){return new Gu},deps:[]},{provide:qg,useClass:yY,multi:!0,deps:[ti,Lt,_o]},{provide:qg,useClass:bY,multi:!0,deps:[ti]},{provide:pE,useClass:pE,deps:[Kg,Bd,Pd]},{provide:xO,useExisting:pE},{provide:lF,useExisting:Bd},{provide:Bd,useClass:Bd,deps:[ti]},{provide:j0,useClass:j0,deps:[Lt]},{provide:Kg,useClass:Kg,deps:[qg,Lt]},{provide:aF,useClass:lY,deps:[]}];let AY=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Pd,useValue:t.appId},{provide:uF,useExisting:Pd},cY]}}}return n.\u0275fac=function(t){return new(t||n)(Le(n,12))},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:xY,imports:[XQ,A9]}),n})();"undefined"!=typeof window&&window;const{isArray:BY}=Array,{getPrototypeOf:jY,prototype:$Y,keys:HY}=Object;function wF(n){if(1===n.length){const e=n[0];if(BY(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&jY(n)===$Y}(e)){const t=HY(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:WY}=Array;function _E(n){return Ne(e=>function(n,e){return WY(e)?n(...e):n(e)}(n,e))}function EF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let bF=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(le(Ps),le(ei))},n.\u0275dir=qe({type:n}),n})(),ya=(()=>{class n extends bF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Yr(n)))(r||n)}}(),n.\u0275dir=qe({type:n,features:[Ft]}),n})();const us=new Ke("NgValueAccessor"),KY={provide:us,useExisting:Dt(()=>yE),multi:!0};let yE=(()=>{class n extends ya{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Yr(n)))(r||n)}}(),n.\u0275dir=qe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&Er("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Gt([KY]),Ft]}),n})();const QY={provide:us,useExisting:Dt(()=>vE),multi:!0},JY=new Ke("CompositionEventMode");let vE=(()=>{class n extends bF{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=as()?as().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(le(Ps),le(ei),le(JY,8))},n.\u0275dir=qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Er("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Gt([QY]),Ft]}),n})();const pr=new Ke("NgValidators"),Eo=new Ke("NgAsyncValidators");function kF(n){return null!=n}function NF(n){const e=Id(n)?en(n):n;return u0(e),e}function OF(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function PF(n,e){return e.map(t=>t(n))}function FF(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function wE(n){return null!=n?function(n){if(!n)return null;const e=n.filter(kF);return 0==e.length?null:function(t){return OF(PF(t,e))}}(FF(n)):null}function EE(n){return null!=n?function(n){if(!n)return null;const e=n.filter(kF);return 0==e.length?null:function(t){return function(...n){const e=Ip(n),{args:t,keys:r}=wF(n),i=new W(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let d=0;d<o;d++){let h=!1;Gr(t[d]).subscribe(new je(s,m=>{h||(h=!0,c--),a[d]=m},()=>u--,void 0,()=>{(!u||!h)&&(c||s.next(r?EF(r,a):a),s.complete())}))}});return e?i.pipe(_E(e)):i}(PF(t,e).map(NF)).pipe(Ne(OF))}}(FF(n)):null}function UF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bE(n){return n?Array.isArray(n)?n:[n]:[]}function Yg(n,e){return Array.isArray(n)?n.includes(e):n===e}function $F(n,e){const t=bE(e);return bE(n).forEach(i=>{Yg(t,i)||t.push(i)}),t}function HF(n,e){return bE(e).filter(t=>!Yg(n,t))}class GF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bo extends GF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ir extends GF{get formDirective(){return null}get path(){return null}}class WF{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let zF=(()=>{class n extends WF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(bo,2))},n.\u0275dir=qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&vg("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Ft]}),n})(),qF=(()=>{class n extends WF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(Ir,10))},n.\u0275dir=qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&vg("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Ft]}),n})();function $d(n,e){TE(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&KF(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&KF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function em(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function TE(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(UF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(UF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();em(e._rawValidators,i),em(e._rawAsyncValidators,i)}function KF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hd="VALID",rm="INVALID",bc="PENDING",Gd="DISABLED";function xE(n){return(ME(n)?n.validators:n)||null}function JF(n){return Array.isArray(n)?wE(n):n||null}function AE(n,e){return(ME(e)?e.asyncValidators:n)||null}function XF(n){return Array.isArray(n)?EE(n):n||null}function ME(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class RE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=JF(this._rawValidators),this._composedAsyncValidatorFn=XF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hd}get invalid(){return this.status===rm}get pending(){return this.status==bc}get disabled(){return this.status===Gd}get enabled(){return this.status!==Gd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=JF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=XF(e)}addValidators(e){this.setValidators($F(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($F(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HF(e,this._rawAsyncValidators))}hasValidator(e){return Yg(this._rawValidators,e)}hasAsyncValidator(e){return Yg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hd||this.status===bc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gd:Hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bc,this._hasOwnPendingAsyncValidator=!0;const t=NF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof kE?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof dJ&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new sn,this.statusChanges=new sn}_calculateStatus(){return this._allControlsDisabled()?Gd:this.errors?rm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bc)?bc:this._anyControlsHaveStatus(rm)?rm:Hd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ME(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class im extends RE{constructor(e=null,t,r){super(xE(t),AE(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class kE extends RE{constructor(e,t,r){super(xE(t),AE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof im?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class dJ extends RE{constructor(e,t,r){super(xE(t),AE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof im?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const hJ={provide:Ir,useExisting:Dt(()=>sm)},Wd=(()=>Promise.resolve(null))();let sm=(()=>{class n extends Ir{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new sn,this.form=new kE({},wE(t),EE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wd.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$d(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),nm(this._directives,t)})}addFormGroup(t){Wd.then(()=>{const r=this._findContainer(t.path),i=new kE({});(function(n,e){TE(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(le(pr,10),le(Eo,10))},n.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Er("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([hJ]),Ft]}),n})();const pJ={provide:bo,useExisting:Dt(()=>NE)},tL=(()=>Promise.resolve(null))();let NE=(()=>{class n extends bo{constructor(t,r,i,s){super(),this.control=new im,this._registered=!1,this.update=new sn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vE?t=s:function(n){return Object.getPrototypeOf(n.constructor)===ya}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$d(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;tL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(le(Ir,9),le(pr,10),le(Eo,10),le(us,10))},n.\u0275dir=qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([pJ]),Ft,Kr]}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({}),n})();const kJ={provide:pr,useExisting:Dt(()=>UE),multi:!0},NJ={provide:pr,useExisting:Dt(()=>BE),multi:!0};let UE=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&rs("required",r.required?"":null)},inputs:{required:"required"},features:[Gt([kJ])]}),n})(),BE=(()=>{class n extends UE{validate(t){return this.required?function(n){return!0===n.value?null:{required:!0}}(t):null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Yr(n)))(r||n)}}(),n.\u0275dir=qe({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&rs("required",r.required?"":null)},features:[Gt([NJ]),Ft]}),n})(),VJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({imports:[[iL]]}),n})(),UJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({imports:[VJ]}),n})();function am(n){return new W(e=>{Gr(n()).subscribe(e)})}function EL(n,e){const t=l(n)?n:()=>n,r=i=>i.error(t());return new W(e?i=>e.schedule(r,0,i):r)}const BJ=["addListener","removeListener"],jJ=["addEventListener","removeEventListener"],$J=["on","off"];function um(n,e,t,r){if(l(t)&&(r=t,t=void 0),r)return um(n,e,t).pipe(_E(r));const[i,s]=function(n){return l(n.addEventListener)&&l(n.removeEventListener)}(n)?jJ.map(o=>a=>n[o](e,a,t)):function(n){return l(n.addListener)&&l(n.removeListener)}(n)?BJ.map(bL(n,e)):function(n){return l(n.on)&&l(n.off)}(n)?$J.map(bL(n,e)):[];if(!i&&Nl(n))return Zt(o=>um(o,e,t))(Gr(n));if(!i)throw new TypeError("Invalid event target");return new W(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function bL(n,e){return t=>r=>n[t](e,r)}function Ze(...n){return en(n,li(n))}function zd(...n){return Ki(1)(en(n,li(n)))}const Co=new W(ue);function ni(n,e){return Ae((t,r)=>{let i=0;t.subscribe(new je(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Bi(n,e){return Ae((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new je(r,u=>{null==i||i.unsubscribe();let c=0;const d=s++;Gr(n(u,d)).subscribe(i=new je(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function CL(){return Ae((n,e)=>{let t=null;n._refCount++;const r=new je(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class IL extends W{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ie(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new b;const t=this.getSubject();e.add(this.source.subscribe(new je(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=b.EMPTY)}return e}refCount(){return CL()(this)}}const KJ={connector:()=>new Ue};function TL(n,e=KJ){const{connector:t}=e;return Ae((r,i)=>{const s=t();en(n(function(n){return new W(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function Tr(n,e,t){const r=l(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ae((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new je(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):fe}class JJ extends b{constructor(e,t){super()}schedule(e,t=0){return this}}const cm={setInterval(...n){const{delegate:e}=cm;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=cm;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class DL extends JJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return cm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;cm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,E(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const SL={now:()=>(SL.delegate||Date).now(),delegate:void 0};class qd{constructor(e,t=qd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}qd.now=SL.now;class xL extends qd{constructor(e,t=qd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const jE=new xL(DL),XJ=jE;function AL(n,e){return e?t=>zd(e.pipe(Kn(1),Ae((n,e)=>{n.subscribe(new je(e,ue))})),t.pipe(AL(n))):Zt((t,r)=>n(t,r).pipe(Kn(1),function(n){return Ne(()=>n)}(t)))}const Kd="Service workers are disabled or not supported by this browser";class lm{constructor(e){if(this.serviceWorker=e,e){const r=um(e,"controllerchange").pipe(Ne(()=>e.controller)),s=zd(am(()=>Ze(e.controller)),r);this.worker=s.pipe(ni(d=>!!d)),this.registration=this.worker.pipe(Bi(()=>e.getRegistration()));const c=um(e,"message").pipe(Ne(d=>d.data)).pipe(ni(d=>d&&d.type)).pipe(function(n){return n?e=>TL(n)(e):e=>function(n,e){const t=l(n)?n:()=>n;return l(e)?TL(e,{connector:t}):r=>new IL(r,t)}(new Ue)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=(Kd,am(()=>EL(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(e,t){return this.worker.pipe(Kn(1),Tr(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(ni(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Kn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ni(t=>t.nonce===e),Kn(1),Ne(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let sX=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Ue,!t.isEnabled)return this.messages=Co,this.notificationClicks=Co,void(this.subscription=Co);this.messages=this.sw.eventsOfType("PUSH").pipe(Ne(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ne(i=>i.data)),this.pushManager=this.sw.registration.pipe(Ne(i=>i.pushManager));const r=this.pushManager.pipe(Bi(i=>i.getSubscription()));this.subscription=As(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Kd));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Bi(o=>o.subscribe(r)),Kn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Kn(1),Bi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Kd))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(lm))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),ML=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Co,this.available=Co,this.activated=Co,void(this.unrecoverable=Co);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(ni(r=>"VERSION_READY"===r.type),Ne(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Kd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Kd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(Le(lm))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();class dm{}const RL=new Ke("NGSW_REGISTER_SCRIPT");function oX(n,e,t,r){return()=>{if(!sF(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...u]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Ze(null);break;case"registerWithDelay":s=kL(+u[0]||0);break;case"registerWhenStable":s=u[0]?As(NL(n),kL(+u[0])):NL(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Lt).runOutsideAngular(()=>s.pipe(Kn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function kL(n){return Ze(null).pipe(function(n,e=jE){const t=function(n=0,e,t=XJ){let r=-1;return null!=e&&(Cp(e)?t=e:r=e),new W(i=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return AL(()=>t)}(n))}function NL(n){return n.get(vc).isStable.pipe(ni(t=>t))}function aX(n,e){return new lm(sF(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let uX=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:RL,useValue:t},{provide:dm,useValue:r},{provide:lm,useFactory:aX,deps:[dm,_o]},{provide:Od,useFactory:oX,deps:[Kt,RL,dm,_o],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[sX,ML]}),n})();var cX=x(896),hm=x.n(cX);class OL{constructor(){this.items=new Map}addArticle(e){var t;const r=null!==(t=this.items.get(e))&&void 0!==t?t:0;this.items.set(e,0!==r?r+1:1)}clear(){this.items.clear()}get isEmpty(){return 0===this.items.size}get totalPrice(){let e=0;for(const t of this.items.entries())e+=t[0].price*t[1];return e}get contents(){let e=[];for(const t of this.items.entries())e.push(t);return e}}const Qd_firebase={projectId:"pwa-gabi",appId:"1:378634587111:web:0ac92eccbc08d1416e0b42",databaseURL:"https://pwa-gabi-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"pwa-gabi.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBDLFa6VLYrkSZ5kmBKIGEK8McImOA0XLM",authDomain:"pwa-gabi.firebaseapp.com",messagingSenderId:"378634587111",measurementId:"G-SV95K1103F"},lX=["rear","back","r\xfcck","arri\xe8re","trasera","tr\xe1s","traseira","posteriore","\u540e\u9762","\u5f8c\u9762","\u80cc\u9762","\u540e\u7f6e","\u5f8c\u7f6e","\u80cc\u7f6e","\u0437\u0430\u0434\u043d\u0435\u0439","\u0627\u0644\u062e\u0644\u0641\u064a\u0629","\ud6c4","arka","achterzijde","\u0e2b\u0e25\u0e31\u0e07","baksidan","bagside","sau","bak","tylny","takakamera","belakang","\u05d0\u05d7\u05d5\u05e8\u05d9\u05ea","\u03c0\u03af\u03c3\u03c9","spate","h\xe1ts\xf3","zadn\xed","darrere","zadn\xe1","\u0437\u0430\u0434\u043d\u044f","stra\u017enja","belakang","\u092c\u0948\u0915"];function Bs(n){return Ae((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new je(t,void 0,void 0,o=>{s=Gr(n(o,Bs(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Cc(n,e){return l(e)?Zt(n,e,1):Zt(n,1)}class PL{}class FL{}class js{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof js?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new js;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof js?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class fX{encodeKey(e){return LL(e)}encodeValue(e){return LL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const gX=/%(\d[a-f0-9])/gi,mX={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function LL(n){return encodeURIComponent(n).replace(gX,(e,t)=>{var r;return null!==(r=mX[t])&&void 0!==r?r:e})}function VL(n){return`${n}`}class Io{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new fX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Io({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(VL(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(VL(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _X{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UL(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function BL(n){return"undefined"!=typeof Blob&&n instanceof Blob}function jL(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Yd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new js),this.context||(this.context=new _X),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Io,this.urlWithParams=t}serializeBody(){return null===this.body?null:UL(this.body)||BL(this.body)||jL(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Io?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jL(this.body)?null:BL(this.body)?this.body.type||null:UL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Io?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,d=e.params||this.params;const h=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),d)),new Yd(r,i,o,{params:d,headers:c,context:h,reportProgress:u,responseType:s,withCredentials:a})}}var vn=(()=>((vn=vn||{})[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn))();class $E{constructor(e,t=200,r="OK"){this.headers=e.headers||new js,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HE extends $E{constructor(e={}){super(e),this.type=vn.ResponseHeader}clone(e={}){return new HE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fm extends $E{constructor(e={}){super(e),this.type=vn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $L extends $E{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function GE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let HL=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Yd)s=t;else{let u,c;u=i.headers instanceof js?i.headers:new js(i.headers),i.params&&(c=i.params instanceof Io?i.params:new Io({fromObject:i.params})),s=new Yd(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Ze(s).pipe(Cc(u=>this.handler.handle(u)));if(t instanceof Yd||"events"===i.observe)return o;const a=o.pipe(ni(u=>u instanceof fm));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ne(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ne(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ne(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ne(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Io).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,GE(i,r))}post(t,r,i={}){return this.request("POST",t,GE(i,r))}put(t,r,i={}){return this.request("PUT",t,GE(i,r))}}return n.\u0275fac=function(t){return new(t||n)(Le(PL))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();class GL{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const WL=new Ke("HTTP_INTERCEPTORS");let wX=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const EX=/^\)\]\}',?\n/;let zL=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new W(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,T)=>i.setRequestHeader(y,T.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=1223===i.status?204:i.status,T=i.statusText||"OK",N=new js(i.getAllResponseHeaders()),V=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new HE({headers:N,status:y,statusText:T,url:V}),o},u=()=>{let{headers:y,status:T,statusText:N,url:V}=a(),K=null;204!==T&&(K=void 0===i.response?i.responseText:i.response),0===T&&(T=K?200:0);let $=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof K){const ae=K;K=K.replace(EX,"");try{K=""!==K?JSON.parse(K):null}catch(pe){K=ae,$&&($=!1,K={error:pe,text:K})}}$?(r.next(new fm({body:K,headers:y,status:T,statusText:N,url:V||void 0})),r.complete()):r.error(new $L({error:K,headers:y,status:T,statusText:N,url:V||void 0}))},c=y=>{const{url:T}=a(),N=new $L({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:T||void 0});r.error(N)};let d=!1;const h=y=>{d||(r.next(a()),d=!0);let T={type:vn.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(T.total=y.total),"text"===t.responseType&&!!i.responseText&&(T.partialText=i.responseText),r.next(T)},m=y=>{let T={type:vn.UploadProgress,loaded:y.loaded};y.lengthComputable&&(T.total=y.total),r.next(T)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",h),null!==s&&i.upload&&i.upload.addEventListener("progress",m)),i.send(s),r.next({type:vn.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",h),null!==s&&i.upload&&i.upload.removeEventListener("progress",m)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Le(aF))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const WE=new Ke("XSRF_COOKIE_NAME"),zE=new Ke("XSRF_HEADER_NAME");class qL{}let CX=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=XP(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Le(ti),Le(_o),Le(WE))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),qE=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(qL),Le(zE))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),IX=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(WL,[]);this.chain=r.reduceRight((i,s)=>new GL(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(Le(FL),Le(Kt))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),TX=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:qE,useClass:wX}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:WE,useValue:t.cookieName}:[],t.headerName?{provide:zE,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[qE,{provide:WL,useExisting:qE,multi:!0},{provide:qL,useClass:CX},{provide:WE,useValue:"XSRF-TOKEN"},{provide:zE,useValue:"X-XSRF-TOKEN"}]}),n})(),DX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[HL,{provide:PL,useClass:IX},zL,{provide:FL,useExisting:zL}],imports:[[TX.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),SX=(()=>{class n{constructor(t){this.http=t}beep(){const t=new Audio;t.src="assets/beep.wav",t.load(),t.play()}getDocs(){const t="http://localhost:4000/business";return console.log(t),this.http.get(t).pipe(Ne(r=>(console.warn("MONGO LESSONS",r),r)),Bs(r=>EL(r)))}}return n.\u0275fac=function(t){return new(t||n)(Le(HL))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xX=(()=>{class n{constructor(t){this.swUpdate=t,t.available.subscribe(r=>{window.confirm("A new update is available. Would you like to load the latest version?")&&t.activateUpdate().then(()=>document.location.reload())})}checkForUpdates(){this.swUpdate.checkForUpdate()}}return n.\u0275fac=function(t){return new(t||n)(Le(ML))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AX(n,e){if(1&n&&(Nn(0,"div",1),Cd(1,"img",2),Nn(2,"div",3),Pi(3),On(),Nn(4,"div",4),Pi(5),On(),On()),2&n){const t=yg();es(1),is("src",t.article.image,sg)("alt",t.article.name),es(2),Eg(t.article.name),es(2),Eg(t.count)}}let MX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Du({type:n,selectors:[["app-shopping-cart-item"]],inputs:{article:"article",count:"count"},decls:1,vars:1,consts:[["class","shopping-cart-item",4,"ngIf"],[1,"shopping-cart-item"],[1,"article-image",3,"src","alt"],[1,"article-name"],[1,"article-count"]],template:function(t,r){1&t&&pa(0,AX,6,4,"div",0),2&t&&is("ngIf",void 0!==r.article)},directives:[sE],styles:[".shopping-cart-item[_ngcontent-%COMP%]{padding:16px;vertical-align:center;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#aaa;display:flex;flex-direction:row;align-items:center}.article-image[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.article-name[_ngcontent-%COMP%]{margin-left:8px;font-size:1.4em}.article-count[_ngcontent-%COMP%]{margin-left:auto;font-size:1.4em;text-align:right}"]}),n})();function RX(n,e){if(1&n&&(Nn(0,"div",11),Pi(1),On()),2&n){const t=yg();es(1),lc(" ",t.errorMessage,"\n")}}function kX(n,e){if(1&n&&(Nn(0,"li"),Pi(1),On()),2&n){const t=e.$implicit;es(1),lc(" ",t.price,"")}}function NX(n,e){1&n&&(Nn(0,"span"),Pi(1,"Shopping cart is empty"),On())}function OX(n,e){if(1&n&&Cd(0,"app-shopping-cart-item",14),2&n){const t=e.$implicit;is("article",t[0])("count",t[1])}}function PX(n,e){if(1&n&&(pa(0,OX,1,2,"app-shopping-cart-item",12),Nn(1,"div",13),Pi(2),On()),2&n){const t=yg();is("ngForOf",t.items),es(2),lc(" Total: ",t.totalPrice," USD ")}}let FX=(()=>{class n{constructor(t,r,i){this.changeDetectorRef=t,this.beepService=r,this.updateService=i,this.acceptAnyCode=!0,this.items=[],this.totalPrice=0,this.catalogue=[{name:"Classy Crab (red)",ean:"7601234567890",image:"assets/classy_crab_red.png",price:10},{name:"Classy Crab (blue)",ean:"7601234561232",image:"assets/classy_crab_blue.png",price:10},{name:"Classy Crab (gold, ltd. ed.)",ean:"7601234564561",image:"assets/classy_crab_gold.png",price:50}],this.catalogue2=[],this.shoppingCart=new OL}ngAfterViewInit(){navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?(this.initializeScanner(),setTimeout(()=>{this.updateService.checkForUpdates()},1e4),this.logheaza(),this.getDocs()):this.errorMessage="getUserMedia is not supported"}getDocs(){this.beepService.getDocs().subscribe(t=>{this.catalogue2=t,console.log("mongo Lessons=>",this.catalogue2)})}logheaza(){console.log("WORKS")}initializeScanner(){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?hm().CameraAccess.enumerateVideoDevices().then(t=>{const r=function(n){const t=n.filter(r=>function(n){const e=n.toLowerCase();return lX.some(t=>e.includes(t))}(r.label)).sort((r,i)=>r.label.localeCompare(i.label));return t.length>0?t[0]:void 0}(t);return r?(console.log(`Using ${r.label} (${r.deviceId}) as initial camera`),this.initializeScannerWithDevice(r.deviceId)):(console.error("Unable to determine suitable camera, will fall back to default handling"),this.initializeScannerWithDevice(void 0))}).catch(t=>{this.errorMessage=`Failed to enumerate devices: ${t}`,this.started=!1}):(this.errorMessage="getUserMedia is not supported. Please use Chrome on Android or Safari on iOS",this.started=!1,Promise.reject(this.errorMessage))}initializeScannerWithDevice(t){var r;console.log("Initializing Quagga scanner...");const i={};return t?i.deviceId=t:i.facingMode="environment",hm().init({inputStream:{type:"LiveStream",constraints:i,area:{top:"25%",right:"10%",left:"10%",bottom:"25%"},target:null!==(r=document.querySelector("#scanner-container"))&&void 0!==r?r:void 0},decoder:{readers:["ean_reader"],multiple:!1},locate:!1},s=>{s?(console.error(`Quagga initialization failed: ${s}`),this.errorMessage=`Initialization error: ${s}`,this.started=!1):(console.log("Quagga initialization succeeded"),hm().start(),this.started=!0,this.changeDetectorRef.detectChanges(),hm().onDetected(o=>{o.codeResult.code&&this.onBarcodeScanned(o.codeResult.code)}))})}onBarcodeScanned(t){const r=(new Date).getTime();if(t===this.lastScannedCode&&void 0!==this.lastScannedCodeDate&&r<this.lastScannedCodeDate+1500)return;let i=this.catalogue.find(s=>s.ean===t);if(!i){if(!this.acceptAnyCode)return;i=this.createUnknownArticle(t)}this.shoppingCart.addArticle(i),this.items=this.shoppingCart.contents,this.totalPrice=this.shoppingCart.totalPrice,this.lastScannedCode=t,this.lastScannedCodeDate=r,this.beepService.beep(),this.changeDetectorRef.detectChanges()}clearCart(){this.shoppingCart.clear(),this.items=this.shoppingCart.contents}createUnknownArticle(t){return{ean:t,name:`Code ${t}`,image:"assets/classy_crab_unknown.png",price:42}}}return n.\u0275fac=function(t){return new(t||n)(le(Ng),le(SX),le(xX))},n.\u0275cmp=Du({type:n,selectors:[["app-root"]],decls:17,vars:5,consts:[["class","error-message",4,"ngIf"],["id","scanner-container"],[1,"instructions"],[4,"ngFor","ngForOf"],[1,"controls"],["id","acceptAnyCode","type","checkbox","name","acceptAnyCode","required","",3,"ngModel","ngModelChange"],["for","acceptAnyCode"],[3,"click"],[1,"shopping-cart"],[4,"ngIf","ngIfElse"],["shoppingCartItems",""],[1,"error-message"],[3,"article","count",4,"ngFor","ngForOf"],[1,"shopping-cart-total"],[3,"article","count"]],template:function(t,r){if(1&t&&(pa(0,RX,2,1,"div",0),Cd(1,"div",1),Nn(2,"div",2),Nn(3,"ul"),pa(4,kX,2,1,"li",3),On(),On(),Nn(5,"div",4),Nn(6,"form"),Nn(7,"input",5),Er("ngModelChange",function(s){return r.acceptAnyCode=s}),On(),Nn(8,"label",6),Pi(9,"Accept any code"),On(),Pi(10," \xa0 "),Nn(11,"button",7),Er("click",function(){return r.clearCart()}),Pi(12,"Clear cart"),On(),On(),On(),Nn(13,"div",8),pa(14,NX,2,0,"span",9),pa(15,PX,3,2,"ng-template",null,10,QO),On()),2&t){const i=function(n){return function(n,e){return n[e]}(Xe.lFrame.contextLView,20+n)}(16);is("ngIf",r.errorMessage),es(4),is("ngForOf",r.catalogue2),es(3),is("ngModel",r.acceptAnyCode),es(7),is("ngIf",0===r.items.length)("ngIfElse",i)}},directives:[sE,ZP,nL,qF,sm,BE,yE,zF,NE,MX],styles:[".error-message[_ngcontent-%COMP%]{background-color:#000;text-align:center;color:red;padding:8px}#scanner-container[_ngcontent-%COMP%]{height:300px;position:relative}#scanner-container[_ngcontent-%COMP%]  canvas{visibility:hidden;position:absolute;left:0;top:0}#scanner-container[_ngcontent-%COMP%]  video{width:100%;height:300px;object-fit:cover}.controls[_ngcontent-%COMP%]{padding-top:8px;padding-left:16px;padding-right:16px}.shopping-cart[_ngcontent-%COMP%]{padding:16px}.instructions[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-top:16px;font-size:.6em;z-index:100}.shopping-cart-total[_ngcontent-%COMP%]{margin-top:16px;font-size:1.6em;font-weight:700;text-align:right}"]}),n})();class ji extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function KL(n,e,t){n?Wr(t,n,e):e()}const pm=f(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function BX(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(new je(o,d=>{const h=c++;u=a?n(u,d,h):(a=!0,d),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function QL(n,e){return Ae(BX(n,e,arguments.length>=2,!0))}function KE(n){return n<=0?()=>Ii:Ae((e,t)=>{let r=[];e.subscribe(new je(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function YL(n=jX){return Ae((e,t)=>{let r=!1;e.subscribe(new je(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jX(){return new pm}function JL(n){return Ae((e,t)=>{let r=!1;e.subscribe(new je(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ic(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ni((i,s)=>n(i,s,r)):fe,Kn(1),t?JL(e):YL(()=>new pm))}class $s{constructor(e,t){this.id=e,this.url=t}}class QE extends $s{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jd extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class XL extends $s{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class GX extends $s{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WX extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zX extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qX extends $s{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KX extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QX extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class e2{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YX{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JX{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XX{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZX{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dt="primary";class eZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Tc(n){return new eZ(n)}const n2="ngNavigationCancelingError";function YE(n){const e=Error("NavigationCancelingError: "+n);return e[n2]=!0,e}function nZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!r2(n[i],e[i]))return!1;return!0}function r2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function i2(n){return Array.prototype.concat.apply([],n)}function s2(n){return n.length>0?n[n.length-1]:null}function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ls(n){return u0(n)?n:Id(n)?en(Promise.resolve(n)):Ze(n)}const sZ={exact:function u2(n,e,t){if(!wa(n.segments,e.segments)||!gm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!u2(n.children[r],e.children[r],t))return!1;return!0},subset:c2},o2={exact:function(n,e){return cs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>r2(n[t],e[t]))},ignored:()=>!0};function a2(n,e,t){return sZ[t.paths](n.root,e.root,t.matrixParams)&&o2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function c2(n,e,t){return l2(n,e,e.segments,t)}function l2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wa(i,t)||e.hasChildren()||!gm(i,t,r))}if(n.segments.length===t.length){if(!wa(n.segments,t)||!gm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!c2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(wa(n.segments,i)&&gm(n.segments,i,r)&&n.children[dt])&&l2(n.children[dt],e,s,r)}}function gm(n,e,t){return e.every((r,i)=>o2[t](n[i].parameters,r.parameters))}class va{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}toString(){return lZ.serialize(this)}}class _t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mm(this)}}class Xd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Tc(this.parameters)),this._parameterMap}toString(){return g2(this)}}function wa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class d2{}class h2{parse(e){const t=new vZ(e);return new va(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zd(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${_m(t)}=${_m(i)}`).join("&"):`${_m(t)}=${_m(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const lZ=new h2;function mm(n){return n.segments.map(e=>g2(e)).join("/")}function Zd(n,e){if(!n.hasChildren())return mm(n);if(e){const t=n.children[dt]?Zd(n.children[dt],!1):"",r=[];return Yn(n.children,(i,s)=>{s!==dt&&r.push(`${s}:${Zd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Yn(n.children,(r,i)=>{i===dt&&(t=t.concat(e(r,i)))}),Yn(n.children,(r,i)=>{i!==dt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===dt?[Zd(n.children[dt],!1)]:[`${i}:${Zd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${mm(n)}/${t[0]}`:`${mm(n)}/(${t.join("//")})`}}function f2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _m(n){return f2(n).replace(/%3B/gi,";")}function JE(n){return f2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ym(n){return decodeURIComponent(n)}function p2(n){return ym(n.replace(/\+/g,"%20"))}function g2(n){return`${JE(n.path)}${function(n){return Object.keys(n).map(e=>`;${JE(e)}=${JE(n[e])}`).join("")}(n.parameters)}`}const pZ=/^[^\/()?;=#]+/;function vm(n){const e=n.match(pZ);return e?e[0]:""}const gZ=/^[^=?&#]+/,_Z=/^[^&#]+/;class vZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[dt]=new _t(e,t)),r}parseSegment(){const e=vm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xd(ym(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=vm(this.remaining);i&&(r=i,this.capture(r))}e[ym(t)]=ym(r)}parseQueryParam(e){const t=function(n){const e=n.match(gZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(_Z);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=p2(t),s=p2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=dt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[dt]:new _t([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class m2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ZE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ZE(e,this._root).map(t=>t.value)}}function XE(n,e){if(n===e.value)return e;for(const t of e.children){const r=XE(n,t);if(r)return r}return null}function ZE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ZE(n,t);if(r.length)return r.unshift(e),r}return[]}class Hs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _2 extends m2{constructor(e,t){super(e),this.snapshot=t,eb(this,e)}toString(){return this.snapshot.toString()}}function y2(n,e){const t=function(n,e){const o=new wm([],{},{},"",{},dt,e,null,n.root,-1,{});return new w2("",new Hs(o,[]))}(n,e),r=new ji([new Xd("",{})]),i=new ji({}),s=new ji({}),o=new ji({}),a=new ji(""),u=new Sc(r,i,o,a,s,dt,e,t.root);return u.snapshot=t.root,new _2(new Hs(u,[]),t)}class Sc{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>Tc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>Tc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function v2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wm{constructor(e,t,r,i,s,o,a,u,c,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w2 extends m2{constructor(e,t){super(t),this.url=e,eb(this,t)}toString(){return E2(this._root)}}function eb(n,e){e.value._routerState=n,e.children.forEach(t=>eb(n,t))}function E2(n){const e=n.children.length>0?` { ${n.children.map(E2).join(", ")} } `:"";return`${n.value}${e}`}function tb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),cs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),cs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nb(n,e){const t=cs(n.params,e.params)&&function(n,e){return wa(n,e)&&n.every((t,r)=>cs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nb(n.parent,e.parent))}function eh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return eh(n,r,i);return eh(n,r)})}(n,e,t);return new Hs(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>eh(n,a)),o}}const r=function(n){return new Sc(new ji(n.url),new ji(n.params),new ji(n.queryParams),new ji(n.fragment),new ji(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>eh(n,s));return new Hs(r,i)}}function Em(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function th(n){return"object"==typeof n&&null!=n&&n.outlets}function rb(n,e,t,r,i){let s={};return r&&Yn(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new va(t.root===n?e:b2(t.root,n,e),s,i)}function b2(n,e,t){const r={};return Yn(n.children,(i,s)=>{r[s]=i===e?t:b2(i,e,t)}),new _t(n.segments,r)}class C2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Em(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(th);if(i&&i!==s2(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ib{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function I2(n,e,t){if(n||(n=new _t([],{})),0===n.segments.length&&n.hasChildren())return bm(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(th(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!D2(u,c,o))return s;r+=2}else{if(!D2(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new _t(n.segments.slice(0,r.pathIndex),{});return s.children[dt]=new _t(n.segments.slice(r.pathIndex),n.children),bm(s,0,i)}return r.match&&0===i.length?new _t(n.segments,{}):r.match&&!n.hasChildren()?sb(n,e,t):r.match?bm(n,0,i):sb(n,e,t)}function bm(n,e,t){if(0===t.length)return new _t(n.segments,{});{const r=function(n){return th(n[0])?n[0].outlets:{[dt]:n}}(t),i={};return Yn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=I2(n.children[o],e,s))}),Yn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new _t(n.segments,i)}}function sb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(th(s)){const u=RZ(s.outlets);return new _t(r,u)}if(0===i&&Em(t[0])){r.push(new Xd(n.segments[e].path,T2(t[0]))),i++;continue}const o=th(s)?s.outlets[dt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Em(a)?(r.push(new Xd(o,T2(a))),i+=2):(r.push(new Xd(o,{})),i++)}return new _t(r,{})}function RZ(n){const e={};return Yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sb(new _t([],{}),0,t))}),e}function T2(n){const e={};return Yn(n,(t,r)=>e[r]=`${t}`),e}function D2(n,e,t){return n==t.path&&cs(e,t.parameters)}class NZ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Dc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Yn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Dc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Dc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Dc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ZX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new JX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(tb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class ob{constructor(e,t){this.routes=e,this.module=t}}function To(n){return"function"==typeof n}function Ea(n){return n instanceof va}const nh=Symbol("INITIAL_VALUE");function rh(){return Bi(n=>function(...n){const e=li(n),t=Ip(n),{args:r,keys:i}=wF(n);if(0===r.length)return en([],e);const s=new W(function(n,e,t=fe){return r=>{KL(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)KL(e,()=>{const c=en(n[u],e);let d=!1;c.subscribe(new je(r,h=>{s[u]=h,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>EF(i,o):fe));return t?s.pipe(_E(t)):s}(n.map(e=>e.pipe(Kn(1),function(...n){const e=li(n);return Ae((t,r)=>{(e?zd(n,t,e):zd(n,t)).subscribe(r)})}(nh)))).pipe(QL((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==nh?i:(s===nh&&(r=!0),r||!1!==s&&o!==t.length-1&&!Ea(s)?i:s),e)},nh),ni(e=>e!==nh),Ne(e=>Ea(e)?e:!0===e),Kn(1)))}class BZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ih,this.attachRef=null}}class ih{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new BZ,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let S2=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new sn,this.deactivateEvents=new sn,this.attachEvents=new sn,this.detachEvents=new sn,this.name=s||dt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new jZ(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(le(ih),le(Fi),le(fc),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(AM(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Cn(),n)}("name"),le(Ng))},n.\u0275dir=qe({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class jZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sc?this.route:e===ih?this.childContexts:this.parent.get(e,t)}}let x2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Du({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Cd(0,"router-outlet")},directives:[S2],encapsulation:2}),n})();function A2(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];$Z(r,HZ(e,r))}}function $Z(n,e){n.children&&A2(n.children,e)}function HZ(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ab(n){const e=n.children&&n.children.map(ab),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dt&&(t.component=x2),t}function vi(n){return n.outlet||dt}function M2(n,e){const t=n.filter(r=>vi(r)===e);return t.push(...n.filter(r=>vi(r)!==e)),t}const R2={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Cm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},R2):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||nZ)(t,n,e);if(!s)return Object.assign({},R2);const o={};Yn(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Im(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Tm(n,e,r)&&vi(r)!==dt)}(n,t,r)){const o=new _t(e,function(n,e,t,r){const i={};i[dt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&vi(s)!==dt){const o=new _t([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[vi(s)]=o}return i}(n,e,r,new _t(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Tm(n,e,r))}(n,t,r)){const o=new _t(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(Tm(n,t,a)&&!i[vi(a)]){const u=new _t([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[vi(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new _t(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Tm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function k2(n,e,t,r){return!!(vi(n)===r||r!==dt&&Tm(e,t,n))&&("**"===n.path||Cm(e,n,t).matched)}function N2(n,e,t){return 0===e.length&&!n.children[t]}class sh{constructor(e){this.segmentGroup=e||null}}class O2{constructor(e){this.urlTree=e}}function Dm(n){return new W(e=>e.error(new sh(n)))}function P2(n){return new W(e=>e.error(new O2(n)))}function KZ(n){return new W(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class JZ{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Fs)}apply(){const e=Im(this.urlTree.root,[],[],this.config).segmentGroup,t=new _t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,dt).pipe(Ne(s=>this.createUrlTree(ub(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bs(s=>{if(s instanceof O2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof sh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,dt).pipe(Ne(i=>this.createUrlTree(ub(i),e.queryParams,e.fragment))).pipe(Bs(i=>{throw i instanceof sh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new _t([],{[dt]:e}):e;return new va(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ne(s=>new _t([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return en(i).pipe(Cc(s=>{const o=r.children[s],a=M2(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Ne(u=>({segment:u,outlet:s})))}),QL((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ni((i,s)=>n(i,s,r)):fe,KE(1),t?JL(e):YL(()=>new pm))}())}expandSegment(e,t,r,i,s,o){return en(r).pipe(Cc(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Bs(c=>{if(c instanceof sh)return Ze(null);throw c}))),Ic(a=>!!a),Bs((a,u)=>{if(a instanceof pm||"EmptyError"===a.name){if(N2(t,i,s))return Ze(new _t([],{}));throw new sh(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return k2(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Dm(t):Dm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?P2(s):this.lineralizeSegments(r,s).pipe(Zt(o=>{const a=new _t(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:d}=Cm(t,i,s);if(!a)return Dm(t);const h=this.applyRedirectCommands(u,i.redirectTo,d);return i.redirectTo.startsWith("/")?P2(h):this.lineralizeSegments(i,h).pipe(Zt(m=>this.expandSegment(e,t,r,m.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ze(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Ne(m=>(r._loadedConfig=m,new _t(i,{})))):Ze(new _t(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Cm(t,r,i);if(!o)return Dm(t);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Zt(h=>{const m=h.module,y=h.routes,{segmentGroup:T,slicedSegments:N}=Im(t,a,c,y),V=new _t(T.segments,T.children);if(0===N.length&&V.hasChildren())return this.expandChildren(m,y,V).pipe(Ne(pe=>new _t(a,pe)));if(0===y.length&&0===N.length)return Ze(new _t(a,{}));const K=vi(r)===s;return this.expandSegment(m,V,y,N,K?dt:s,!0).pipe(Ne(ae=>new _t(a.concat(ae.segments),ae.children)))}))}getChildConfig(e,t,r){return t.children?Ze(new ob(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ze(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Zt(i=>{return i?this.configLoader.load(e.injector,t).pipe(Ne(s=>(t._loadedConfig=s,s))):(n=t,new W(e=>e.error(YE(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ze(new ob([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Ze(i.map(o=>{const a=e.get(o);let u;if((n=a)&&To(n.canLoad))u=a.canLoad(t,r);else{if(!To(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}var n;return ls(u)})).pipe(rh(),Tr(o=>{if(!Ea(o))return;const a=YE(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ne(o=>!0===o)):Ze(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ze(r);if(i.numberOfChildren>1||!i.children[dt])return KZ(e.redirectTo);i=i.children[dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new va(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Yn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new _t(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function ub(n){const e={};for(const r of Object.keys(n.children)){const s=ub(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[dt]){const e=n.children[dt];return new _t(n.segments.concat(e.segments),e.children)}return n}(new _t(n.segments,e))}class F2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sm{constructor(e,t){this.component=e,this.route=t}}function eee(n,e,t){const r=n._root;return oh(r,e?e._root:null,t,[r.value])}function xm(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function oh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Dc(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nb(n,e)||!cs(n.queryParams,e.queryParams);default:return!nb(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new F2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),oh(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sm(a.outlet.component,o))}else o&&ah(e,a,i),i.canActivateChecks.push(new F2(r)),oh(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Yn(s,(o,a)=>ah(o,t.getContext(a),i)),i}function ah(n,e,t){const r=Dc(n),i=n.value;Yn(r,(s,o)=>{ah(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Sm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class fee{}function L2(n){return new W(e=>e.error(n))}class gee{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Im(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,dt);if(null===t)return null;const r=new wm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Hs(r,t),s=new w2(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=v2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=M2(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=V2(r);return i.sort((e,t)=>e.value.outlet===dt?-1:t.value.outlet===dt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return N2(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!k2(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const y=r.length>0?s2(r).parameters:{};s=new wm(r,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,j2(e),vi(e),e.component,e,U2(t),B2(t)+r.length,$2(e))}else{const y=Cm(t,e,r);if(!y.matched)return null;o=y.consumedSegments,a=r.slice(y.lastChild),s=new wm(o,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,j2(e),vi(e),e.component,e,U2(t),B2(t)+o.length,$2(e))}const u=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:d}=Im(t,o,a,u.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);var n;if(0===d.length&&c.hasChildren()){const y=this.processChildren(u,c);return null===y?null:[new Hs(s,y)]}if(0===u.length&&0===d.length)return[new Hs(s,[])];const h=vi(e)===i,m=this.processSegment(u,c,d,h?dt:i);return null===m?null:[new Hs(s,m)]}}function yee(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function V2(n){const e=[],t=new Set;for(const r of n){if(!yee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=V2(r.children);e.push(new Hs(r.value,i))}return e.filter(r=>!t.has(r))}function U2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function B2(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function j2(n){return n.data||{}}function $2(n){return n.resolve||{}}function cb(n){return Bi(e=>{const t=n(e);return t?en(t).pipe(Ne(()=>e)):Ze(e)})}class Dee extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const lb=new Ke("ROUTES");class H2{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new ob(i2(o.injector.get(lb,void 0,G.Self|G.Optional)).map(ab),o)}),Bs(s=>{throw t._loader$=void 0,s}));return t._loader$=new IL(i,()=>new Ue).pipe(CL()),t._loader$}loadModuleFactory(e){return ls(e()).pipe(Zt(t=>t instanceof kO?Ze(t):en(this.compiler.compileModuleAsync(t))))}}class xee{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Aee(n){throw n}function Mee(n,e,t){return e.parse("/")}function G2(n,e){return Ze(null)}const Ree={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue,this.errorHandler=Aee,this.malformedUriErrorHandler=Mee,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:G2,afterPreactivation:G2},this.urlHandlingStrategy=new xee,this.routeReuseStrategy=new Dee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Fs),this.console=o.get(pP);const h=o.get(Lt);this.isNgZoneEnabled=h instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new va(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new H2(o,a,m=>this.triggerEvent(new ZL(m)),m=>this.triggerEvent(new e2(m))),this.routerState=y2(this.currentUrlTree,this.rootComponentType),this.transitions=new ji({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ni(i=>0!==i.id),Ne(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bi(i=>{let s=!1,o=!1;return Ze(i).pipe(Tr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bi(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Am(a.source)&&(this.browserUrlTree=a.extractedUrl),Ze(a).pipe(Bi(h=>{const m=this.transitions.getValue();return r.next(new QE(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions.getValue()?Ii:Promise.resolve(h)}),function(n,e,t,r){return Bi(i=>function(n,e,t,r,i){return new JZ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Ne(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Tr(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function(n,e,t,r,i){return Zt(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new gee(n,e,t,r,i,s).recognize();return null===o?L2(new fee):Ze(o)}catch(o){return L2(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Ne(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),Tr(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(y,h)}this.browserUrlTree=h.urlAfterRedirects}const m=new WX(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);r.next(m)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:y,source:T,restoredState:N,extras:V}=a,K=new QE(m,this.serializeUrl(y),T,N);r.next(K);const $=y2(y,this.rootComponentType).snapshot;return Ze(Object.assign(Object.assign({},a),{targetSnapshot:$,urlAfterRedirects:y,extras:Object.assign(Object.assign({},V),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ii}),cb(a=>{const{targetSnapshot:u,id:c,extractedUrl:d,rawUrl:h,extras:{skipLocationChange:m,replaceUrl:y}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:d,rawUrlTree:h,skipLocationChange:!!m,replaceUrl:!!y})}),Tr(a=>{const u=new zX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Ne(a=>Object.assign(Object.assign({},a),{guards:eee(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Zt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ze(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return en(n).pipe(Zt(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ze(s.map(a=>{const u=xm(a,e,i);let c;if(function(n){return n&&To(n.canDeactivate)}(u))c=ls(u.canDeactivate(n,e,t,r));else{if(!To(u))throw new Error("Invalid CanDeactivate guard");c=ls(u(n,e,t,r))}return c.pipe(Ic())})).pipe(rh()):Ze(!0)}(i.component,i.route,t,e,r)),Ic(i=>!0!==i,!0))}(o,r,i,n).pipe(Zt(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return en(e).pipe(Cc(i=>zd(function(n,e){return null!==n&&e&&e(new YX(n)),Ze(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new XX(n)),Ze(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>am(()=>Ze(o.guards.map(u=>{const c=xm(u,o.node,t);let d;if(function(n){return n&&To(n.canActivateChild)}(c))d=ls(c.canActivateChild(r,n));else{if(!To(c))throw new Error("Invalid CanActivateChild guard");d=ls(c(r,n))}return d.pipe(Ic())})).pipe(rh())));return Ze(s).pipe(rh())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ze(!0);const i=r.map(s=>am(()=>{const o=xm(s,e,t);let a;if(function(n){return n&&To(n.canActivate)}(o))a=ls(o.canActivate(e,n));else{if(!To(o))throw new Error("Invalid CanActivate guard");a=ls(o(e,n))}return a.pipe(Ic())}));return Ze(i).pipe(rh())}(n,i.route,t))),Ic(i=>!0!==i,!0))}(r,s,n,e):Ze(a)),Ne(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Tr(a=>{if(Ea(a.guardsResult)){const c=YE(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new qX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ni(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),cb(a=>{if(a.guards.canActivateChecks.length)return Ze(a).pipe(Tr(u=>{const c=new KX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Bi(u=>{let c=!1;return Ze(u).pipe(function(n,e){return Zt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ze(t);let s=0;return en(i).pipe(Cc(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Ze({});const s={};return en(i).pipe(Zt(o=>function(n,e,t,r){const i=xm(n,e,r);return ls(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Tr(a=>{s[o]=a}))),KE(1),Zt(()=>Object.keys(s).length===i.length?Ze(s):Ii))}(n._resolve,n,e,r).pipe(Ne(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),v2(n,t).resolve),null)))}(o.route,r,n,e)),Tr(()=>s++),KE(1),Zt(o=>s===i.length?Ze(t):Ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Tr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Tr(u=>{const c=new QX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),cb(a=>{const{targetSnapshot:u,id:c,extractedUrl:d,rawUrl:h,extras:{skipLocationChange:m,replaceUrl:y}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:d,rawUrlTree:h,skipLocationChange:!!m,replaceUrl:!!y})}),Ne(a=>{const u=function(n,e,t){const r=eh(n,e._root,t?t._root:void 0);return new _2(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Tr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Ne(r=>(new NZ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Tr({next(){s=!0},complete(){s=!0}}),function(n){return Ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Bs(a=>{if(o=!0,function(n){return n&&n[n2]}(a)){const u=Ea(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new XL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Am(i.source)};this.scheduleNavigation(d,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new GX(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ii}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){A2(t),this.config=t.map(ab),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,d=u?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),function(n,e,t,r,i){if(0===t.length)return rb(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new C2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Yn(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new C2(t,e,r)}(t);if(s.toRoot())return rb(e.root,new _t([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new ib(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new ib(s,s===e.root,0)}const r=Em(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ib(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?bm(o.segmentGroup,o.index,s.commands):I2(o.segmentGroup,o.index,s.commands);return rb(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,null!=d?d:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ea(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Ree):!1===r?Object.assign({},kee):r,Ea(t))return a2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return a2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Jd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u,c;if(this.disposed)return Promise.resolve(!1);const d=this.transitions.value,h=Am(r)&&d&&!Am(d.source),m=d.rawUrl.toString()===t.toString(),y=d.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(h&&m&&y)return Promise.resolve(!0);let N,V,K;o?(N=o.resolve,V=o.reject,K=o.promise):K=new Promise((pe,xe)=>{N=pe,V=xe});const $=++this.navigationId;let ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),ae=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):ae=0,this.setTransition({id:$,targetPageId:ae,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:N,reject:V,promise:K,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),K.catch(pe=>Promise.reject(pe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new XL(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){o0()},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();function Am(n){return"imperative"!==n}class W2{}class z2{preload(e,t){return Ze(null)}}let q2=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new H2(i,r,u=>t.triggerEvent(new ZL(u)),u=>t.triggerEvent(new e2(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ni(t=>t instanceof Jd),Cc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Fs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return en(i).pipe(Ki(),Ne(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ze(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Zt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Le(ri),Le(kg),Le(Kt),Le(W2))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})(),fb=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof QE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof t2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new t2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o0()},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();const ba=new Ke("ROUTER_CONFIGURATION"),K2=new Ke("ROUTER_FORROOT_GUARD"),Lee=[Y0,{provide:d2,useClass:h2},{provide:ri,useFactory:function(n,e,t,r,i,s,o={},a,u){const c=new ri(null,n,e,t,r,i,i2(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(d=>{var h,m;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(m=console.groupEnd)||void 0===m||m.call(console)}),c},deps:[d2,ih,Y0,Kt,kg,lb,ba,[class{},new St],[class{},new St]]},ih,{provide:Sc,useFactory:function(n){return n.routerState.root},deps:[ri]},q2,z2,class{preload(e,t){return t().pipe(Bs(()=>Ze(null)))}},{provide:ba,useValue:{enableTracing:!1}}];function Vee(){return new wP("Router",ri)}let Q2=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Lee,Y2(t),{provide:K2,useFactory:jee,deps:[[ri,new St,new ju]]},{provide:ba,useValue:r||{}},{provide:Ec,useFactory:Bee,deps:[_a,[new ld(Q0),new St],ba]},{provide:fb,useFactory:Uee,deps:[ri,nY,ba]},{provide:W2,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:z2},{provide:wP,multi:!0,useFactory:Vee},[pb,{provide:Od,multi:!0,useFactory:Wee,deps:[pb]},{provide:J2,useFactory:zee,deps:[pb]},{provide:fP,multi:!0,useExisting:J2}]]}}static forChild(t){return{ngModule:n,providers:[Y2(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Le(K2,8),Le(ri,8))},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({}),n})();function Uee(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new fb(n,e,t)}function Bee(n,e,t={}){return t.useHash?new L9(n,e):new $P(n,e)}function jee(n){return"guarded"}function Y2(n){return[{provide:uq,multi:!0,useValue:n},{provide:lb,multi:!0,useValue:n}]}let pb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ue}appInitializer(){return this.injector.get(O9,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(ri),o=this.injector.get(ba);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ze(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ba),i=this.injector.get(q2),s=this.injector.get(fb),o=this.injector.get(ri),a=this.injector.get(vc);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Le(Kt))},n.\u0275prov=D({token:n,factory:n.\u0275fac}),n})();function Wee(n){return n.appInitializer.bind(n)}function zee(n){return n.bootstrapListener.bind(n)}const J2=new Ke("Router Initializer"),Kee=[{path:"",redirectTo:"AppComponent",pathMatch:"full"},{path:"produse",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Du({type:n,selectors:[["app-afisare-produse"]],decls:2,vars:0,template:function(t,r){1&t&&(Nn(0,"p"),Pi(1,"afisare-produse works!"),On())},styles:[""]}),n})()},{path:"cart",component:OL}];let Qee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({imports:[[Q2.forRoot(Kee,{enableTracing:!0})]]}),n})();function X2(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function B(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){X2(s,r,i,o,a,"next",u)}function a(u){X2(s,r,i,o,a,"throw",u)}o(void 0)})}}const Ce=function(n,e){if(!n)throw Ac(e)},Ac=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Z2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let m=(15&a)<<2|c>>6,y=63&c;u||(y=64,o||(m=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Z2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==h)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},eV=function(n){const e=Z2(n);return Mm.encodeByteArray(e,!0)},Rm=function(n){return eV(n).replace(/\./g,"")},mb=function(n){try{return Mm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jee(n){return tV(void 0,n)}function tV(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Xee(t)||(n[t]=tV(n[t],e[t]));return n}function Xee(n){return"__proto__"!==n}class Mc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Pn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _b(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function yb(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function nV(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ca(){return"object"==typeof indexedDB}function uh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function vb(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class wi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ds.prototype.create)}}class ds{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(rte,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new wi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const rte=/\{\$([^}]+)}/g;function ch(n){return JSON.parse(n)}function Jn(n){return JSON.stringify(n)}const km=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=ch(mb(s[0])||""),t=ch(mb(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function Ws(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Rc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function wb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nm(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Om(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(rV(s)&&rV(o)){if(!Om(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rV(n){return null!==n&&"object"==typeof n}function lh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ote{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const m=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=4294967295&(m<<1|m>>>31)}let c,d,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const m=(i<<5|i>>>27)+c+u+d+r[h]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class ute{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Eb),void 0===i.error&&(i.error=Eb),void 0===i.complete&&(i.complete=Eb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eb(){}const Fm=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function bb(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Do(n){return n&&n._delegate?n._delegate:n}class Fn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ia="[DEFAULT]";class mte{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Mc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ia})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return B(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ia?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mte(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Cb=[];var bt=(()=>{return(n=bt||(bt={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",bt;var n})();const iV={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},wte=bt.INFO,Ete={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},bte=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Ete[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ta{constructor(e){this.name=e,this._logLevel=wte,this._logHandler=bte,this._userLogHandler=null,Cb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?iV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}let sV,oV;const aV=new WeakMap,Ib=new WeakMap,uV=new WeakMap,Tb=new WeakMap,Db=new WeakMap;let Sb={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ib.get(n);if("objectStoreNames"===e)return n.objectStoreNames||uV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Mte(n){return"function"==typeof n?function(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(oV||(oV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(xb(this),e),zs(aV.get(this))}:function(...e){return zs(n.apply(xb(this),e))}:function(e,...t){const r=n.call(xb(this),e,...t);return uV.set(r,e.sort?e.sort():[e]),zs(r)}}(n):(n instanceof IDBTransaction&&function(n){if(Ib.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Ib.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,sV||(sV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,Sb):n)}function zs(n){if(n instanceof IDBRequest)return function(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(zs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&aV.set(t,n)}).catch(()=>{}),Db.set(e,n),e}(n);if(Tb.has(n))return Tb.get(n);const e=Mte(n);return e!==n&&(Tb.set(n,e),Db.set(e,n)),e}const xb=n=>Db.get(n);function Lm(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zs(o.result),u.oldVersion,u.newVersion,zs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Ab(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),zs(t).then(()=>{})}const Rte=["get","getKey","getAll","getAllKeys","count"],kte=["put","add","delete","clear"],Mb=new Map;function cV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Mb.get(e))return Mb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=kte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rte.includes(t))return;const s=function(){var o=B(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Mb.set(e,s),s}var n;Sb=uz(az({},n=Sb),{get:(e,t,r)=>cV(e,t)||n.get(e,t,r),has:(e,t)=>!!cV(e,t)||n.has(e,t)});class Nte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Rb="@firebase/app",Da=new Ta("@firebase/app"),kb="[DEFAULT]",one={[Rb]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sa=new Map,Vm=new Map;function ane(n,e){try{n.container.addComponent(e)}catch(t){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xn(n){const e=n.name;if(Vm.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,n);for(const t of Sa.values())ane(t,n);return!0}function So(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const xo=new ds("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cne{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}const xa="9.9.3";function lne(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:kb,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw xo.create("bad-app-name",{appName:String(r)});const i=Sa.get(r);if(i){if(Om(n,i.options)&&Om(t,i.config))return i;throw xo.create("duplicate-app",{appName:r})}const s=new vte(r);for(const a of Vm.values())s.addComponent(a);const o=new cne(n,t,s);return Sa.set(r,o),o}function dh(n=kb){const e=Sa.get(n);if(!e)throw xo.create("no-app",{appName:n});return e}function dV(){return Array.from(Sa.values())}function Mt(n,e,t){var r;let i=null!==(r=one[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Da.warn(a.join(" "))}Xn(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const hh="firebase-heartbeat-store";let Ob=null;function hV(){return Ob||(Ob=Lm("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(hh)}}).catch(n=>{throw xo.create("idb-open",{originalErrorMessage:n.message})})),Ob}function Pb(){return Pb=B(function*(n){var e;try{return(yield hV()).transaction(hh).objectStore(hh).get(pV(n))}catch(t){if(t instanceof wi)Da.warn(t.message);else{const r=xo.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});Da.warn(r.message)}}}),Pb.apply(this,arguments)}function fV(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=B(function*(n,e){var t;try{const i=(yield hV()).transaction(hh,"readwrite");return yield i.objectStore(hh).put(e,pV(n)),i.done}catch(r){if(r instanceof wi)Da.warn(r.message);else{const i=xo.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});Da.warn(i.message)}}}),Fb.apply(this,arguments)}function pV(n){return`${n.name}!${n.options.appId}`}class mne{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yne(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return B(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return B(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=gV(),{heartbeatsToSend:r,unsentEntries:i}=function(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mV(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Rm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function gV(){return(new Date).toISOString().substring(0,10)}class yne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return B(function*(){return!!Ca()&&uh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return B(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(n){return Pb.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return B(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return fV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return B(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return fV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function mV(n){return Rm(JSON.stringify({version:2,heartbeats:n})).length}Xn(new Fn("platform-logger",e=>new Nte(e),"PRIVATE")),Xn(new Fn("heartbeat",e=>new mne(e),"PRIVATE")),Mt(Rb,"0.7.31",""),Mt(Rb,"0.7.31","esm2017"),Mt("fire-js",""),Mt("firebase","9.9.3","app");const _V="@firebase/installations",Lb="0.5.12",vV=`w:${Lb}`,wV="FIS_v2",qs=new ds("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function EV(n){return n instanceof wi&&n.code.includes("request-failed")}function Vb({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function bV(n){return{token:n.token,requestStatus:2,expiresIn:Sne(n.expiresIn),creationTime:Date.now()}}function Ub(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=B(function*(n,e){const r=(yield e.json()).error;return qs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Bb.apply(this,arguments)}function CV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function IV(n,{refreshToken:e}){const t=CV(n);return t.append("Authorization",function(n){return`${wV} ${n}`}(e)),t}function jb(n){return $b.apply(this,arguments)}function $b(){return $b=B(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),$b.apply(this,arguments)}function Sne(n){return Number(n.replace("s","000"))}function Ane(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=B(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Vb(n),i=CV(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:wV,appId:n.appId,sdkVersion:vV})},u=yield jb(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:bV(c.authToken)}}throw yield Ub("Create Installation",u)}),Hb.apply(this,arguments)}function TV(n){return new Promise(e=>{setTimeout(e,n)})}const Rne=/^[cdef][\w-]{21}$/;function kne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Rne.test(t)?t:""}catch(n){return""}}function kc(n){return`${n.appName}!${n.appId}`}const Nc=new Map;function DV(n,e){const t=kc(n);SV(t,e),function(n,e){const t=(!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=n=>{SV(n.data.key,n.data.fid)}),Aa);t&&t.postMessage({key:n,fid:e}),0===Nc.size&&Aa&&(Aa.close(),Aa=null)}(t,e)}function SV(n,e){const t=Nc.get(n);if(t)for(const r of t)r(e)}let Aa=null;const Ma="firebase-installations-store";let Wb=null;function zb(){return Wb||(Wb=Lm("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ma)}})),Wb}function Um(n,e){return qb.apply(this,arguments)}function qb(){return qb=B(function*(n,e){const t=kc(n),i=(yield zb()).transaction(Ma,"readwrite"),s=i.objectStore(Ma),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&DV(n,e.fid),e}),qb.apply(this,arguments)}function Kb(n){return Qb.apply(this,arguments)}function Qb(){return Qb=B(function*(n){const e=kc(n),r=(yield zb()).transaction(Ma,"readwrite");yield r.objectStore(Ma).delete(e),yield r.done}),Qb.apply(this,arguments)}function fh(n,e){return Yb.apply(this,arguments)}function Yb(){return Yb=B(function*(n,e){const t=kc(n),i=(yield zb()).transaction(Ma,"readwrite"),s=i.objectStore(Ma),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&DV(n,a.fid),a}),Yb.apply(this,arguments)}function Jb(n){return Xb.apply(this,arguments)}function Xb(){return Xb=B(function*(n){let e;const t=yield fh(n.appConfig,r=>{const i=Une(r),s=Bne(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),Xb.apply(this,arguments)}function Une(n){return RV(n||{fid:kne(),registrationStatus:0})}function Bne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(n,e){return Zb.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:$ne(n)}:{installationEntry:e}}function Zb(){return Zb=B(function*(n,e){try{const t=yield Ane(n,e);return Um(n.appConfig,t)}catch(t){throw EV(t)&&409===t.customData.serverCode?yield Kb(n.appConfig):yield Um(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Zb.apply(this,arguments)}function $ne(n){return eC.apply(this,arguments)}function eC(){return eC=B(function*(n){let e=yield MV(n.appConfig);for(;1===e.registrationStatus;)yield TV(100),e=yield MV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Jb(n);return r||t}return e}),eC.apply(this,arguments)}function MV(n){return fh(n,e=>{if(!e)throw qs.create("installation-not-found");return RV(e)})}function RV(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Gne(n,e){return tC.apply(this,arguments)}function tC(){return tC=B(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Wne(n,t),i=IV(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:vV,appId:n.appId}})},u=yield jb(()=>fetch(r,a));if(u.ok)return bV(yield u.json());throw yield Ub("Generate Auth Token",u)}),tC.apply(this,arguments)}function Wne(n,{fid:e}){return`${Vb(n)}/${e}/authTokens:generate`}function nC(n){return rC.apply(this,arguments)}function rC(){return rC=B(function*(n,e=!1){let t;const r=yield fh(n.appConfig,s=>{if(!NV(s))throw qs.create("not-registered");const o=s.authToken;if(!e&&Kne(o))return s;if(1===o.requestStatus)return t=zne(n,e),s;{if(!navigator.onLine)throw qs.create("app-offline");const a=Yne(s);return t=qne(n,a),a}});return t?yield t:r.authToken}),rC.apply(this,arguments)}function zne(n,e){return iC.apply(this,arguments)}function iC(){return iC=B(function*(n,e){let t=yield kV(n.appConfig);for(;1===t.authToken.requestStatus;)yield TV(100),t=yield kV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?nC(n,e):r}),iC.apply(this,arguments)}function kV(n){return fh(n,e=>{if(!NV(e))throw qs.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function qne(n,e){return sC.apply(this,arguments)}function sC(){return sC=B(function*(n,e){try{const t=yield Gne(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Um(n.appConfig,r),t}catch(t){if(!EV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Um(n.appConfig,r)}else yield Kb(n.appConfig);throw t}}),sC.apply(this,arguments)}function NV(n){return void 0!==n&&2===n.registrationStatus}function Kne(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Yne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function oC(){return oC=B(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Jb(e);return r?r.catch(console.error):nC(e).catch(console.error),t.fid}),oC.apply(this,arguments)}function aC(){return aC=B(function*(n,e=!1){const t=n;return yield ere(t),(yield nC(t,e)).token}),aC.apply(this,arguments)}function ere(n){return uC.apply(this,arguments)}function uC(){return uC=B(function*(n){const{registrationPromise:e}=yield Jb(n);e&&(yield e)}),uC.apply(this,arguments)}function dC(n){return qs.create("missing-app-config-values",{valueName:n})}const OV="installations";Xn(new Fn(OV,n=>{const e=n.getProvider("app").getImmediate(),t=function(n){if(!n||!n.options)throw dC("App Configuration");if(!n.name)throw dC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:So(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Xn(new Fn("installations-internal",n=>{const t=So(n.getProvider("app").getImmediate(),OV).getImmediate();return{getId:()=>function(n){return oC.apply(this,arguments)}(t),getToken:i=>function(n){return aC.apply(this,arguments)}(t,i)}},"PRIVATE")),Mt(_V,Lb),Mt(_V,Lb,"esm2017");const hC="@firebase/remote-config",Fr=new ds("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yre{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return B(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function vre(n=navigator){return n.languages&&n.languages[0]||n.language}class wre{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return B(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:vre()},m={method:"POST",headers:d,body:JSON.stringify(h)},y=fetch(c,m),T=new Promise((pe,xe)=>{e.signal.addEventListener(()=>{const ze=new Error("The operation was aborted.");ze.name="AbortError",xe(ze)})});let N;try{yield Promise.race([y,T]),N=yield y}catch(pe){let xe="fetch-client-network";throw"AbortError"===(null===(r=pe)||void 0===r?void 0:r.name)&&(xe="fetch-timeout"),Fr.create(xe,{originalErrorMessage:null===(i=pe)||void 0===i?void 0:i.message})}let V=N.status;const K=N.headers.get("ETag")||void 0;let $,ae;if(200===N.status){let pe;try{pe=yield N.json()}catch(xe){throw Fr.create("fetch-client-parse",{originalErrorMessage:null===(s=xe)||void 0===s?void 0:s.message})}$=pe.entries,ae=pe.state}if("INSTANCE_STATE_UNSPECIFIED"===ae?V=500:"NO_CHANGE"===ae?V=304:("NO_TEMPLATE"===ae||"EMPTY_CONFIG"===ae)&&($={}),304!==V&&200!==V)throw Fr.create("fetch-status",{httpStatus:V});return{status:V,eTag:K,config:$}})()}}class Cre{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return B(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return B(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof wi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+bb(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Dre{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jm(n,e){var t;const r=n.target.error||void 0;return Fr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Ra="app_namespace_store";class Mre{constructor(e,t,r,i=function(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(jm(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ra,{keyPath:"compositeKey"})}}catch(r){e(Fr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return B(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Ra],"readonly").objectStore(Ra),c=t.createCompositeKey(e);try{const d=u.get(c);d.onerror=h=>{s(jm(h,"storage-get"))},d.onsuccess=h=>{const m=h.target.result;i(m?m.value:void 0)}}catch(d){s(Fr.create("storage-get",{originalErrorMessage:null===(o=d)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return B(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([Ra],"readwrite").objectStore(Ra),d=r.createCompositeKey(e);try{const h=c.put({compositeKey:d,value:t});h.onerror=m=>{o(jm(m,"storage-set"))},h.onsuccess=()=>{s()}}catch(h){o(Fr.create("storage-set",{originalErrorMessage:null===(a=h)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return B(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([Ra],"readwrite").objectStore(Ra),c=t.createCompositeKey(e);try{const d=u.delete(c);d.onerror=h=>{s(jm(h,"storage-delete"))},d.onsuccess=()=>{i()}}catch(d){s(Fr.create("storage-delete",{originalErrorMessage:null===(o=d)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Rre{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return B(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Nre(){return _C.apply(this,arguments)}function _C(){return(_C=B(function*(){if(!Ca())return!1;try{return yield uh()}catch(n){return!1}})).apply(this,arguments)}Xn(new Fn("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fr.create("registration-window");if(!Ca())throw Fr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Fr.create("registration-project-id");if(!o)throw Fr.create("registration-api-key");if(!a)throw Fr.create("registration-app-id");const u=new Mre(a,r.name,t=t||"firebase"),c=new Rre(u),d=new Ta(hC);d.logLevel=bt.ERROR;const h=new wre(i,xa,t,s,o,a),m=new Cre(h,u),y=new yre(m,u,c,d),T=new Dre(r,y,c,u,d);return function(n){const e=Do(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(T),T},"PUBLIC").setMultipleInstances(!0)),Mt(hC,"0.3.11"),Mt(hC,"0.3.11","esm2017");const Ore="/firebase-messaging-sw.js",Pre="/firebase-cloud-messaging-push-scope",VV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UV="google.c.a.c_id",Lre="google.c.a.c_l",Vre="google.c.a.ts",Ure="google.c.a.e";var Oc=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(Oc||(Oc={})),Oc))();function Ks(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const yC="fcm_token_details_db",BV="fcm_token_object_Store";function $re(n){return vC.apply(this,arguments)}function vC(){return vC=B(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(yC))return null;let e=null;return(yield Lm(yC,5,{upgrade:(r=B(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(BV))return;const c=a.objectStore(BV),d=yield c.index("fcmSenderId").get(n);if(yield c.clear(),d)if(2===s){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(u=h.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:Ks(h.vapidKey)}}}else if(3===s){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ks(h.auth),p256dh:Ks(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ks(h.vapidKey)}}}else if(4===s){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ks(h.auth),p256dh:Ks(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ks(h.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Ab(yC),yield Ab("fcm_vapid_details_db"),yield Ab("undefined"),Hre(e)?e:null;var r}),vC.apply(this,arguments)}function Hre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ka="firebase-messaging-store";let wC=null;function EC(){return wC||(wC=Lm("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ka)}})),wC}function jV(n){return bC.apply(this,arguments)}function bC(){return bC=B(function*(n){const e=DC(n),r=yield(yield EC()).transaction(ka).objectStore(ka).get(e);if(r)return r;{const i=yield $re(n.appConfig.senderId);if(i)return yield CC(n,i),i}}),bC.apply(this,arguments)}function CC(n,e){return IC.apply(this,arguments)}function IC(){return IC=B(function*(n,e){const t=DC(n),i=(yield EC()).transaction(ka,"readwrite");return yield i.objectStore(ka).put(e,t),yield i.done,e}),IC.apply(this,arguments)}function zre(n){return TC.apply(this,arguments)}function TC(){return TC=B(function*(n){const e=DC(n),r=(yield EC()).transaction(ka,"readwrite");yield r.objectStore(ka).delete(e),yield r.done}),TC.apply(this,arguments)}function DC({appConfig:n}){return n.appId}const Zn=new ds("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kre(n,e){return SC.apply(this,arguments)}function SC(){return SC=B(function*(n,e){var t;const r=yield RC(n),i=HV(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(MC(n.appConfig),s)).json()}catch(a){throw Zn.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Zn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Zn.create("token-subscribe-no-token");return o.token}),SC.apply(this,arguments)}function Qre(n,e){return xC.apply(this,arguments)}function xC(){return xC=B(function*(n,e){var t;const r=yield RC(n),i=HV(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${MC(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw Zn.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Zn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Zn.create("token-update-no-token");return o.token}),xC.apply(this,arguments)}function $V(n,e){return AC.apply(this,arguments)}function AC(){return AC=B(function*(n,e){var t;const i={method:"DELETE",headers:yield RC(n)};try{const o=yield(yield fetch(`${MC(n.appConfig)}/${e}`,i)).json();if(o.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Zn.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}}),AC.apply(this,arguments)}function MC({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function RC(n){return kC.apply(this,arguments)}function kC(){return kC=B(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),kC.apply(this,arguments)}function HV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==VV&&(i.web.applicationPubKey=r),i}function Jre(n){return NC.apply(this,arguments)}function NC(){return NC=B(function*(n){const e=yield Zre(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ks(e.getKey("auth")),p256dh:Ks(e.getKey("p256dh"))},r=yield jV(n.firebaseDependencies);if(r){if(eie(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Xre(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield $V(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return WV(n.firebaseDependencies,t)}return WV(n.firebaseDependencies,t)}),NC.apply(this,arguments)}function GV(n){return OC.apply(this,arguments)}function OC(){return OC=B(function*(n){const e=yield jV(n.firebaseDependencies);e&&(yield $V(n.firebaseDependencies,e.token),yield zre(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),OC.apply(this,arguments)}function Xre(n,e){return PC.apply(this,arguments)}function PC(){return PC=B(function*(n,e){try{const t=yield Qre(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield CC(n.firebaseDependencies,r),t}catch(t){throw yield GV(n),t}}),PC.apply(this,arguments)}function WV(n,e){return FC.apply(this,arguments)}function FC(){return FC=B(function*(n,e){const r={token:yield Kre(n,e),createTime:Date.now(),subscriptionOptions:e};return yield CC(n,r),r.token}),FC.apply(this,arguments)}function Zre(n,e){return LC.apply(this,arguments)}function LC(){return LC=B(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bre(e)})}),LC.apply(this,arguments)}function eie(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function zV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function iie(n){return"object"==typeof n&&!!n&&UV in n}function qV(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function VC(n){return Zn.create("missing-app-config-values",{valueName:n})}qV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oie{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw VC("App Configuration Object");if(!n.name)throw VC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw VC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function KV(n){return UC.apply(this,arguments)}function UC(){return UC=B(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Ore,{scope:Pre}),n.swRegistration.update().catch(()=>{})}catch(t){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}}),UC.apply(this,arguments)}function aie(n,e){return BC.apply(this,arguments)}function BC(){return BC=B(function*(n,e){if(!e&&!n.swRegistration&&(yield KV(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");n.swRegistration=e}}),BC.apply(this,arguments)}function uie(n,e){return jC.apply(this,arguments)}function jC(){return jC=B(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=VV)}),jC.apply(this,arguments)}function $C(){return $C=B(function*(n,e){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield uie(n,null==e?void 0:e.vapidKey),yield aie(n,null==e?void 0:e.serviceWorkerRegistration),Jre(n)}),$C.apply(this,arguments)}function cie(n,e,t){return HC.apply(this,arguments)}function HC(){return HC=B(function*(n,e,t){const r=lie(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[UV],message_name:t[Lre],message_time:t[Vre],message_device_time:Math.floor(Date.now()/1e3)})}),HC.apply(this,arguments)}function lie(n){switch(n){case Oc.NOTIFICATION_CLICKED:return"notification_open";case Oc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function GC(){return GC=B(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Oc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(zV(t)):n.onMessageHandler.next(zV(t)));const r=t.data;iie(r)&&"1"===r[Ure]&&(yield cie(n,t.messageType,r))}),GC.apply(this,arguments)}const YV="@firebase/messaging";function XV(){return WC.apply(this,arguments)}function WC(){return(WC=B(function*(){try{yield uh()}catch(n){return!1}return"undefined"!=typeof window&&Ca()&&vb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Xn(new Fn("messaging",n=>{const e=new oie(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return GC.apply(this,arguments)}(e,t)),e},"PUBLIC")),Xn(new Fn("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return $C.apply(this,arguments)}(e,r)}},"PRIVATE")),Mt(YV,"0.9.16"),Mt(YV,"0.9.16","esm2017");const $m="analytics",_ie="firebase_id",wie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ZV="https://www.googletagmanager.com/gtag/js",er=new Ta("@firebase/analytics");function eU(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Eie(n,e){const t=document.createElement("script");t.src=`${ZV}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Cie(n,e,t,r,i,s){return KC.apply(this,arguments)}function KC(){return KC=B(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield eU(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){er.error(a)}n("config",i,s)}),KC.apply(this,arguments)}function Iie(n,e,t,r,i){return QC.apply(this,arguments)}function QC(){return QC=B(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield eU(t);for(const u of o){const c=a.find(h=>h.measurementId===u),d=c&&e[c.appId];if(!d){s=[];break}s.push(d)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){er.error(s)}}),QC.apply(this,arguments)}function Sie(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(ZV))return e;return null}const ii=new ds("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tU=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Nie(n){return YC.apply(this,arguments)}function YC(){return YC=B(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:kie(r)},s=wie.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw ii.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),YC.apply(this,arguments)}function Oie(n){return JC.apply(this,arguments)}function JC(){return JC=B(function*(n,e=tU,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw ii.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ii.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lie;return setTimeout(B(function*(){a.abort()}),void 0!==t?t:6e4),nU({appId:r,apiKey:i,measurementId:s},o,a,e)}),JC.apply(this,arguments)}function nU(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=B(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=tU){var s,o;const{appId:a,measurementId:u}=n;try{yield Pie(r,e)}catch(c){if(u)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield Nie(n);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!Fie(d)){if(i.deleteThrottleMetadata(a),u)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null==d?void 0:d.message}]`),{appId:a,measurementId:u};throw c}const h=503===Number(null===(o=null==d?void 0:d.customData)||void 0===o?void 0:o.httpStatus)?bb(t,i.intervalMillis,30):bb(t,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(a,m),er.debug(`Calling attemptFetch again in ${h} millis`),nU(n,m,r,i)}}),XC.apply(this,arguments)}function Pie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Fie(n){if(!(n instanceof wi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Lie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ZC,sI;function eI(){return eI=B(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),eI.apply(this,arguments)}function rU(n){sI=n}function iU(n){ZC=n}function Hie(){return oI.apply(this,arguments)}function oI(){return oI=B(function*(){var n;if(!Ca())return er.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield uh()}catch(e){return er.warn(ii.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0}),oI.apply(this,arguments)}function aI(){return aI=B(function*(n,e,t,r,i,s,o){var a;const u=Oie(n);u.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>er.error(y)),e.push(u);const c=Hie().then(y=>{if(y)return r.getId()}),[d,h]=yield Promise.all([u,c]);Sie()||Eie(s,d.measurementId),sI&&(i("consent","default",sI),rU(void 0)),i("js",new Date);const m=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return m.origin="firebase",m.update=!0,null!=h&&(m[_ie]=h),i("config",d.measurementId,m),ZC&&(i("set",ZC),iU(void 0)),d.measurementId}),aI.apply(this,arguments)}class Wie{constructor(e){this.app=e}_delete(){return delete Qs[this.app.options.appId],Promise.resolve()}}let Qs={},sU=[];const oU={};let uU,Ys,Hm="dataLayer",uI=!1;function qie(n,e,t){!function(){const n=[];if(yb()&&n.push("This is a browser extension environment."),vb()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ii.create("invalid-analytics-context",{errorInfo:e});er.warn(t.message)}}();const r=n.options.appId;if(!r)throw ii.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ii.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qs[r])throw ii.create("already-exists",{id:r});if(!uI){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Hm);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=B(function*(o,a,u){try{"event"===o?yield Iie(n,e,t,a,u):"config"===o?yield Cie(n,e,t,r,a,u):"consent"===o?n("consent","update",u):n("set",a)}catch(c){er.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Qs,sU,oU,Hm,"gtag");Ys=s,uU=o,uI=!0}return Qs[r]=function(n,e,t,r,i,s,o){return aI.apply(this,arguments)}(n,sU,oU,e,uU,Hm,t),new Wie(n)}function Qie(){return cI.apply(this,arguments)}function cI(){return(cI=B(function*(){if(yb()||!vb()||!Ca())return!1;try{return yield uh()}catch(n){return!1}})).apply(this,arguments)}const cU="@firebase/analytics";Xn(new Fn($m,(e,{options:t})=>qie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Xn(new Fn("analytics-internal",function(e){try{const t=e.getProvider($m).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=Do(n),function(n,e,t,r,i){return eI.apply(this,arguments)}(Ys,Qs[n.app.options.appId],e,t,r).catch(i=>er.error(i))}(t,r,i,s)}}catch(t){throw ii.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Mt(cU,"0.8.0"),Mt(cU,"0.8.0","esm2017");const ese=new class extends xL{}(class extends DL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),Pc=new gc("7.4.1"),lI="__angularfire_symbol__analyticsIsSupportedValue",dI="__angularfire_symbol__analyticsIsSupported",hI="__angularfire_symbol__remoteConfigIsSupportedValue",fI="__angularfire_symbol__remoteConfigIsSupported",pI="__angularfire_symbol__messagingIsSupportedValue",gI="__angularfire_symbol__messagingIsSupported";function ph(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[dI]||(globalThis[dI]=Qie().then(n=>globalThis[lI]=n).catch(()=>globalThis[lI]=!1)),globalThis[gI]||(globalThis[gI]=XV().then(n=>globalThis[pI]=n).catch(()=>globalThis[pI]=!1)),globalThis[fI]||(globalThis[fI]=Nre().then(n=>globalThis[hI]=n).catch(()=>globalThis[hI]=!1));const gh=(n,e)=>{const t=e?[e]:dV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Fc(){}class dU{constructor(e,t=ese){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class tse{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fc,{},Fc,Fc)),t.pipe(Tr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dU(Zone.current)),this.insideAngular=t.run(()=>new dU(Zone.current,jE)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(Le(Lt))},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Na(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function nse(n){return Na().ngZone.runOutsideAngular(()=>n())}function Oa(n){return Na().ngZone.run(()=>n())}function rse(n){return Na(),function(n){return function(t){return(t=t.lift(new tse(n.ngZone))).pipe(bu(n.outsideAngular),sa(n.insideAngular))}}(Na())(n)}const sse=(n,e)=>{const t=void 0;return function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Oa(()=>n.apply(t,r))}},_h=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Oa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fc,{},Fc,Fc)))),r[s]=sse(r[s],t));const i=nse(()=>n.apply(this,r));if(!e){if(i instanceof W){const s=Na();return i.pipe(bu(s.outsideAngular),sa(s.insideAngular))}return Oa(()=>i)}return i instanceof W?i.pipe(rse):i instanceof Promise?Oa(()=>new Promise((s,o)=>i.then(a=>Oa(()=>s(a)),a=>Oa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Oa(()=>i)};class Ao{constructor(e){return e}}class yh{constructor(){return dV()}}const _I=new Ke("angularfire2._apps"),ase={provide:Ao,useFactory:function(n){return n&&1===n.length?n[0]:new Ao(dh())},deps:[[new St,_I]]},use={provide:yh,deps:[[new St,_I]]};function cse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ao(r)}}let lse=(()=>{class n{constructor(t){Mt("angularfire",Pc.full,"core"),Mt("angularfire",Pc.full,"app"),Mt("angular",AO.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(Le(_o))},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[ase,use]}),n})();function dse(n,...e){return{ngModule:lse,providers:[{provide:_I,useFactory:cse(n),multi:!0,deps:[Lt,Kt,mh,...e]}]}}const hse=_h(lne,!0),hU=new Map,fse={activated:!1,tokenObservers:[]},pse={initialized:!1,enabled:!1};function Ln(n){return hU.get(n)||fse}function $i(n,e){hU.set(n,e)}function Gm(){return pse}class vse{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return B(function*(){t.stop();try{t.pending=new Mc,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mc,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Dr=new ds("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pU(n){if(!Ln(n).activated)throw Dr.create("use-before-activation",{appName:n.name})}function wI(n,e){return EI.apply(this,arguments)}function EI(){return EI=B(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(n,a)}catch(y){throw Dr.create("fetch-network-error",{originalErrorMessage:null===(r=y)||void 0===r?void 0:r.message})}if(200!==u.status)throw Dr.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(y){throw Dr.create("fetch-parse-error",{originalErrorMessage:null===(i=y)||void 0===i?void 0:i.message})}const d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const h=1e3*Number(d[1]),m=Date.now();return{token:c.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}}),EI.apply(this,arguments)}function Ise(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const vh="firebase-app-check-store";let qm=null;function mU(){return qm||(qm=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(Dr.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(vh,{keyPath:"compositeKey"})}}catch(r){e(Dr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),qm)}function bI(){return bI=B(function*(n,e){const r=(yield mU()).transaction(vh,"readwrite"),s=r.objectStore(vh).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Dr.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),bI.apply(this,arguments)}const wh=new Ta("@firebase/app-check");function wU(n,e){return Ca()?function(n,e){return function(n,e){return bI.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EU(){return Gm().enabled}function bU(){return DI.apply(this,arguments)}function DI(){return DI=B(function*(){const n=Gm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),DI.apply(this,arguments)}const Ose={error:"UNKNOWN_ERROR"};function Pse(n){return Mm.encodeString(JSON.stringify(n),!1)}function Km(n){return SI.apply(this,arguments)}function SI(){return SI=B(function*(n,e=!1){const t=n.app;pU(t);const r=Ln(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Qm(u)&&(i=u)}if(!e&&i&&Qm(i))return{token:i.token};let a,o=!1;if(EU()){r.exchangeTokenPromise||(r.exchangeTokenPromise=wI(Ise(t,yield bU()),n.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield wU(t,u),$i(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?wh.warn(u.message):wh.error(u),s=u}return i?(a={token:i.token},$i(t,Object.assign(Object.assign({},r),{token:i})),yield wU(t,i)):a=Lse(s),o&&IU(t,a),a}),SI.apply(this,arguments)}function AI(n,e){const t=Ln(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$i(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function CU(n){const{app:e}=n,t=Ln(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new vse(B(function*(){let r;if(r=Ln(e).token?yield Km(n,!0):yield Km(n),r.error)throw r.error}),()=>!0,()=>{const t=Ln(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),$i(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function IU(n,e){const t=Ln(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Qm(n){return n.expireTimeMillis-Date.now()>0}function Lse(n){return{token:Pse(Ose),error:n}}class Vse{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ln(this.app);for(const t of e)AI(this.app,t.next);return Promise.resolve()}}const kU="app-check-internal";Xn(new Fn("app-check",n=>function(n,e){return new Vse(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kU).initialize()})),Xn(new Fn(kU,n=>function(n){return{getToken:e=>Km(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=Ln(i),o={next:t,error:r,type:e};if($i(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Qm(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),CU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>CU(n))}(n,"INTERNAL",e),removeTokenListener:e=>AI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Mt("@firebase/app-check","0.5.12");class Eh{constructor(){return gh("app-check")}}function PU(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}"undefined"!=typeof window&&window;const soe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},UU=new ds("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),BU=new Ta("@firebase/auth");function Xm(n,...e){BU.logLevel<=bt.ERROR&&BU.error(`Auth (9.9.3): ${n}`,...e)}function Lr(n,...e){throw PI(n,...e)}function hs(n,...e){return PI(n,...e)}function jU(n,e,t){const r=Object.assign(Object.assign({},soe()),{[e]:t});return new ds("auth","Firebase",r).create(e,{appName:n.name})}function PI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UU.create(n,...e)}function ve(n,e,...t){if(!n)throw PI(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xm(e),new Error(e)}function Mo(n,e){n||fs(e)}const $U=new Map;function Js(n){Mo(n instanceof Function,"Expected a class definition");let e=$U.get(n);return e?(Mo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$U.set(n,e),e)}function bh(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function HU(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mo(t>e,"Short delay should be less than long delay!"),this.isMobile=_b()||nV()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===HU()||"https:"===HU()||yb()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function LI(n,e){Mo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class GU{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const loe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},doe=new Ch(3e4,6e4);function Sn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Vn(n,e,t,r){return VI.apply(this,arguments)}function VI(){return VI=B(function*(n,e,t,r,i={}){return WU(n,i,B(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=lh(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),GU.fetch()(zU(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),VI.apply(this,arguments)}function WU(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=B(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},loe),e);try{const i=new hoe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ih(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Ih(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Ih(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw Ih(n,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jU(n,d,c);Lr(n,d)}}catch(i){if(i instanceof wi)throw i;Lr(n,"network-request-failed")}}),UI.apply(this,arguments)}function Xs(n,e,t,r){return BI.apply(this,arguments)}function BI(){return BI=B(function*(n,e,t,r,i={}){const s=yield Vn(n,e,t,r,i);return"mfaPendingCredential"in s&&Lr(n,"multi-factor-auth-required",{_serverResponse:s}),s}),BI.apply(this,arguments)}function zU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?LI(n.config,i):`${n.config.apiScheme}://${i}`}class hoe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hs(this.auth,"network-request-failed")),doe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ih(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=hs(n,e,r);return i.customData._tokenResponse=t,i}function jI(){return jI=B(function*(n,e){return Vn(n,"POST","/v1/accounts:delete",e)}),jI.apply(this,arguments)}function goe(n,e){return HI.apply(this,arguments)}function HI(){return HI=B(function*(n,e){return Vn(n,"POST","/v1/accounts:lookup",e)}),HI.apply(this,arguments)}function Th(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function GI(){return GI=B(function*(n,e=!1){const t=Do(n),r=yield t.getIdToken(e),i=Zm(r);ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Th(WI(i.auth_time)),issuedAtTime:Th(WI(i.iat)),expirationTime:Th(WI(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),GI.apply(this,arguments)}function WI(n){return 1e3*Number(n)}function Zm(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Xm("JWT malformed, contained fewer than 3 sections"),null;try{const s=mb(r);return s?JSON.parse(s):(Xm("Failed to decode base64 JWT payload"),null)}catch(s){return Xm("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Zs(n,e){return zI.apply(this,arguments)}function zI(){return zI=B(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof wi&&yoe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),zI.apply(this,arguments)}function yoe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class voe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(B(function*(){yield t.iteration()}),r)}iteration(){var e=this;return B(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class qU{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dh(n){return qI.apply(this,arguments)}function qI(){return qI=B(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Zs(n,goe(t,{idToken:r}));ve(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?boe(s.providerUserInfo):[],a=Eoe(n.providerData,o),d=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qU(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)}),qI.apply(this,arguments)}function KI(){return KI=B(function*(n){const e=Do(n);yield Dh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),KI.apply(this,arguments)}function Eoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function boe(n){return n.map(e=>{var{providerId:t}=e,r=PU(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function QI(){return QI=B(function*(n,e){const t=yield WU(n,{},B(function*(){const r=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=zU(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),QI.apply(this,arguments)}class Sh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(void 0!==e.idToken,"internal-error"),ve(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=Zm(n);return ve(e,"internal-error"),ve(void 0!==e.exp,"internal-error"),ve(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return B(function*(){return ve(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return B(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return QI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Sh;return r&&(ve("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ve("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(ve("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sh,this.toJSON())}_performRefresh(){return fs("not implemented")}}function Ro(n,e){ve("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Pa{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=PU(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new voe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return B(function*(){const r=yield Zs(t,t.stsTokenManager.getToken(t.auth,e));return ve(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return GI.apply(this,arguments)}(this,e)}reload(){return function(n){return KI.apply(this,arguments)}(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return B(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Dh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return B(function*(){const t=yield e.getIdToken();return yield Zs(e,function(n,e){return jI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,m=null!==(i=t.email)&&void 0!==i?i:void 0,y=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,T=null!==(o=t.photoURL)&&void 0!==o?o:void 0,N=null!==(a=t.tenantId)&&void 0!==a?a:void 0,V=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,K=null!==(c=t.createdAt)&&void 0!==c?c:void 0,$=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:ae,emailVerified:pe,isAnonymous:xe,providerData:ze,stsTokenManager:kt}=t;ve(ae&&kt,e,"internal-error");const qi=Sh.fromJSON(this.name,kt);ve("string"==typeof ae,e,"internal-error"),Ro(h,e.name),Ro(m,e.name),ve("boolean"==typeof pe,e,"internal-error"),ve("boolean"==typeof xe,e,"internal-error"),Ro(y,e.name),Ro(T,e.name),Ro(N,e.name),Ro(V,e.name),Ro(K,e.name),Ro($,e.name);const wu=new Pa({uid:ae,auth:e,email:m,emailVerified:pe,displayName:h,isAnonymous:xe,photoURL:T,phoneNumber:y,tenantId:N,stsTokenManager:qi,createdAt:K,lastLoginAt:$});return ze&&Array.isArray(ze)&&(wu.providerData=ze.map(ap=>Object.assign({},ap))),V&&(wu._redirectEventId=V),wu}static _fromIdTokenResponse(e,t,r=!1){return B(function*(){const i=new Sh;i.updateFromServerResponse(t);const s=new Pa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dh(s),s})()}}const KU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return B(function*(){return!0})()}_set(t,r){var i=this;return B(function*(){i.storage[t]=r})()}_get(t){var r=this;return B(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return B(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function e_(n,e,t){return`firebase:${n}:${e}:${t}`}class Vc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=e_(this.userKey,i.apiKey,s),this.fullPersistenceKey=e_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return B(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Pa._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return B(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return B(function*(){if(!t.length)return new Vc(Js(KU),e,r);const i=(yield Promise.all(t.map(function(){var c=B(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Js(KU);const o=e_(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=yield c._get(o);if(d){const h=Pa._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch(d){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=B(function*(d){if(d!==s)try{yield d._remove(o)}catch(h){}});return function(d){return c.apply(this,arguments)}}())),new Vc(s,e,r)):new Vc(s,e,r)})()}}function QU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eB(e))return"Blackberry";if(tB(e))return"Webos";if(YI(e))return"Safari";if((e.includes("chrome/")||JU(e))&&!e.includes("edge/"))return"Chrome";if(ZU(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function YU(n=Pn()){return/firefox\//i.test(n)}function YI(n=Pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JU(n=Pn()){return/crios\//i.test(n)}function XU(n=Pn()){return/iemobile/i.test(n)}function ZU(n=Pn()){return/android/i.test(n)}function eB(n=Pn()){return/blackberry/i.test(n)}function tB(n=Pn()){return/webos/i.test(n)}function t_(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nB(n=Pn()){return t_(n)||ZU(n)||tB(n)||eB(n)||/windows phone/i.test(n)||XU(n)}function rB(n,e=[]){let t;switch(n){case"Browser":t=QU(Pn());break;case"Worker":t=`${QU(Pn())}-${n}`;break;default:t=n}return`${t}/JsCore/9.9.3/${e.length?e.join(","):"FirebaseCore-web"}`}class Soe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return B(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class xoe{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iB(this),this.idTokenSubscription=new iB(this),this.beforeStateQueue=new Soe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UU,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Js(t)),this._initializationPromise=this.queue(B(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Vc.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return B(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return B(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return ve(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return B(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return B(function*(){var r;try{yield Dh(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return B(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return B(function*(){const r=e?Do(e):null;return r&&ve(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return B(function*(){if(!r._deleted)return e&&ve(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(B(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return B(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(B(function*(){yield t.assertedPersistence.setPersistence(Js(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ds("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return B(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return B(function*(){if(!t.redirectPersistenceManager){const r=e&&Js(e)||t._popupRedirectResolver;ve(r,t,"argument-error"),t.redirectPersistenceManager=yield Vc.create(t,[Js(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return B(function*(){var r,i;return t._isInitialized&&(yield t.queue(B(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return B(function*(){if(e===t.currentUser)return t.queue(B(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return B(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return B(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Vr(n){return Do(n)}class iB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new ute(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eo(n,e){return cT.apply(this,arguments)}function cT(){return cT=B(function*(n,e){return Xs(n,"POST","/v1/accounts:signInWithIdp",Sn(n,e))}),cT.apply(this,arguments)}class ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Koe extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return B(function*(){const s=yield Pa._fromIdTokenResponse(e,r,i),o=dB(r);return new Ei({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return B(function*(){yield e._updateTokensIfNecessary(r,!0);const i=dB(r);return new Ei({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function dB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class s_ extends wi{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new s_(e,t,r,i)}}function hB(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?s_._fromErrorAndOperation(n,s,e,r):s})}function yT(n,e){return vT.apply(this,arguments)}function vT(){return vT=B(function*(n,e,t=!1){const r=yield Zs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ei._forOperation(n,"link",r)}),vT.apply(this,arguments)}function ET(){return ET=B(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield Zs(n,hB(i,s,e,n),t);ve(o.idToken,i,"internal-error");const a=Zm(o.idToken);ve(a,i,"internal-error");const{sub:u}=a;return ve(n.uid===u,i,"user-mismatch"),Ei._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Lr(i,"user-mismatch"),o}}),ET.apply(this,arguments)}function bT(){return bT=B(function*(n,e,t=!1){const r="signIn",i=yield hB(n,r,e),s=yield Ei._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),bT.apply(this,arguments)}new WeakMap;const u_="__sak";class _B{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(u_,"1"),this.storage.removeItem(u_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pae=(()=>{class n extends _B{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=Pn();return YI(n)||t_(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=nB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function(){const n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||10!==document.documentMode||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return B(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return B(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return B(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),yB=(()=>{class n extends _B{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return B(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var h=B(function*(m){return m(i.origin,a)});return function(m){return h.apply(this,arguments)}}()),d=yield function(n){return Promise.all(n.map(function(){var e=B(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function JT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class _ae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return B(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const d=JT("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xn(){return window}function XT(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function ZT(){return(ZT=B(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const vB="firebaseLocalStorageDb",c_="firebaseLocalStorage",wB="fbase_key";class Rh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function l_(n,e){return n.transaction([c_],e?"readwrite":"readonly").objectStore(c_)}function eD(){const n=indexedDB.open(vB,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(c_,{keyPath:wB})}catch(i){t(i)}}),n.addEventListener("success",B(function*(){const r=n.result;r.objectStoreNames.contains(c_)?e(r):(r.close(),yield function(){const n=indexedDB.deleteDatabase(vB);return new Rh(n).toPromise()}(),e(yield eD()))}))})}function EB(n,e,t){return tD.apply(this,arguments)}function tD(){return tD=B(function*(n,e,t){const r=l_(n,!0).put({[wB]:e,value:t});return new Rh(r).toPromise()}),tD.apply(this,arguments)}function nD(){return nD=B(function*(n,e){const t=l_(n,!1).get(e),r=yield new Rh(t).toPromise();return void 0===r?null:r.value}),nD.apply(this,arguments)}function bB(n,e){const t=l_(n,!0).delete(e);return new Rh(t).toPromise()}const Sae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return B(function*(){return t.db||(t.db=yield eD()),t.db})()}_withRetries(t){var r=this;return B(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return B(function*(){return XT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return B(function*(){t.receiver=mae._getInstance(XT()?self:null),t.receiver._subscribe("keyChanged",function(){var r=B(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=B(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return B(function*(){var r,i;if(t.activeServiceWorker=yield function(){return ZT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new _ae(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return B(function*(){if(r.sender&&r.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return B(function*(){try{if(!indexedDB)return!1;const t=yield eD();return yield EB(t,u_,"1"),yield bB(t,u_),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return B(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return B(function*(){return i._withPendingWrite(B(function*(){return yield i._withRetries(s=>EB(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return B(function*(){const i=yield r._withRetries(s=>function(n,e){return nD.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return B(function*(){return r._withPendingWrite(B(function*(){return yield r._withRetries(i=>bB(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return B(function*(){const r=yield t._withRetries(o=>{const a=l_(o,!1).getAll();return new Rh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(B(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function IB(n){return`__${n}${Math.floor(1e6*Math.random())}`}function La(n,e){return e?Js(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}IB("rcb"),new Ch(3e4,6e4);class hD extends class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gae(n){return function(n,e){return bT.apply(this,arguments)}(n.auth,new hD(n),n.bypassAuthState)}function Wae(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),function(n,e){return ET.apply(this,arguments)}(t,new hD(n),n.bypassAuthState)}function zae(n){return fD.apply(this,arguments)}function fD(){return fD=B(function*(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),yT(t,new hD(n),n.bypassAuthState)}),fD.apply(this,arguments)}new Ch(2e3,1e4);const kh=new Map;class Qae extends class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=B(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return B(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gae;case"linkViaPopup":case"linkViaRedirect":return zae;case"reauthViaPopup":case"reauthViaRedirect":return Wae;default:Lr(this.auth,"internal-error")}}resolve(e){Mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return B(function*(){let r=kh.get(t.auth._key());if(!r){try{const s=(yield function(n,e){return yD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}kh.set(t.auth._key(),r)}return t.bypassAuthState||kh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return B(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return B(function*(){})()}cleanUp(){}}function yD(){return yD=B(function*(n,e){const t=SB(e),r=DB(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),yD.apply(this,arguments)}function Jae(n,e){kh.set(n._key(),e)}function DB(n){return Js(n._redirectPersistence)}function SB(n){return e_("pendingRedirect",n.config.apiKey,n.name)}function xB(n,e){return TD.apply(this,arguments)}function TD(){return TD=B(function*(n,e,t=!1){const r=Vr(n),i=La(r,e),o=yield new Qae(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),TD.apply(this,arguments)}class nue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RB(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(hs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MB(e))}saveEventToCache(e){this.cachedEventUids.add(MB(e)),this.lastProcessedEventTime=Date.now()}}function MB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RB({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function iue(n){return SD.apply(this,arguments)}function SD(){return SD=B(function*(n,e={}){return Vn(n,"GET","/v1/projects",e)}),SD.apply(this,arguments)}const sue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oue=/^https?/;function xD(){return xD=B(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield iue(n);for(const t of e)try{if(uue(t))return}catch(r){}Lr(n,"unauthorized-domain")}),xD.apply(this,arguments)}function uue(n){const e=bh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!oue.test(t))return!1;if(sue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const cue=new Ch(3e4,6e4);function kB(){const n=xn().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let h_=null;function due(n){return h_=h_||function(n){return new Promise((e,t)=>{var r,i,s;function o(){kB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kB(),t(hs(n,"network-request-failed"))},timeout:cue.get()})}if(null===(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=xn().gapi)||void 0===s?void 0:s.load)){const a=IB("iframefcb");return xn()[a]=()=>{gapi.load?o():t(hs(n,"network-request-failed"))},function(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=hs("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw h_=null,e})}(n),h_}const hue=new Ch(5e3,15e3),gue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _ue(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?LI(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:xa},i=mue.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${lh(r).slice(1)}`}function AD(){return AD=B(function*(n){const e=yield due(n),t=xn().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:_ue(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gue,dontclear:!0},r=>new Promise(function(){var i=B(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=hs(n,"network-request-failed"),u=xn().setTimeout(()=>{o(a)},hue.get());function c(){xn().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),AD.apply(this,arguments)}const vue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class NB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function OB(n,e,t,r,i,s){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xa,eventId:i};if(e instanceof ko){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",wb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof Koe){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:n}){return n.emulator?LI(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${lh(a).slice(1)}`}const MD="webStorageSupport",Mue=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yB,this._completeRedirectFn=xB,this._overrideRedirectResult=Jae}_openPopup(e,t,r,i){var s=this;return B(function*(){var o;Mo(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=OB(e,t,r,bh(),i);return function(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},vue),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pn().toLowerCase();t&&(a=JU(c)?"_blank":t),YU(c)&&(e=e||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(function(n=Pn()){var e;return t_(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new NB(null);const h=window.open(e||"",a,d);ve(h,n,"popup-blocked");try{h.focus()}catch(m){}return new NB(h)}(e,a,JT())})()}_openRedirect(e,t,r,i){var s=this;return B(function*(){return yield s._originValidation(e),function(n){xn().location.href=n}(OB(e,t,r,bh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Mo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return B(function*(){const r=yield function(n){return AD.apply(this,arguments)}(e),i=new nue(e);return r.register("authEvent",s=>(ve(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MD,{type:MD},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[MD];void 0!==o&&t(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return xD.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nB()||YI()||t_()}};var FB="@firebase/auth";class Rue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return B(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oue(n=dh()){const e=So(n,"auth");return e.isInitialized()?e.getImmediate():function(n,e){const t=So(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Om(t.getOptions(),null!=e?e:{}))return i;Lr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Mue,persistence:[Sae,pae,yB]})}!function(n){Xn(new Fn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{ve(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ve(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rB(n)},d=new xoe(a,u,c);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Js);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(d,t),d})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new Fn("auth-internal",e=>{const t=Vr(e.getProvider("auth").getImmediate());return new Rue(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mt(FB,"0.20.5",void 0),Mt(FB,"0.20.5","esm2017")}("Browser");class RD{constructor(e){return e}}class f_{constructor(){return gh("auth")}}const kD=new Ke("angularfire2.auth-instances");function Fue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RD(r)}}const Lue={provide:f_,deps:[[new St,kD]]},Vue={provide:RD,useFactory:function(n,e){const t=ph("auth",n,e);return t&&new RD(t)},deps:[[new St,kD],Ao]};let Uue=(()=>{class n{constructor(){Mt("angularfire",Pc.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[Vue,Lue]}),n})();function Bue(n,...e){return{ngModule:Uue,providers:[{provide:kD,useFactory:Fue(n),multi:!0,deps:[Lt,Kt,mh,yh,[new St,Eh],...e]}]}}const jue=_h(Oue,!0),UB="@firebase/database";let ND="";class Hue{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ch(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Gue{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ws(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const jB=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Hue(e)}}catch(e){}return new Gue},Va=jB("localStorage"),OD=jB("sessionStorage"),Uc=new Ta("@firebase/database"),$B=function(){let n=1;return function(){return n++}}(),HB=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ce(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new ote;t.update(e);const r=t.digest();return Mm.encodeByteArray(r)},Nh=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Nh.apply(null,r):e+="object"==typeof r?Jn(r):r,e+=" "}return e};let Ua=null,GB=!0;const Un=function(...n){if(!0===GB&&(GB=!1,null===Ua&&!0===OD.get("logging_enabled")&&function(n,e){Ce(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Uc.logLevel=bt.VERBOSE,Ua=Uc.log.bind(Uc),e&&OD.set("logging_enabled",!0)):"function"==typeof n?Ua=n:(Ua=null,OD.remove("logging_enabled"))}(!0)),Ua){const e=Nh.apply(null,n);Ua(e)}},Oh=function(n){return function(...e){Un(n,...e)}},PD=function(...n){const e="FIREBASE INTERNAL ERROR: "+Nh(...n);Uc.error(e)},ps=function(...n){const e=`FIREBASE FATAL ERROR: ${Nh(...n)}`;throw Uc.error(e),new Error(e)},gr=function(...n){const e="FIREBASE WARNING: "+Nh(...n);Uc.warn(e)},p_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},to="[MIN_NAME]",gs="[MAX_NAME]",Ba=function(n,e){if(n===e)return 0;if(n===to||e===gs)return-1;if(e===to||n===gs)return 1;{const t=g_(n),r=g_(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},que=function(n,e){return n===e?0:n<e?-1:1},Ph=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Jn(e))},FD=function(n){if("object"!=typeof n||null===n)return Jn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Jn(e[r]),t+=":",t+=FD(n[e[r]]);return t+="}",t},zB=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Bn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const qB=function(n){Ce(!p_(n),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(u=0;u<64;u+=8){let m=parseInt(d.substr(u,8),2).toString(16);1===m.length&&(m="0"+m),h+=m}return h.toLowerCase()},Jue=new RegExp("^-?(0*)\\d{1,10}$"),g_=function(n){if(Jue.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Bc=function(n){try{n()}catch(e){setTimeout(()=>{throw gr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Fh=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class Zue{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ece{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(e)}}let Lh=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const ZB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nj="websocket",rj="long_polling";class UD{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ij(n,e,t){let r;if(Ce("string"==typeof e,"typeof type must == string"),Ce("object"==typeof t,"typeof params must == object"),e===nj)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==rj)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Bn(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class nce{constructor(){this.counters_={}}incrementCounter(e,t=1){Ws(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Jee(this.counters_)}}const BD={},jD={};function $D(n){const e=n.toString();return BD[e]||(BD[e]=new nce),BD[e]}class ice{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class No{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oh(e),this.stats_=$D(t),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),ij(t,rj,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ice(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HD((...s)=>{const[o,a,u,c,d]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ZB.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){No.forceAllow_=!0}static forceDisallow(){No.forceDisallow_=!0}static isAvailable(){return!(!No.forceAllow_&&(No.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Jn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=eV(t),i=zB(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Jn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class HD{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$B(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=HD.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Un("frame writing exception"),a.stack&&Un(a.stack),Un(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Un("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let __=null;"undefined"!=typeof MozWebSocket?__=MozWebSocket:"undefined"!=typeof WebSocket&&(__=WebSocket);let jc=(()=>{class n{constructor(t,r,i,s,o,a,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oh(this.connId),this.stats_=$D(r),this.connURL=n.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&ZB.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),ij(t,nj,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new __(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==__&&!n.forceDisallow_}static previouslyFailed(){return Va.isInMemoryStorage||!0===Va.get("previous_websocket_failure")}markConnectionHealthy(){Va.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=ch(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ce(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Jn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=zB(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),dj=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[No,jc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=jc&&jc.isAvailable();let i=r&&!jc.previouslyFailed();if(t.webSocketOnly&&(r||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[jc];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class yj{constructor(e,t,r,i,s,o,a,u,c,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oh("c:"+this.id+":"),this.transportManager_=new dj(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ph("t",e),r=Ph("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ph("t",e),r=Ph("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ph("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?PD("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PD("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Fh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class vj{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class wj{constructor(e){this.allowedEvents_=e,this.listeners_={},Ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){Ce(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class y_ extends wj{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!_b()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new y_}getInitialEvent(e){return Ce("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Tt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ct(){return new Tt("")}function ut(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Oo(n){return n.pieces_.length-n.pieceNum_}function Ot(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Tt(n.pieces_,e)}function WD(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Vh(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Cj(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Tt(e,0)}function Wt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Tt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Tt(t,0)}function ct(n){return n.pieceNum_>=n.pieces_.length}function Sr(n,e){const t=ut(n),r=ut(e);if(null===t)return e;if(t===r)return Sr(Ot(n),Ot(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function zD(n,e){if(Oo(n)!==Oo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function bi(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Oo(n)>Oo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Sce{constructor(e,t){this.errorPrefix_=t,this.parts_=Vh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fm(this.parts_[r]);Ij(this)}}function Ij(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ja(n))}function ja(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class qD extends wj{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qD}getInitialEvent(e){return Ce("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Uh=1e3;let w_,$a=(()=>{class n extends vj{constructor(t,r,i,s,o,a,u,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Oh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qD.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&y_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Jn(o)),Ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Mc,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ce(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,d=u.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),"ok"!==d&&this.removeListen_(i,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Ws(t,"w")){const i=Rc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=km(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=km(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Jn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):PD("Unrecognized action received from server: "+Jn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Uh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Uh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return B(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let u=!1,c=null;const d=function(){c?c.close():(u=!0,s())};t.realtime_={close:d,sendRequest:function(y){Ce(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)}};const m=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[y,T]=yield Promise.all([t.authTokenProvider_.getToken(m),t.appCheckTokenProvider_.getToken(m)]);u?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),t.authToken_=y&&y.accessToken,t.appCheckToken_=T&&T.token,c=new yj(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,N=>{gr(N+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(y){t.log_("Failed to get token: "+y),u||(t.repoInfo_.nodeAdmin&&gr(y),d())}}})()}interrupt(t){Un("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Un("Resuming connection for reason: "+t),delete this.interruptReasons_[t],wb(this.interruptReasons_)&&(this.reconnectDelay_=Uh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>FD(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Tt(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Un("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Un("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+ND.replace(/\./g,"-")]=1,_b()?t["framework.cordova"]=1:nV()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=y_.getInstance().currentlyOnline();return wb(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ht{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ht(e,t)}}class v_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ht(to,e),i=new ht(to,t);return 0!==this.compare(r,i)}minPost(){return ht.MIN}}class Sj extends v_{static get __EMPTY_NODE(){return w_}static set __EMPTY_NODE(e){w_=e}compare(e,t){return Ba(e.name,t.name)}isDefinedOn(e){throw Ac("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ht.MIN}maxPost(){return new ht(gs,w_)}makePost(e,t){return Ce("string"==typeof e,"KeyIndex indexValue must always be a string."),new ht(e,w_)}toString(){return".key"}}const ms=new Sj;class E_{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let QD,Hi=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Ur.EMPTY_NODE,this.right=null!=o?o:Ur.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ur.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Ur.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ur{constructor(e,t=Ur.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ur(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Hi.BLACK,null,null))}remove(e){return new Ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hi.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new E_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new E_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new E_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new E_(this.root_,null,this.comparator_,!0,e)}}function Pce(n,e){return Ba(n.name,e.name)}function KD(n,e){return Ba(n,e)}Ur.EMPTY_NODE=new class{copy(e,t,r,i,s){return this}insert(e,t,r){return new Hi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xj=function(n){return"number"==typeof n?"number:"+qB(n):"string:"+n},Aj=function(n){if(n.isLeafNode()){const e=n.val();Ce("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ws(e,".sv"),"Priority must be a string or number.")}else Ce(n===QD||n.isEmpty(),"priority of unexpected type.");Ce(n===QD||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mj,Rj,kj,$c=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Ce(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Aj(this.priorityNode_)}static set __childrenNodeConstructor(t){Mj=t}static get __childrenNodeConstructor(){return Mj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ct(t)?this:".priority"===ut(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ut(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(Ce(".priority"!==i||1===Oo(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ot(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+xj(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?qB(this.value_):this.value_,this.lazyHash_=HB(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Ce(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return Ce(s>=0,"Unknown leaf type: "+r),Ce(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ut=new class extends v_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Ba(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ht.MIN}maxPost(){return new ht(gs,new $c("[PRIORITY-POST]",kj))}makePost(e,t){const r=Rj(e);return new ht(t,new $c("[PRIORITY-POST]",r))}toString(){return".priority"}},Bce=Math.log(2);class jce{constructor(e){this.count=parseInt(Math.log(e+1)/Bce,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const b_=function(n,e,t,r){n.sort(e);const i=function(u,c){const d=c-u;let h,m;if(0===d)return null;if(1===d)return h=n[u],m=t?t(h):h,new Hi(m,h.node,Hi.BLACK,null,null);{const y=parseInt(d/2,10)+u,T=i(u,y),N=i(y+1,c);return h=n[y],m=t?t(h):h,new Hi(m,h.node,Hi.BLACK,T,N)}},a=function(u){let c=null,d=null,h=n.length;const m=function(T,N){const V=h-T,K=h;h-=T;const $=i(V+1,K),ae=n[V],pe=t?t(ae):ae;y(new Hi(pe,ae.node,N,null,$))},y=function(T){c?(c.left=T,c=T):(d=T,c=T)};for(let T=0;T<u.count;++T){const N=u.nextBitIsOne(),V=Math.pow(2,u.count-(T+1));N?m(V,Hi.BLACK):(m(V,Hi.BLACK),m(V,Hi.RED))}return d}(new jce(n.length));return new Ur(r||e,a)};let YD;const Hc={};class no{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ce(Hc&&Ut,"ChildrenNode.ts has not been loaded"),YD=YD||new no({".priority":Hc},{".priority":Ut}),YD}get(e){const t=Rc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ur?t:null}hasIndex(e){return Ws(this.indexSet_,e.toString())}addIndex(e,t){Ce(e!==ms,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ht.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?b_(r,e.getCompare()):Hc;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const d=Object.assign({},this.indexes_);return d[u]=a,new no(d,c)}addToIndexes(e,t){const r=Nm(this.indexes_,(i,s)=>{const o=Rc(this.indexSet_,s);if(Ce(o,"Missing index implementation for "+s),i===Hc){if(o.isDefinedOn(e.node)){const a=[],u=t.getIterator(ht.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),b_(a,o.getCompare())}return Hc}{const a=t.get(e.name);let u=i;return a&&(u=u.remove(new ht(e.name,a))),u.insert(e,e.node)}});return new no(r,this.indexSet_)}removeFromIndexes(e,t){const r=Nm(this.indexes_,i=>{if(i===Hc)return i;{const s=t.get(e.name);return s?i.remove(new ht(e.name,s)):i}});return new no(r,this.indexSet_)}}let Bh,it=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Aj(this.priorityNode_),this.children_.isEmpty()&&Ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bh||(Bh=new n(new Ur(KD),null,no.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bh}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Bh:r}}getChild(t){const r=ut(t);return null===r?this:this.getImmediateChild(r).getChild(Ot(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(Ce(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ht(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Bh:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=ut(t);if(null===i)return r;{Ce(".priority"!==ut(t)||1===Oo(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ot(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ut,(a,u)=>{r[a]=u.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+xj(this.getPriority().val())+":"),this.forEachChild(Ut,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":HB(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ht(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ht(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ht(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ht.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ht.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jh?-1:0}withIndex(t){if(t===ms||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ms||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ut),s=r.getIterator(Ut);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ms?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const jh=new class extends it{constructor(){super(new Ur(KD),it.EMPTY_NODE,no.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return it.EMPTY_NODE}isEmpty(){return!1}};function Yt(n,e=null){if(null===n)return it.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),Ce(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new $c(n,Yt(e));if(n instanceof Array){let t=it.EMPTY_NODE;return Bn(n,(r,i)=>{if(Ws(n,r)&&"."!==r.substring(0,1)){const s=Yt(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Yt(e))}{const t=[];let r=!1;if(Bn(n,(o,a)=>{if("."!==o.substring(0,1)){const u=Yt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new ht(o,u)))}}),0===t.length)return it.EMPTY_NODE;const s=b_(t,Pce,o=>o.name,KD);if(r){const o=b_(t,Ut.getCompare());return new it(s,Yt(e),new no({".priority":o},{".priority":Ut}))}return new it(s,Yt(e),no.Default)}}Object.defineProperties(ht,{MIN:{value:new ht(to,it.EMPTY_NODE)},MAX:{value:new ht(gs,jh)}}),Sj.__EMPTY_NODE=it.EMPTY_NODE,$c.__childrenNodeConstructor=it,function(n){QD=n}(jh),function(n){kj=n}(jh),function(n){Rj=n}(Yt);class JD extends v_{constructor(e){super(),this.indexPath_=e,Ce(!ct(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Ba(e.name,t.name):s}makePost(e,t){const r=Yt(e),i=it.EMPTY_NODE.updateChild(this.indexPath_,r);return new ht(t,i)}maxPost(){const e=it.EMPTY_NODE.updateChild(this.indexPath_,jh);return new ht(gs,e)}toString(){return Vh(this.indexPath_,0).join("/")}}const XD=new class extends v_{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ba(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ht.MIN}maxPost(){return ht.MAX}makePost(e,t){const r=Yt(e);return new ht(t,r)}toString(){return".value"}};function Hh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class tS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return Ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const e=new tS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Vj(n){const e={};if(n.isDefault())return e;let t;return n.index_===Ut?t="$priority":n.index_===XD?t="$value":n.index_===ms?t="$key":(Ce(n.index_ instanceof JD,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Jn(t),n.startSet_&&(e.startAt=Jn(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+Jn(n.indexStartName_))),n.endSet_&&(e.endAt=Jn(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+Jn(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Uj(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ut&&(e.i=n.index_.toString()),e}class I_ extends vj{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Oh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=I_.getListenId_(e,r),a={};this.listens_[o]=a;const u=Vj(e._queryParams);this.restRequest_(s+".json",u,(c,d)=>{let h=d;if(404===c&&(h=null,c=null),null===c&&this.onDataUpdate_(s,h,!1,r),Rc(this.listens_,o)===a){let m;m=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(m,null)}})}unlisten(e,t){const r=I_.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Vj(e._queryParams),r=e._path.toString(),i=new Mc;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lh(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=ch(a.responseText)}catch(c){gr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&gr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Zce{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function T_(){return{value:null,children:new Map}}function zc(n,e,t){if(ct(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=ut(e);n.children.has(r)||n.children.set(r,T_()),zc(n.children.get(r),e=Ot(e),t)}}function sS(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{sS(i,new Tt(e.toString()+"/"+r),t)})}class tle{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Bn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class ile{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tle(e);const r=1e4+2e4*Math.random();Fh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Bn(e,(i,s)=>{s>0&&Ws(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Fh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ci=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ci||(Ci={})),Ci))();function uS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class D_{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ci.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ct(this.path)){if(null!=this.affectedTree.value)return Ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Tt(e));return new D_(Ct(),t,this.revert)}}return Ce(ut(this.path)===e,"operationForChild called for unrelated child."),new D_(Ot(this.path),this.affectedTree,this.revert)}}class Ha{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ci.OVERWRITE}operationForChild(e){return ct(this.path)?new Ha(this.source,Ct(),this.snap.getImmediateChild(e)):new Ha(this.source,Ot(this.path),this.snap)}}class qc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ci.MERGE}operationForChild(e){if(ct(this.path)){const t=this.children.subtree(new Tt(e));return t.isEmpty()?null:t.value?new Ha(this.source,Ct(),t.value):new qc(this.source,Ct(),t)}return Ce(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qc(this.source,Ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Po{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ct(e))return this.isFullyInitialized()&&!this.filtered_;const t=ut(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function zh(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,u)=>function(n,e,t){if(null==e.childName||null==t.childName)throw Ac("Should only compare child_ events.");const r=new ht(e.childName,e.snapshotNode),i=new ht(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,u)),o.forEach(a=>{const u=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,n.query_))})})}function S_(n,e){return{eventCache:n,serverCache:e}}function qh(n,e,t,r){return S_(new Po(e,t,r),n.serverCache)}function jj(n,e,t,r){return S_(n.eventCache,new Po(e,t,r))}function x_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ga(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cS;class Bt{constructor(e,t=(()=>(cS||(cS=new Ur(que)),cS))()){this.value=e,this.children=t}static fromObject(e){let t=new Bt(null);return Bn(e,(r,i)=>{t=t.set(new Tt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ct(),value:this.value};if(ct(e))return null;{const r=ut(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ot(e),t);return null!=s?{path:Wt(new Tt(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ct(e))return this;{const t=ut(e),r=this.children.get(t);return null!==r?r.subtree(Ot(e)):new Bt(null)}}set(e,t){if(ct(e))return new Bt(t,this.children);{const r=ut(e),s=(this.children.get(r)||new Bt(null)).set(Ot(e),t),o=this.children.insert(r,s);return new Bt(this.value,o)}}remove(e){if(ct(e))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const t=ut(e),r=this.children.get(t);if(r){const i=r.remove(Ot(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Bt(null):new Bt(this.value,s)}return this}}get(e){if(ct(e))return this.value;{const t=ut(e),r=this.children.get(t);return r?r.get(Ot(e)):null}}setTree(e,t){if(ct(e))return t;{const r=ut(e),s=(this.children.get(r)||new Bt(null)).setTree(Ot(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Bt(this.value,o)}}fold(e){return this.fold_(Ct(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Wt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ct(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ct(e))return null;{const s=ut(e),o=this.children.get(s);return o?o.findOnPath_(Ot(e),Wt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ct(),t)}foreachOnPath_(e,t,r){if(ct(e))return this;{this.value&&r(t,this.value);const i=ut(e),s=this.children.get(i);return s?s.foreachOnPath_(Ot(e),Wt(t,i),r):new Bt(null)}}foreach(e){this.foreach_(Ct(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Wt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Gi{constructor(e){this.writeTree_=e}static empty(){return new Gi(new Bt(null))}}function Kh(n,e,t){if(ct(e))return new Gi(new Bt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Sr(i,e);return s=s.updateChild(o,t),new Gi(n.writeTree_.set(i,s))}{const i=new Bt(t),s=n.writeTree_.setTree(e,i);return new Gi(s)}}}function lS(n,e,t){let r=n;return Bn(t,(i,s)=>{r=Kh(r,Wt(e,i),s)}),r}function $j(n,e){if(ct(e))return Gi.empty();{const t=n.writeTree_.setTree(e,new Bt(null));return new Gi(t)}}function dS(n,e){return null!=Wa(n,e)}function Wa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Sr(t.path,e)):null}function Hj(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ut,(r,i)=>{e.push(new ht(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ht(r,i.value))}),e}function Fo(n,e){if(ct(e))return n;{const t=Wa(n,e);return new Gi(null!=t?new Bt(t):n.writeTree_.subtree(e))}}function hS(n){return n.writeTree_.isEmpty()}function Kc(n,e){return Gj(Ct(),n.writeTree_,e)}function Gj(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(Ce(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=Gj(Wt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Wt(n,".priority"),r)),t}}function A_(n,e){return Qj(e,n)}function ple(n,e){if(n.snap)return bi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&bi(Wt(n.path,t),e))return!0;return!1}function mle(n){return n.visible}function Wj(n,e,t){let r=Gi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)bi(t,o)?(a=Sr(t,o),r=Kh(r,a,s.snap)):bi(o,t)&&(a=Sr(o,t),r=Kh(r,Ct(),s.snap.getChild(a)));else{if(!s.children)throw Ac("WriteRecord should have .snap or .children");if(bi(t,o))a=Sr(t,o),r=lS(r,a,s.children);else if(bi(o,t))if(a=Sr(o,t),ct(a))r=lS(r,Ct(),s.children);else{const u=Rc(s.children,ut(a));if(u){const c=u.getChild(Ot(a));r=Kh(r,Ct(),c)}}}}}return r}function zj(n,e,t,r,i){if(r||i){const s=Fo(n.visibleWrites,e);return!i&&hS(s)?t:i||null!=t||dS(s,Ct())?Kc(Wj(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(bi(c.path,e)||bi(e,c.path))},e),t||it.EMPTY_NODE):null}{const s=Wa(n.visibleWrites,e);if(null!=s)return s;{const o=Fo(n.visibleWrites,e);return hS(o)?t:null!=t||dS(o,Ct())?Kc(o,t||it.EMPTY_NODE):null}}}function M_(n,e,t,r){return zj(n.writeTree,n.treePath,e,t,r)}function fS(n,e){return function(n,e,t){let r=it.EMPTY_NODE;const i=Wa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ut,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Fo(n.visibleWrites,e);return t.forEachChild(Ut,(o,a)=>{const u=Kc(Fo(s,new Tt(o)),a);r=r.updateImmediateChild(o,u)}),Hj(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Hj(Fo(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function qj(n,e,t,r){return function(n,e,t,r,i){Ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Wt(e,t);if(dS(n.visibleWrites,s))return null;{const o=Fo(n.visibleWrites,s);return hS(o)?i.getChild(t):Kc(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function R_(n,e){return function(n,e){return Wa(n.visibleWrites,e)}(n.writeTree,Wt(n.treePath,e))}function pS(n,e,t){return function(n,e,t,r){const i=Wt(e,t),s=Wa(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?Kc(Fo(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Kj(n,e){return Qj(Wt(n.treePath,e),n.writeTree)}function Qj(n,e){return{treePath:n,writeTree:e}}class Ile{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Ce("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ce(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Hh(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Ac("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Hh(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Yj=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class gS{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Po(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pS(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ga(this.viewCache_),s=function(n,e,t,r,i,s){return function(n,e,t,r,i,s,o){let a;const u=Fo(n.visibleWrites,e),c=Wa(u,Ct());if(null!=c)a=c;else{if(null==t)return[];a=Kc(u,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const d=[],h=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=m.getNext();for(;y&&d.length<i;)0!==h(y,r)&&d.push(y),y=m.getNext();return d}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function Jj(n,e,t,r,i,s){const o=e.eventCache;if(null!=R_(r,t))return e;{let a,u;if(ct(t))if(Ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ga(e),h=fS(r,c instanceof it?c:it.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=M_(r,Ga(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ut(t);if(".priority"===c){Ce(1===Oo(t),"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const h=qj(r,t,d,u);a=null!=h?n.filter.updatePriority(d,h):o.getNode()}else{const d=Ot(t);let h;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const m=qj(r,t,o.getNode(),u);h=null!=m?o.getNode().getImmediateChild(c).updateChild(d,m):o.getNode().getImmediateChild(c)}else h=pS(r,c,e.serverCache);a=null!=h?n.filter.updateChild(o.getNode(),c,h,d,i,s):o.getNode()}}return qh(e,a,o.isFullyInitialized()||ct(t),n.filter.filtersNodes())}}function k_(n,e,t,r,i,s,o,a){const u=e.serverCache;let c;const d=o?n.filter:n.filter.getIndexedFilter();if(ct(t))c=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(t,r);c=d.updateFullNode(u.getNode(),y,null)}else{const y=ut(t);if(!u.isCompleteForPath(t)&&Oo(t)>1)return e;const T=Ot(t),V=u.getNode().getImmediateChild(y).updateChild(T,r);c=".priority"===y?d.updatePriority(u.getNode(),V):d.updateChild(u.getNode(),y,V,T,Yj,null)}const h=jj(e,c,u.isFullyInitialized()||ct(t),d.filtersNodes());return Jj(n,h,t,i,new gS(i,h,s),a)}function mS(n,e,t,r,i,s,o){const a=e.eventCache;let u,c;const d=new gS(i,e,s);if(ct(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),u=qh(e,c,!0,n.filter.filtersNodes());else{const h=ut(t);if(".priority"===h)c=n.filter.updatePriority(e.eventCache.getNode(),r),u=qh(e,c,a.isFullyInitialized(),a.isFiltered());else{const m=Ot(t),y=a.getNode().getImmediateChild(h);let T;if(ct(m))T=r;else{const N=d.getCompleteChild(h);T=null!=N?".priority"===WD(m)&&N.getChild(Cj(m)).isEmpty()?N:N.updateChild(m,r):it.EMPTY_NODE}u=y.equals(T)?e:qh(e,n.filter.updateChild(a.getNode(),h,T,m,d,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return u}function Xj(n,e){return n.eventCache.isCompleteForChild(e)}function Zj(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _S(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=ct(t)?r:new Bt(null).setTree(t,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,m)=>{if(d.hasChild(h)){const T=Zj(0,e.serverCache.getNode().getImmediateChild(h),m);u=k_(n,u,new Tt(h),T,i,s,o,a)}}),c.children.inorderTraversal((h,m)=>{const y=!e.serverCache.isCompleteForChild(h)&&null===m.value;if(!d.hasChild(h)&&!y){const N=Zj(0,e.serverCache.getNode().getImmediateChild(h),m);u=k_(n,u,new Tt(h),N,i,s,o,a)}}),u}function Lle(n,e){const t=Ga(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ct(e)&&!t.getImmediateChild(ut(e)).isEmpty())?t.getChild(e):null}function n$(n,e,t,r){e.type===Ci.MERGE&&null!==e.source.queryId&&(Ce(Ga(n.viewCache_),"We should always have a full cache before handling merges"),Ce(x_(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function(n,e,t,r,i){const s=new Ile;let o,a;if(t.type===Ci.OVERWRITE){const c=t;c.source.fromUser?o=mS(n,e,c.path,c.snap,r,i,s):(Ce(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ct(c.path),o=k_(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Ci.MERGE){const c=t;c.source.fromUser?o=function(n,e,t,r,i,s,o){let a=e;return r.foreach((u,c)=>{const d=Wt(t,u);Xj(e,ut(d))&&(a=mS(n,a,d,c,i,s,o))}),r.foreach((u,c)=>{const d=Wt(t,u);Xj(e,ut(d))||(a=mS(n,a,d,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(Ce(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=_S(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Ci.ACK_USER_WRITE){const c=t;o=c.revert?function(n,e,t,r,i,s){let o;if(null!=R_(r,t))return e;{const a=new gS(r,e,i),u=e.eventCache.getNode();let c;if(ct(t)||".priority"===ut(t)){let d;if(e.serverCache.isFullyInitialized())d=M_(r,Ga(e));else{const h=e.serverCache.getNode();Ce(h instanceof it,"serverChildren would be complete if leaf node"),d=fS(r,h)}d=d,c=n.filter.updateFullNode(u,d,s)}else{const d=ut(t);let h=pS(r,d,e.serverCache);null==h&&e.serverCache.isCompleteForChild(d)&&(h=u.getImmediateChild(d)),c=null!=h?n.filter.updateChild(u,d,h,Ot(t),a,s):e.eventCache.getNode().hasChild(d)?n.filter.updateChild(u,d,it.EMPTY_NODE,Ot(t),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=M_(r,Ga(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=R_(r,Ct()),qh(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function(n,e,t,r,i,s,o){if(null!=R_(i,t))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ct(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return k_(n,e,t,u.getNode().getChild(t),i,s,a,o);if(ct(t)){let c=new Bt(null);return u.getNode().forEachChild(ms,(d,h)=>{c=c.set(new Tt(d),h)}),_S(n,e,t,c,i,s,a,o)}return e}{let c=new Bt(null);return r.foreach((d,h)=>{const m=Wt(t,d);u.isCompleteForPath(m)&&(c=c.set(d,u.getNode().getChild(m)))}),_S(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==Ci.LISTEN_COMPLETE)throw Ac("Unknown operation type: "+t.type);o=function(n,e,t,r,i){const s=e.serverCache;return Jj(n,jj(e,s.getNode(),s.isFullyInitialized()||ct(t),s.isFiltered()),t,r,Yj,i)}(n,e,t.path,r,s)}const u=s.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=x_(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function(n){return{type:"value",snapshotNode:n}}(x_(e)))}}(e,o,u),{viewCache:o,changes:u}}(n.processor_,i,e,t,r);return function(n,e){Ce(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ce(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),Ce(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function(n,e,t,r){return function(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),zh(n,i,"child_removed",e,r,t),zh(n,i,"child_added",e,r,t),zh(n,i,"child_moved",s,r,t),zh(n,i,"child_changed",e,r,t),zh(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let N_,P_;function yS(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return Ce(null!=s,"SyncTree gave us an op for an invalid query."),n$(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(n$(o,e,t,r));return s}}function Lo(n,e){let t=null;for(const r of n.views.values())t=t||Lle(r,e);return t}class c${constructor(e){this.listenProvider_=e,this.syncPointTree_=new Bt(null),this.pendingWriteTree_={visibleWrites:Gi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vS(n,e,t,r,i){return function(n,e,t,r,i){Ce(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Kh(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Qc(n,new Ha({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Uo(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);Ce(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&ple(a,r.path)?i=!1:bi(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(n){n.visibleWrites=Wj(n.allWrites,mle,Ct()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=$j(n.visibleWrites,r.path):Bn(r.children,u=>{n.visibleWrites=$j(n.visibleWrites,Wt(r.path,u))}),!0))}(n.pendingWriteTree_,e)){let s=new Bt(null);return null!=r.snap?s=s.set(Ct(),!0):Bn(r.children,o=>{s=s.set(new Tt(o),!0)}),Qc(n,new D_(r.path,s,t))}return[]}function Qh(n,e,t){return Qc(n,new Ha({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function L_(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Lo(a,Sr(o,e));if(c)return c});return zj(i,e,s,t,!0)}function Qc(n,e){return d$(e,n.syncPointTree_,null,A_(n.pendingWriteTree_,Ct()))}function d$(n,e,t,r){if(ct(n.path))return h$(n,e,t,r);{const i=e.get(Ct());null==t&&null!=i&&(t=Lo(i,Ct()));let s=[];const o=ut(n.path),a=n.operationForChild(o),u=e.children.get(o);if(u&&a){const c=t?t.getImmediateChild(o):null,d=Kj(r,o);s=s.concat(d$(a,u,c,d))}return i&&(s=s.concat(yS(i,n,r,t))),s}}function h$(n,e,t,r){const i=e.get(Ct());null==t&&null!=i&&(t=Lo(i,Ct()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=t?t.getImmediateChild(o):null,c=Kj(r,o),d=n.operationForChild(o);d&&(s=s.concat(h$(d,a,u,c)))}),i&&(s=s.concat(yS(i,n,r,t))),s}function ES(n,e){return n.tagToQueryMap.get(e)}function bS(n){const e=n.indexOf("$");return Ce(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Tt(n.substr(0,e))}}function CS(n,e,t){const r=n.syncPointTree_.get(e);return Ce(r,"Missing sync point for query tag that we're tracking"),yS(r,t,A_(n.pendingWriteTree_,e),null)}class IS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new IS(t)}node(){return this.node_}}class TS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Wt(this.path_,e);return new TS(this.syncTree_,t)}node(){return L_(this.syncTree_,this.path_)}}const p$=function(n,e,t){return n&&"object"==typeof n?(Ce(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?sde(n[".sv"],e,t):"object"==typeof n[".sv"]?ode(n[".sv"],e):void Ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},sde=function(n,e,t){if("timestamp"===n)return t.timestamp;Ce(!1,"Unexpected server value: "+n)},ode=function(n,e,t){n.hasOwnProperty("increment")||Ce(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&Ce(!1,"Unexpected increment value: "+r);const i=e.node();if(Ce(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},DS=function(n,e,t){return SS(n,new IS(e),t)};function SS(n,e,t){const r=n.getPriority().val(),i=p$(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=p$(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new $c(a,Yt(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $c(i))),o.forEachChild(Ut,(a,u)=>{const c=SS(u,e.getImmediateChild(a),t);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class xS{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function U_(n,e){let t=e instanceof Tt?e:new Tt(e),r=n,i=ut(t);for(;null!==i;){const s=Rc(r.node.children,i)||{children:{},childCount:0};r=new xS(i,r,s),t=Ot(t),i=ut(t)}return r}function za(n){return n.node.value}function AS(n,e){n.node.value=e,MS(n)}function m$(n){return n.node.childCount>0}function B_(n,e){Bn(n.node.children,(t,r)=>{e(new xS(t,n,r))})}function _$(n,e,t,r){t&&!r&&e(n),B_(n,i=>{_$(i,e,!0,r)}),t&&r&&e(n)}function Xh(n){return new Tt(null===n.parent?n.name:Xh(n.parent)+"/"+n.name)}function MS(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===za(n)&&!m$(n)}(t),i=Ws(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,MS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,MS(n))}(n.parent,n.name,n)}const lde=/[\[\].#$\/\u0000-\u001F\u007F]/,dde=/[\[\].#$\u0000-\u001F\u007F]/,RS=10485760,j_=function(n){return"string"==typeof n&&0!==n.length&&!lde.test(n)},ef=function(n,e,t){const r=t instanceof Tt?new Sce(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ja(r));if("function"==typeof e)throw new Error(n+"contains a function "+ja(r)+" with contents = "+e.toString());if(p_(e))throw new Error(n+"contains "+e.toString()+" "+ja(r));if("string"==typeof e&&e.length>RS/3&&Fm(e)>RS)throw new Error(n+"contains a string greater than "+RS+" utf8 bytes "+ja(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Bn(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!j_(o)))throw new Error(n+" contains an invalid key ("+o+") "+ja(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Fm(e),Ij(n)})(r,o),ef(n,a,r),function(n){const e=n.parts_.pop();n.byteLength_-=Fm(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ja(r)+" in addition to actual children.")}},w$=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!j_(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!dde.test(n)}(n)}(t))throw new Error(function(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gde{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function si(n,e,t){(function(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!zD(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(mde(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>bi(r,e)||bi(e,r))}function mde(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Ua&&Un("event: "+t.toString()),Bc(r)}}}class yde{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gde,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=T_(),this.transactionQueueTree_=new xS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I$(n){const t=n.infoData_.getNode(new Tt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:I$(n)})}function T$(n,e,t,r,i){n.dataUpdateCount++;const s=new Tt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const u=Nm(t,c=>Yt(c));o=function(n,e,t,r){const i=ES(n,r);if(i){const s=bS(i),o=s.path,a=s.queryId,u=Sr(o,e),c=Bt.fromObject(t);return CS(n,o,new qc(uS(a),u,c))}return[]}(n.serverSyncTree_,s,u,i)}else{const u=Yt(t);o=function(n,e,t,r){const i=ES(n,r);if(null!=i){const s=bS(i),o=s.path,a=s.queryId,u=Sr(o,e);return CS(n,o,new Ha(uS(a),u,t))}return[]}(n.serverSyncTree_,s,u,i)}else if(r){const u=Nm(t,c=>Yt(c));o=function(n,e,t){const r=Bt.fromObject(t);return Qc(n,new qc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,u)}else{const u=Yt(t);o=Qh(n.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Jc(n,s)),si(n.eventQueue_,a,o)}function D$(n,e){OS(n,"connected",e),!1===e&&function(n){Yc(n,"onDisconnectEvents");const e=nf(n),t=T_();sS(n.onDisconnect_,Ct(),(i,s)=>{const o=function(n,e,t,r){return SS(e,new TS(t,n),r)}(i,s,n.serverSyncTree_,e);zc(t,i,o)});let r=[];sS(t,Ct(),(i,s)=>{r=r.concat(Qh(n.serverSyncTree_,i,s));const o=function(n,e){const t=Xh(A$(n,e)),r=U_(n.transactionQueueTree_,e);return function(n,e,t){let r=void 0?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{US(n,i)}),US(n,r),_$(r,i=>{US(n,i)}),t}(n,i);Jc(n,o)}),n.onDisconnect_=T_(),si(n.eventQueue_,Ct(),r)}(n)}function OS(n,e,t){const r=new Tt("/.info/"+e),i=Yt(t);n.infoData_.updateSnapshot(r,i);const s=Qh(n.infoSyncTree_,r,i);si(n.eventQueue_,r,s)}function H_(n){return n.nextWriteId_++}function Yc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Un(t,...e)}function LS(n,e,t){return L_(n.serverSyncTree_,e,t)||it.EMPTY_NODE}function G_(n,e=n.transactionQueueTree_){if(e||W_(n,e),za(e)){const t=M$(n,e);Ce(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function(n,e,t){const r=t.map(c=>c.currentWriteId),i=LS(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const d=t[c];Ce(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Sr(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;n.server_.put(u.toString(),a,c=>{Yc(n,"transaction put response",{path:u.toString(),status:c});let d=[];if("ok"===c){const h=[];for(let m=0;m<t.length;m++)t[m].status=2,d=d.concat(Uo(n.serverSyncTree_,t[m].currentWriteId)),t[m].onComplete&&h.push(()=>t[m].onComplete(null,!0,t[m].currentOutputSnapshotResolved)),t[m].unwatcher();W_(n,U_(n.transactionQueueTree_,e)),G_(n,n.transactionQueueTree_),si(n.eventQueue_,e,d);for(let m=0;m<h.length;m++)Bc(h[m])}else{if("datastale"===c)for(let h=0;h<t.length;h++)t[h].status=3===t[h].status?4:0;else{gr("transaction at "+u.toString()+" failed: "+c);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=c}Jc(n,e)}},o)}(n,Xh(e),t)}else m$(e)&&B_(e,t=>{G_(n,t)})}function Jc(n,e){const t=A$(n,e),r=Xh(t);return function(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Sr(t,u.path);let h,d=!1;if(Ce(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)d=!0,h=u.abortReason,i=i.concat(Uo(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)d=!0,h="maxretry",i=i.concat(Uo(n.serverSyncTree_,u.currentWriteId,!0));else{const m=LS(n,u.path,o);u.currentInputSnapshot=m;const y=e[a].update(m.val());if(void 0!==y){ef("transaction failed: Data returned ",y,u.path);let T=Yt(y);"object"==typeof y&&null!=y&&Ws(y,".priority")||(T=T.updatePriority(m.getPriority()));const V=u.currentWriteId,K=nf(n),$=DS(T,m,K);u.currentOutputSnapshotRaw=T,u.currentOutputSnapshotResolved=$,u.currentWriteId=H_(n),o.splice(o.indexOf(V),1),i=i.concat(vS(n.serverSyncTree_,u.path,$,u.currentWriteId,u.applyLocally)),i=i.concat(Uo(n.serverSyncTree_,V,!0))}else d=!0,h="nodata",i=i.concat(Uo(n.serverSyncTree_,u.currentWriteId,!0))}si(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===h?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(h),!1,null)))}W_(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Bc(r[a]);G_(n,n.transactionQueueTree_)}(n,M$(n,t),r),r}function A$(n,e){let t,r=n.transactionQueueTree_;for(t=ut(e);null!==t&&void 0===za(r);)r=U_(r,t),t=ut(e=Ot(e));return r}function M$(n,e){const t=[];return R$(n,e,t),t.sort((r,i)=>r.order-i.order),t}function R$(n,e,t){const r=za(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);B_(e,i=>{R$(n,i,t)})}function W_(n,e){const t=za(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,AS(e,t.length>0?t:void 0)}B_(e,r=>{W_(n,r)})}function US(n,e){const t=za(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(Ce(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(Ce(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Uo(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?AS(e,void 0):t.length=s+1,si(n.eventQueue_,Xh(e),i);for(let o=0;o<r.length;o++)Bc(r[o])}}const BS=function(n,e){const t=Ode(n),r=t.namespace;return"firebase.com"===t.domain&&ps(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ps("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new UD(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Tt(t.pathString)}},Ode=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");-1===d&&(d=n.length);let h=n.indexOf("?");-1===h&&(h=n.length),e=n.substring(0,Math.min(d,h)),d<h&&(i=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(d,h)));const m=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,h)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if("localhost"===y.toLowerCase())t="localhost";else if(y.split(".").length<=2)t=y;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),t=e.substring(T+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class oi{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ct(this._path)?null:WD(this._path)}get ref(){return new Wi(this._repo,this._path)}get _queryIdentifier(){const e=Uj(this._queryParams),t=FD(e);return"{}"===t?"default":t}get _queryObject(){return Uj(this._queryParams)}isEqual(e){if(!((e=Do(e))instanceof oi))return!1;const t=this._repo===e._repo,r=zD(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Wi extends oi{constructor(e,t){super(e,t,new tS,!1)}get parent(){const e=Cj(this._path);return null===e?null:new Wi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function(n){Ce(!N_,"__referenceConstructor has already been defined"),N_=n})(Wi),function(n){Ce(!P_,"__referenceConstructor has already been defined"),P_=n}(Wi);const $S={};class Zde{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=$D(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new I_(n.repoInfo_,(r,i,s,o)=>{T$(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>D$(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new $a(n.repoInfo_,e,(r,i,s,o)=>{T$(n,r,i,s,o)},r=>{D$(n,r)},r=>{!function(n,e){Bn(e,(t,r)=>{OS(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return jD[t]||(jD[t]=e()),jD[t]}(n.repoInfo_,()=>new ile(n.stats_,n.server_)),n.infoData_=new Zce,n.infoSyncTree_=new c$({startListening:(r,i,s,o)=>{let a=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(a=Qh(n.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),OS(n,"connected",!1),n.serverSyncTree_=new c$({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);si(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wi(this._repo,Ct())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=$S[e];(!t||t[n.key]!==n)&&ps(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ps("Cannot call "+e+" on a deleted database.")}}function ehe(n=dh(),e){return So(n,"database").getImmediate({identifier:e})}$a.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},$a.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},ND="9.9.3",Xn(new Fn("database",(e,{instanceIdentifier:t})=>function(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ps("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=BS(s,i),a=o.repoInfo;"undefined"!=typeof process&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=BS(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const d=i&&u?new Lh(Lh.OWNER):new ece(n.name,n.options,e);w$("Invalid Firebase Database URL",o),ct(o.path)||ps("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(n,e,t,r){let i=$S[e.name];i||(i={},$S[e.name]=i);let s=i[n.toURLString()];return s&&ps("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new yde(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,d,new Zue(n.name,t));return new Zde(h,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Mt(UB,"0.13.5",void 0),Mt(UB,"0.13.5","esm2017");class HS{constructor(e){return e}}const U$="database",GS=new Ke("angularfire2.database-instances");function ohe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new HS(r)}}const ahe={provide:class{constructor(){return gh(U$)}},deps:[[new St,GS]]},uhe={provide:HS,useFactory:function(n,e){const t=ph(U$,n,e);return t&&new HS(t)},deps:[[new St,GS],Ao]};let che=(()=>{class n{constructor(){Mt("angularfire",Pc.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[uhe,ahe]}),n})();function lhe(n,...e){return{ngModule:che,providers:[{provide:GS,useFactory:ohe(n),multi:!0,deps:[Lt,Kt,mh,yh,[new St,f_],[new St,Eh],...e]}]}}const dhe=_h(ehe,!0);var ke,hhe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ro={},WS=WS||{},et=hhe||self;function Q_(){}function zS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function of(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qS="closure_uid_"+(1e9*Math.random()>>>0),phe=0;function ghe(n,e,t){return n.call.apply(n.bind,arguments)}function mhe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function tr(n,e,t){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ghe:mhe).apply(null,arguments)}function Y_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function nr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $o(){this.s=this.s,this.o=this.o}var yhe={};$o.prototype.s=!1,$o.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,qS)&&n[qS]||(n[qS]=++phe)}(this);delete yhe[n]}},$o.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},j$=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function $$(n){return Array.prototype.concat.apply([],arguments)}function KS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function J_(n){return/^[\s\xa0]*$/.test(n)}var Ar,H$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xr(n,e){return-1!=n.indexOf(e)}function QS(n,e){return n<e?-1:n>e?1:0}e:{var G$=et.navigator;if(G$){var W$=G$.userAgent;if(W$){Ar=W$;break e}}Ar=""}function YS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function z$(n){const e={};for(const t in n)e[t]=n[t];return e}var q$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K$(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<q$.length;s++)t=q$[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function JS(n){return JS[" "](n),n}JS[" "]=Q_;var X_,Ehe=xr(Ar,"Opera"),Zc=xr(Ar,"Trident")||xr(Ar,"MSIE"),Q$=xr(Ar,"Edge"),XS=Q$||Zc,Y$=xr(Ar,"Gecko")&&!(xr(Ar.toLowerCase(),"webkit")&&!xr(Ar,"Edge"))&&!(xr(Ar,"Trident")||xr(Ar,"MSIE"))&&!xr(Ar,"Edge"),bhe=xr(Ar.toLowerCase(),"webkit")&&!xr(Ar,"Edge");function J$(){var n=et.document;return n?n.documentMode:void 0}e:{var ZS="",ex=function(){var n=Ar;return Y$?/rv:([^\);]+)(\)|;)/.exec(n):Q$?/Edge\/([\d\.]+)/.exec(n):Zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bhe?/WebKit\/(\S+)/.exec(n):Ehe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(ex&&(ZS=ex?ex[1]:""),Zc){var tx=J$();if(null!=tx&&tx>parseFloat(ZS)){X_=String(tx);break e}}X_=ZS}var Che={};function Ihe(){return e=Che,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=H$(String(X_)).split("."),t=H$("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=QS(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||QS(0==i[2].length,0==s[2].length)||QS(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n}();var e}var The=et.document&&Zc&&(J$()||parseInt(X_,10))||void 0,Dhe=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{et.addEventListener("test",Q_,e),et.removeEventListener("test",Q_,e)}catch(t){}return n}();function mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function af(n,e){if(mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Y$){e:{try{JS(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:She[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&af.Z.h.call(this)}}mr.prototype.h=function(){this.defaultPrevented=!0},nr(af,mr);var She={2:"touch",3:"pen",4:"mouse"};af.prototype.h=function(){af.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var uf="closure_listenable_"+(1e6*Math.random()|0),xhe=0;function Ahe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++xhe,this.ca=this.fa=!1}function Z_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ey(n){this.src=n,this.g={},this.h=0}function rx(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=B$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Z_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ix(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}ey.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=ix(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new Ahe(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var sx="closure_lm_"+(1e6*Math.random()|0),ox={};function Z$(n,e,t,r,i){if(r&&r.once)return tH(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Z$(n,e[s],t,r,i);return null}return t=lx(t),n&&n[uf]?n.N(e,t,of(r)?!!r.capture:!!r,i):eH(n,e,t,!1,r,i)}function eH(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=of(i)?!!i.capture:!!i,a=ux(n);if(a||(n[sx]=a=new ey(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function(){var e=Rhe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Dhe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(rH(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function tH(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)tH(n,e[s],t,r,i);return null}return t=lx(t),n&&n[uf]?n.O(e,t,of(r)?!!r.capture:!!r,i):eH(n,e,t,!0,r,i)}function nH(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)nH(n,e[s],t,r,i);else r=of(r)?!!r.capture:!!r,t=lx(t),n&&n[uf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ix(s=n.g[e],t,r,i))&&(Z_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ux(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ix(e,t,r,i)),(t=-1<n?e[n]:null)&&ax(t))}function ax(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[uf])rx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(rH(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ux(e))?(rx(t,n),0==t.h&&(t.src=null,e[sx]=null)):Z_(n)}}}function rH(n){return n in ox?ox[n]:ox[n]="on"+n}function Rhe(n,e){if(n.ca)n=!0;else{e=new af(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ax(n),n=t.call(r,e)}return n}function ux(n){return(n=n[sx])instanceof ey?n:null}var cx="__closure_events_fn_"+(1e9*Math.random()>>>0);function lx(n){return"function"==typeof n?n:(n[cx]||(n[cx]=function(e){return n.handleEvent(e)}),n[cx])}function jn(){$o.call(this),this.i=new ey(this),this.P=this,this.I=null}function rr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mr(e,n);else if(e instanceof mr)e.target=e.target||n;else{var i=e;K$(e=new mr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=ty(o,r,!0,e)&&i}if(i=ty(o=e.g=n,r,!0,e)&&i,i=ty(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ty(o=e.g=t[s],r,!1,e)&&i}function ty(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&rx(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}nr(jn,$o),jn.prototype[uf]=!0,jn.prototype.removeEventListener=function(n,e,t,r){nH(this,n,e,t,r)},jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Z_(t[r]);delete n.g[e],n.h--}}this.I=null},jn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dx=et.JSON.stringify;function khe(){var n=sH;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fx,iH=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ohe,n=>n.reset());class Ohe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Phe(n){et.setTimeout(()=>{throw n},0)}function hx(n,e){fx||function(){var n=et.Promise.resolve(void 0);fx=function(){n.then(Lhe)}}(),px||(fx(),px=!0),sH.add(n,e)}var px=!1,sH=new class{constructor(){this.h=this.g=null}add(e,t){const r=iH.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Lhe(){for(var n;n=khe();){try{n.h.call(n.g)}catch(t){Phe(t)}var e=iH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}px=!1}function ny(n,e){jn.call(this),this.h=n||1,this.g=e||et,this.j=tr(this.kb,this),this.l=Date.now()}function gx(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function mx(n,e,t){if("function"==typeof n)t&&(n=tr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tr(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function oH(n){n.g=mx(()=>{n.g=null,n.i&&(n.i=!1,oH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}nr(ny,jn),(ke=ny.prototype).da=!1,ke.S=null,ke.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rr(this,"tick"),this.da&&(gx(this),this.start()))}},ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ke.M=function(){ny.Z.M.call(this),gx(this),delete this.g};class Vhe extends $o{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oH(this)}M(){super.M(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cf(n){$o.call(this),this.h=n,this.g={}}nr(cf,$o);var aH=[];function uH(n,e,t,r){Array.isArray(t)||(t&&(aH[0]=t.toString()),t=aH);for(var i=0;i<t.length;i++){var s=Z$(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function cH(n){YS(n.g,function(e,t){this.g.hasOwnProperty(t)&&ax(e)},n),n.g={}}function ry(){this.g=!0}function el(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return dx(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}cf.prototype.M=function(){cf.Z.M.call(this),cH(this)},cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ry.prototype.Aa=function(){this.g=!1},ry.prototype.info=function(){};var Ka={},lH=null;function iy(){return lH=lH||new jn}function dH(n){mr.call(this,Ka.Ma,n)}function lf(n){const e=iy();rr(e,new dH(e,n))}function hH(n,e){mr.call(this,Ka.STAT_EVENT,n),this.stat=e}function Mr(n){const e=iy();rr(e,new hH(e,n))}function fH(n,e){mr.call(this,Ka.Na,n),this.size=e}function df(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}Ka.Ma="serverreachability",nr(dH,mr),Ka.STAT_EVENT="statevent",nr(hH,mr),Ka.Na="timingevent",nr(fH,mr);var sy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pH={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _x(){}function mH(){}_x.prototype.h=null;var wx,hf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yx(){mr.call(this,"d")}function vx(){mr.call(this,"c")}function oy(){}function ff(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new cf(this),this.P=Hhe,this.W=new ny(n=XS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _H}function _H(){this.i=null,this.g="",this.h=!1}nr(yx,mr),nr(vx,mr),nr(oy,_x),oy.prototype.g=function(){return new XMLHttpRequest},oy.prototype.i=function(){return{}},wx=new oy;var Hhe=45e3,Ex={},ay={};function bx(n,e,t){n.K=1,n.v=hy(io(e)),n.s=t,n.U=!0,yH(n,null)}function yH(n,e){n.F=Date.now(),pf(n),n.A=io(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),SH(t.h,"t",r),n.C=0,t=n.l.H,n.h=new _H,n.g=YH(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Vhe(tr(n.Ia,n,n.g),n.O)),uH(n.V,n.g,"readystatechange",n.gb),e=n.H?z$(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),lf(1),function(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&"type"==h[1]?o+(d+"=")+c+"&":o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vH(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function wH(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Ghe(n,t),i==ay){4==e&&(n.o=4,Mr(14),r=!1),el(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ex){n.o=4,Mr(15),el(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}el(n.j,n.m,i,null),Cx(n,i)}vH(n)&&i!=ay&&i!=Ex&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ox(e),e.L=!0,Mr(11))):(el(n.j,n.m,t,"[Invalid Chunked Response]"),Qa(n),gf(n))}function Ghe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ay:(t=Number(e.substring(t,r)),isNaN(t)?Ex:(r+=1)+t>e.length?ay:(e=e.substr(r,t),n.C=r+t,e))}function pf(n){n.Y=Date.now()+n.P,EH(n,n.P)}function EH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=df(tr(n.eb,n),e)}function uy(n){n.B&&(et.clearTimeout(n.B),n.B=null)}function gf(n){0==n.l.G||n.I||zH(n.l,n)}function Qa(n){uy(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,gx(n.W),cH(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Cx(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dx(t.i,n)))if(t.I=n.N,!n.J&&Dx(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=df(tr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;yy(t),my(t)}Nx(t),Mr(18)}if(1>=MH(t.i)&&t.ka){try{t.ka()}catch(c){}t.ka=void 0}}else Xa(t,11)}else if((n.J||t.g==n)&&yy(t),!J_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const d=c[3];null!=d&&(t.ma=d,t.h.info("VER="+t.ma));const h=c[4];null!=h&&(t.za=h,t.h.info("SVER="+t.za));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(t.K=r=1.5*m,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const T=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var s=r.i;!s.g&&(xr(T,"spdy")||xr(T,"quic")||xr(T,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Sx(s,s.h),s.h=null))}if(r.D){const N=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(r.sa=N,zt(r.F,r.D,N))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=QH(r,r.H?r.la:null,r.W),o.J){RH(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(uy(a),pf(a)),r.g=o}else GH(r);0<t.l.length&&_y(t)}else"stop"!=c[0]&&"close"!=c[0]||Xa(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xa(t,7):Rx(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}lf(4)}catch(c){}}function Ix(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zS(n)||"string"==typeof n)j$(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(zS(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(zS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function tl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof tl)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Tx(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ya(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ya(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ya(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ke=ff.prototype).setTimeout=function(n){this.P=n},ke.gb=function(n){n=n.target;const e=this.L;e&&3==so(n)?e.l():this.Ia(n)},ke.Ia=function(n){try{if(n==this.g)e:{const d=so(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>d)&&(3!=d||XS||this.g&&(this.h.h||this.g.ga()||UH(this.g)))){this.I||4!=d||7==e||lf(8==e||0>=h?3:2),uy(this);var t=this.g.ba();this.N=t;t:if(vH(this)){var r=UH(this.g);n="";var i=r.length,s=4==so(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qa(this),gf(this);var o="";break t}this.h.i=new et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,d,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J_(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Mr(12),Qa(this),gf(this);break e}el(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cx(this,t)}this.U?(wH(this,d,o),XS&&this.i&&3==d&&(uH(this.V,this.W,"tick",this.fb),this.W.start())):(el(this.j,this.m,o,null),Cx(this,o)),4==d&&Qa(this),this.i&&!this.I&&(4==d?zH(this.l,this):(this.i=!1,pf(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),Qa(this),gf(this)}}}catch(d){}},ke.fb=function(){if(this.g){var n=so(this.g),e=this.g.ga();this.C<e.length&&(uy(this),wH(this,n,e),this.i&&4!=n&&pf(this))}},ke.cancel=function(){this.I=!0,Qa(this)},ke.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(lf(3),Mr(17)),Qa(this),this.o=2,gf(this)):EH(this,this.Y-n)},(ke=tl.prototype).R=function(){Tx(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ke.T=function(){return Tx(this),this.g.concat()},ke.get=function(n,e){return Ya(this.h,n)?this.h[n]:e},ke.set=function(n,e){Ya(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ke.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var bH=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ja(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ja){this.g=void 0!==e?e:n.g,cy(this,n.j),this.s=n.s,ly(this,n.i),dy(this,n.m),this.l=n.l,e=n.h;var t=new yf;t.i=e.i,e.g&&(t.g=new tl(e.g),t.h=e.h),CH(this,t),this.o=n.o}else n&&(t=String(n).match(bH))?(this.g=!!e,cy(this,t[1]||"",!0),this.s=mf(t[2]||""),ly(this,t[3]||"",!0),dy(this,t[4]),this.l=mf(t[5]||"",!0),CH(this,t[6]||"",!0),this.o=mf(t[7]||"")):(this.g=!!e,this.h=new yf(null,this.g))}function io(n){return new Ja(n)}function cy(n,e,t){n.j=t?mf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ly(n,e,t){n.i=t?mf(e,!0):e}function dy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function CH(n,e,t){e instanceof yf?(n.h=e,function(n,e){e&&!n.j&&(Ho(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(TH(this,r),SH(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=_f(e,Xhe)),n.h=new yf(e,n.g))}function zt(n,e,t){n.h.set(e,t)}function hy(n){return zt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _f(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Qhe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Qhe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ja.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_f(e,IH,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_f(e,IH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(_f(t,"/"==t.charAt(0)?Jhe:Yhe,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_f(t,Zhe)),n.join("")};var IH=/[#\/\?@]/g,Yhe=/[#\?:]/g,Jhe=/[#\?]/g,Xhe=/[#\?@]/g,Zhe=/#/g;function yf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ho(n){n.g||(n.g=new tl,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TH(n,e){Ho(n),e=nl(n,e),Ya(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ya((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Tx(n)))}function DH(n,e){return Ho(n),e=nl(n,e),Ya(n.g.h,e)}function SH(n,e,t){TH(n,e),0<t.length&&(n.i=null,n.g.set(nl(n,e),KS(t)),n.h+=t.length)}function nl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xH(n){this.l=n||nfe,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ea&&et.g.Ea()&&et.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ke=yf.prototype).add=function(n,e){Ho(this),this.i=null,n=nl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ke.forEach=function(n,e){Ho(this),this.g.forEach(function(t,r){j$(t,function(i){n.call(e,i,r,this)},this)},this)},ke.T=function(){Ho(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},ke.R=function(n){Ho(this);var e=[];if("string"==typeof n)DH(this,n)&&(e=$$(e,this.g.get(nl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=$$(e,n[t])}return e},ke.set=function(n,e){return Ho(this),this.i=null,DH(this,n=nl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ke.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var nfe=10;function AH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MH(n){return n.h?1:n.g?n.g.size:0}function Dx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Sx(n,e){n.g?n.g.add(e):n.h=e}function RH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return KS(n.i)}function xx(){}function rfe(){this.g=new xx}function ife(n,e,t){const r=t||"";try{Ix(n,function(i,s){let o=i;of(i)&&(o=dx(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function vf(n){this.l=n.$b||null,this.j=n.ib||!1}function py(n,e){jn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ax,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xH.prototype.cancel=function(){if(this.i=kH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xx.prototype.stringify=function(n){return et.JSON.stringify(n,void 0)},xx.prototype.parse=function(n){return et.JSON.parse(n,void 0)},nr(vf,_x),vf.prototype.g=function(){return new py(this.l,this.j)},vf.prototype.i=function(n){return function(){return n}}({}),nr(py,jn);var Ax=0;function NH(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ef(n)}function Ef(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ke=py.prototype).open=function(n,e){if(this.readyState!=Ax)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ef(this)},ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||et).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wf(this)),this.readyState=Ax},ke.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ef(this)),this.g&&(this.readyState=3,Ef(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==et.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NH(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ke.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wf(this):Ef(this),3==this.readyState&&NH(this)}},ke.Ua=function(n){this.g&&(this.response=this.responseText=n,wf(this))},ke.Ta=function(n){this.g&&(this.response=n,wf(this))},ke.ha=function(){this.g&&wf(this)},ke.setRequestHeader=function(n,e){this.v.append(n,e)},ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(py.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ofe=et.JSON.parse;function wn(n){jn.call(this),this.headers=new tl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OH,this.K=this.L=!1}nr(wn,jn);var OH="",afe=/^https?$/i,ufe=["POST","PUT"];function lfe(n){return"content-type"==n.toLowerCase()}function PH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,FH(n),gy(n)}function FH(n){n.D||(n.D=!0,rr(n,"complete"),rr(n,"error"))}function LH(n){if(n.h&&void 0!==WS&&(!n.C[1]||4!=so(n)||2!=n.ba()))if(n.v&&4==so(n))mx(n.Fa,0,n);else if(rr(n,"readystatechange"),4==so(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(bH)[1]||null;if(!i&&et.self&&et.self.location){var s=et.self.location.protocol;i=s.substr(0,s.length-1)}r=!afe.test(i?i.toLowerCase():"")}t=r}if(t)rr(n,"complete"),rr(n,"success");else{n.m=6;try{var o=2<so(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",FH(n)}}finally{gy(n)}}}function gy(n,e){if(n.g){VH(n);const t=n.g,r=n.C[0]?Q_:null;n.g=null,n.C=null,e||rr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function VH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function so(n){return n.g?n.g.readyState:0}function UH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return YS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zt(n,e,t))}function bf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function BH(n){this.za=0,this.l=[],this.h=new ry,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bf("baseRetryDelayMs",5e3,n),this.$a=bf("retryDelaySeedMs",1e4,n),this.Ya=bf("forwardChannelMaxRetries",2,n),this.ra=bf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new xH(n&&n.concurrentRequestLimit),this.Ca=new rfe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Rx(n){if(jH(n),3==n.G){var e=n.V++,t=io(n.F);zt(t,"SID",n.J),zt(t,"RID",e),zt(t,"TYPE","terminate"),Cf(n,t),(e=new ff(n,n.h,e,void 0)).K=2,e.v=hy(io(t)),t=!1,et.navigator&&et.navigator.sendBeacon&&(t=et.navigator.sendBeacon(e.v.toString(),"")),!t&&et.Image&&((new Image).src=e.v,t=!0),t||(e.g=YH(e.l,null),e.g.ea(e.v)),e.F=Date.now(),pf(e)}KH(n)}function my(n){n.g&&(Ox(n),n.g.cancel(),n.g=null)}function jH(n){my(n),n.u&&(et.clearTimeout(n.u),n.u=null),yy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function kx(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&_y(n)}function _y(n){AH(n.i)||n.m||(n.m=!0,hx(n.Ha,n),n.C=0)}function $H(n,e){var t;t=e?e.m:n.V++;const r=io(n.F);zt(r,"SID",n.J),zt(r,"RID",t),zt(r,"AID",n.U),Cf(n,r),n.o&&n.s&&Mx(r,n.o,n.s),t=new ff(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=HH(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Sx(n.i,t),bx(t,r,e)}function Cf(n,e){n.j&&Ix({},function(t,r){zt(e,r,t)})}function HH(n,e,t){t=Math.min(n.l.length,t);var r=n.j?tr(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].h;const d=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{ife(d,o,"req"+c+"_")}catch(h){r&&r(d)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function GH(n){n.g||n.u||(n.Y=1,hx(n.Ga,n),n.A=0)}function Nx(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=df(tr(n.Ga,n),qH(n,n.A)),n.A++,0))}function Ox(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function WH(n){n.g=new ff(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=io(n.oa);zt(e,"RID","rpc"),zt(e,"SID",n.J),zt(e,"CI",n.N?"0":"1"),zt(e,"AID",n.U),Cf(n,e),zt(e,"TYPE","xmlhttp"),n.o&&n.s&&Mx(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=hy(io(e)),t.s=null,t.U=!0,yH(t,n)}function yy(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function zH(n,e){var t=null;if(n.g==e){yy(n),Ox(n),n.g=null;var r=2}else{if(!Dx(n.i,e))return;t=e.D,RH(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;rr(r=iy(),new fH(r,t,e,i)),_y(n)}else GH(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(MH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=df(tr(n.Ha,n,e),qH(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Xa(n,5);break;case 4:Xa(n,10);break;case 3:Xa(n,6);break;default:Xa(n,2)}}function qH(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Xa(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=tr(n.jb,n);t||(t=new Ja("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||cy(t,"https"),hy(t)),function(n,e){const t=new ry;if(et.Image){const r=new Image;r.onload=Y_(fy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Y_(fy,t,r,"TestLoadImage: error",!1,e),r.onabort=Y_(fy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Y_(fy,t,r,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Mr(2);n.G=0,n.j&&n.j.va(e),KH(n),jH(n)}function KH(n){n.G=0,n.I=-1,n.j&&((0!=kH(n.i).length||0!=n.l.length)&&(n.i.i.length=0,KS(n.l),n.l.length=0),n.j.ua())}function QH(n,e,t){let r=function(n){return n instanceof Ja?io(n):new Ja(n,void 0)}(t);if(""!=r.i)e&&ly(r,e+"."+r.i),dy(r,r.m);else{const i=et.location;r=function(n,e,t,r){var i=new Ja(null,void 0);return n&&cy(i,n),e&&ly(i,e),t&&dy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&YS(n.aa,function(i,s){zt(r,s,i)}),t=n.sa,(e=n.D)&&t&&zt(r,e,t),zt(r,"VER",n.ma),Cf(n,r),r}function YH(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wn(t&&n.Ba&&!n.qa?new vf({ib:!0}):n.qa)).L=n.H,e}function JH(){}function vy(){if(Zc&&!(10<=Number(The)))throw Error("Environmental error: no available transport.")}function ai(n,e){jn.call(this),this.g=new BH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!J_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!J_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rl(this)}function XH(n){yx.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ZH(){vx.call(this),this.status=1}function rl(n){this.g=n}(ke=wn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wx.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:wx),this.g.onreadystatechange=tr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void PH(this,s)}n=t||"";const i=new tl(this.headers);r&&Ix(r,function(s,o){i.set(o,s)}),r=function(n){e:{var e=lfe;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=et.FormData&&n instanceof et.FormData,!(0<=B$(ufe,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VH(this),0<this.B&&((this.K=function(n){return Zc&&Ihe()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.pa,this)):this.A=mx(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){PH(this,s)}},ke.pa=function(){void 0!==WS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))},ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rr(this,"complete"),rr(this,"abort"),gy(this))},ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gy(this,!0)),wn.Z.M.call(this)},ke.Fa=function(){this.s||(this.F||this.v||this.l?LH(this):this.cb())},ke.cb=function(){LH(this)},ke.ba=function(){try{return 2<so(this)?this.g.status:-1}catch(n){return-1}},ke.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ke.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ofe(e)}},ke.Da=function(){return this.m},ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ke=BH.prototype).ma=8,ke.G=1,ke.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ke.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ff(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=z$(s),K$(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HH(this,i,e),zt(t=io(this.F),"RID",n),zt(t,"CVER",22),this.D&&zt(t,"X-HTTP-Session-Id",this.D),Cf(this,t),this.o&&s&&Mx(t,this.o,s),Sx(this.i,i),this.Ra&&zt(t,"TYPE","init"),this.ja?(zt(t,"$req",e),zt(t,"SID","null"),i.$=!0,bx(i,t,null)):bx(i,t,e),this.G=2}}else 3==this.G&&(n?$H(this,n):0==this.l.length||AH(this.i)||$H(this))},ke.Ga=function(){if(this.u=null,WH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=df(tr(this.bb,this),n)}},ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mr(10),my(this),WH(this))},ke.ab=function(){null!=this.v&&(this.v=null,my(this),Nx(this),Mr(19))},ke.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Mr(2)):(this.h.info("Failed to ping google.com"),Mr(1))},(ke=JH.prototype).xa=function(){},ke.wa=function(){},ke.va=function(){},ke.ua=function(){},ke.Oa=function(){},vy.prototype.g=function(n,e){return new ai(n,e)},nr(ai,jn),ai.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),hx(tr(n.hb,n,e))),Mr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=QH(n,null,n.W),_y(n)},ai.prototype.close=function(){Rx(this.g)},ai.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,kx(this.g,e)}else this.v?((e={}).__data__=dx(n),kx(this.g,e)):kx(this.g,n)},ai.prototype.M=function(){this.g.j=null,delete this.j,Rx(this.g),delete this.g,ai.Z.M.call(this)},nr(XH,yx),nr(ZH,vx),nr(rl,JH),rl.prototype.xa=function(){rr(this.g,"a")},rl.prototype.wa=function(n){rr(this.g,new XH(n))},rl.prototype.va=function(n){rr(this.g,new ZH(n))},rl.prototype.ua=function(){rr(this.g,"b")},vy.prototype.createWebChannel=vy.prototype.g,ai.prototype.send=ai.prototype.u,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,sy.NO_ERROR=0,sy.TIMEOUT=8,sy.HTTP_ERROR=6,pH.COMPLETE="complete",mH.EventType=hf,hf.OPEN="a",hf.CLOSE="b",hf.ERROR="c",hf.MESSAGE="d",jn.prototype.listen=jn.prototype.N,wn.prototype.listenOnce=wn.prototype.O,wn.prototype.getLastError=wn.prototype.La,wn.prototype.getLastErrorCode=wn.prototype.Da,wn.prototype.getStatus=wn.prototype.ba,wn.prototype.getResponseJson=wn.prototype.Qa,wn.prototype.getResponseText=wn.prototype.ga,wn.prototype.send=wn.prototype.ea,ro.createWebChannelTransport=function(){return new vy},ro.getStatEventTarget=function(){return iy()},ro.ErrorCode=sy,ro.EventType=pH,ro.Event=Ka,ro.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ro.FetchXmlHttpFactory=vf,ro.WebChannel=mH,ro.XhrIo=wn;const eG="@firebase/firestore";class $n{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");let If="9.9.2";const Go=new Ta("@firebase/firestore");function he(n,...e){if(Go.logLevel<=bt.DEBUG){const t=e.map(Fx);Go.debug(`Firestore (${If}): ${n}`,...t)}}function dn(n,...e){if(Go.logLevel<=bt.ERROR){const t=e.map(Fx);Go.error(`Firestore (${If}): ${n}`,...t)}}function Fx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Pe(n="Unexpected state"){const e=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: `+n;throw dn(e),new Error(e)}function Qe(n,e){n||Pe()}const J_CANCELLED="cancelled",J_INVALID_ARGUMENT="invalid-argument",J_FAILED_PRECONDITION="failed-precondition",J_UNAVAILABLE="unavailable";class de extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ffe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($n.UNAUTHENTICATED))}shutdown(){}}class gfe{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(B(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe("string"==typeof r.accessToken),new tG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(null===e||"string"==typeof e),new $n(e)}}class mfe{constructor(e,t,r){this.type="FirstParty",this.user=$n.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class _fe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mfe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yfe{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe("string"==typeof t.token),this.p=t.token,new nG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vfe(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function tt(n,e){return n<e?-1:n>e?1:0}class wy{constructor(e,t,r){void 0===t?t=0:t>e.length&&Pe(),void 0===r?r=e.length-t:r>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===wy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wy?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends wy{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(vt.fromString(e))}static fromName(e){return new be(vt.fromString(e).popFirst(5))}static empty(){return new be(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new vt(e.slice()))}}function zo(n){return"IndexedDbTransactionError"===n.name}class on{constructor(e,t){this.comparator=e,this.root=t||ir.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iy(this.root,e,this.comparator,!0)}}class Iy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:ir.RED,this.left=null!=i?i:ir.EMPTY,this.right=null!=s?s:ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ir(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ir(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rt{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dG(this.data.getIterator())}getIteratorFrom(e){return new dG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class dG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new An(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new An(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function an(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}An.EMPTY_BYTE_STRING=new An("");class xfe{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ko{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}var En,wt;(wt=En||(En={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS",new on(be.comparator),new on(be.comparator),new on(be.comparator),new Rt(be.comparator),new Rt(tt);class du{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(an(e.integerValue));else if("doubleValue"in e){const r=an(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),function(n){return 0===n&&1/n==-1/0}(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(function(n){return"string"==typeof n?An.fromBase64String(n):An.fromUint8Array(n)}(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?function(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Pe()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),be.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}du.ye=new du,new Uint8Array(0);class Hr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zy(){return"undefined"!=typeof document?document:null}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class vA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class LA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new LA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(J_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class ime{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=class{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vfe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=B(function*(a){he("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return B(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(J_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(B(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function(n,e){if(dn("AsyncQueue",`${e}: ${n}`),zo(n))return new de(J_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const TW=new Map;class AW{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new de(J_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new de(J_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(n,e,t,r){if(!0===e&&!0===r)throw new de(J_INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mme{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vA(this,"async_queue_retry"),this.Kc=()=>{const t=zy();t&&he("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=zy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=zy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Hn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return B(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!zo(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,dn("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=LA.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&Pe()}verifyOperationInProgress(){}zc(){var e=this;return B(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class qt extends class{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AW({}),this._settingsFrozen=!1,e instanceof Ko?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new de(J_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(i.options.projectId)}(e))}get app(){if(!this._app)throw new de(J_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new de(J_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ffe;switch(t.type){case"gapi":const r=t.client;return Qe(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new _fe(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new de(J_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TW.get(e);t&&(he("ComponentProvider","Removing Datastore"),TW.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new mme,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||function(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xfe(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new ime(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function yme(n=dh()){return So(n,"firestore").getImmediate()}!function(n,e=!0){If="9.9.3",Xn(new Fn("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new qt(i,new gfe(t.getProvider("auth-internal")),new yfe(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Mt(eG,"3.4.14",n),Mt(eG,"3.4.14","esm2017")}();class k1{constructor(e){return e}}const XW="firestore",N1=new Ke("angularfire2.firestore-instances");function Fme(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new k1(r)}}const Lme={provide:class{constructor(){return gh(XW)}},deps:[[new St,N1]]},Vme={provide:k1,useFactory:function(n,e){const t=ph(XW,n,e);return t&&new k1(t)},deps:[[new St,N1],Ao]};let Ume=(()=>{class n{constructor(){Mt("angularfire",Pc.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[Vme,Lme]}),n})();function Bme(n,...e){return{ngModule:Ume,providers:[{provide:N1,useFactory:Fme(n),multi:!0,deps:[Lt,Kt,mh,yh,[new St,f_],[new St,Eh],...e]}]}}const jme=_h(yme,!0),P1="functions";class zme{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return B(function*(){if(e.auth)try{const t=yield e.auth.getToken();return null==t?void 0:t.accessToken}catch(t){return}})()}getMessagingToken(){var e=this;return B(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch(t){return}})()}getAppCheckToken(){var e=this;return B(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return B(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const F1="us-central1";class Kme{constructor(e,t,r,i,s=F1,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new zme(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=F1}catch(a){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const nz="@firebase/functions";function i_e(n=dh(),e=F1){return So(Do(n),P1).getImmediate({identifier:e})}!function(n,e){Xn(new Fn(P1,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new Kme(s,o,a,u,i,n)},"PUBLIC").setMultipleInstances(!0)),Mt(nz,"0.8.4",void 0),Mt(nz,"0.8.4","esm2017")}(fetch.bind(self));class U1{constructor(e){return e}}const iz="functions",B1=new Ke("angularfire2.functions-instances");function a_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new U1(r)}}const u_e={provide:class{constructor(){return gh(iz)}},deps:[[new St,B1]]},c_e={provide:U1,useFactory:function(n,e){const t=ph(iz,n,e);return t&&new U1(t)},deps:[[new St,B1],Ao]};let l_e=(()=>{class n{constructor(){Mt("angularfire",Pc.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n}),n.\u0275inj=C({providers:[c_e,u_e]}),n})();function d_e(n,...e){return{ngModule:l_e,providers:[{provide:B1,useFactory:a_e(n),multi:!0,deps:[Lt,Kt,mh,yh,[new St,f_],[new St,Eh],...e]}]}}const h_e=_h(i_e,!0);let f_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rn({type:n,bootstrap:[FX]}),n.\u0275inj=C({providers:[{provide:dm,useFactory:()=>({enabled:true,registrationStrategy:"registerImmediately"})}],imports:[[AY,UJ,DX,Q2,uX.register("ngsw-worker.js"),Qee,dse(()=>hse(Qd_firebase)),Bue(()=>jue()),lhe(()=>dhe()),Bme(()=>jme()),d_e(()=>h_e())]]}),n})();DP=!1,SY().bootstrapModule(f_e).catch(n=>console.error(n))}},_r=>{_r(_r.s=376)}]);